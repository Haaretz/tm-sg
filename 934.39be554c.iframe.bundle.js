"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[934],{"../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ImageFragmentGql});const ImageFragmentGql="\n    fragment ImageFragment on htz_image_Image {\n  __typename\n  alt\n  caption\n  contentId\n  credit\n  files {\n    crops {\n      headline {\n        ...ImageCropFragment\n      }\n      landscape {\n        ...ImageCropFragment\n      }\n      regular {\n        ...ImageCropFragment\n      }\n      square {\n        ...ImageCropFragment\n      }\n      vertical {\n        ...ImageCropFragment\n      }\n      wide {\n        ...ImageCropFragment\n      }\n    }\n    height\n    path\n    width\n  }\n  link\n  photographer\n  type\n}\n    "},"../../graphql/s-fragments/src/__generated__/ImageCrop.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>ImageCropFragmentGql});const ImageCropFragmentGql="\n    fragment ImageCropFragment on ImageCrop {\n  __typename\n  height\n  width\n  x\n  y\n}\n    "},"../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RF:()=>usePurchasePagePersonalQuery});__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js");var HTZ_image_Image=__webpack_require__("../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts"),ImageCrop=__webpack_require__("../../graphql/s-fragments/src/__generated__/ImageCrop.ts");var useQuery=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),GraphqlFetcher=(__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs"),__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx"));const PurchasePagePersonalQueryDocument=`\n    query PurchasePagePersonalQuery($couponId: String, $pathSegment: String, $selectedOfferId: String, $ticketId: String, $userId: String, $cartData: Boolean, $previousSteps: String) {\n  PurchasePage(\n    couponId: $couponId\n    pathSegment: $pathSegment\n    selectedOfferId: $selectedOfferId\n    ticketId: $ticketId\n    userId: $userId\n    cartData: $cartData\n    previousSteps: $previousSteps\n  ) {\n    pageData {\n      ...PageDataFragment\n    }\n  }\n}\n    \n    fragment PageDataFragment on PageData {\n  allSteps {\n    ...StepDataFragment\n  }\n  contentId\n  couponId\n  couponErrorMessage\n  toggleKicker {\n    ...PurchaseToggleKickerFragment\n  }\n  annual {\n    ...PurchaseOfferFragment\n  }\n  marketingBullets {\n    ...MarketingBulletFragment\n  }\n  monthly {\n    ...PurchaseOfferFragment\n  }\n  personalCouponId\n  steps {\n    ...StepDataFragment\n  }\n  specialSaleData {\n    ...SpecialSaleDataFragment\n  }\n  thankYouPageText\n  cartData {\n    ...CartDataFragment\n  }\n  image {\n    ...ImageFragment\n  }\n  selectedOffer {\n    ...PurchaseOfferFragment\n  }\n}\n    \n\n    fragment StepDataFragment on StepData {\n  __typename\n  content {\n    ...HtmlNodeFragment\n  }\n  instructions\n  messageIds\n  messages\n  name\n  title\n}\n    \n\n    fragment HtmlNodeFragment on HtmlNode {\n  __typename\n  as: tag\n  content\n  id\n}\n    \n\n    fragment PurchaseToggleKickerFragment on PurchaseToggleKicker {\n  __typename\n  billing\n  text\n}\n    \n\n    fragment PurchaseOfferFragment on PurchaseOffer {\n  __typename\n  benefits {\n    ...HtmlNodeFragment\n  }\n  benefitsHeading\n  contentId\n  description\n  exclusive\n  exclusiveStrip\n  legalText {\n    ...HtmlNodeFragment\n  }\n  line1Text {\n    ...HtmlNodeFragment\n  }\n  line2Text {\n    ...HtmlNodeFragment\n  }\n  note\n  offerHighlight\n  offerType\n  paymentType\n  periodCalc\n  prices\n  product\n  productName\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n}\n    \n\n    fragment MarketingBulletFragment on MarketingBullet {\n  __typename\n  text\n  title\n}\n    \n\n    fragment SpecialSaleDataFragment on SpecialSaleData {\n  __typename\n  exclusive\n  image {\n    ...ImageFragment\n  }\n  title\n}\n    \n${HTZ_image_Image.I}\n${ImageCrop.T}\n\n    fragment CartDataFragment on CartData {\n  approveDebtClaim\n  contentId\n  periodCalc\n  prices\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n  paymentType\n  __typename\n}\n    `,usePurchasePagePersonalQuery=(variables,options)=>(0,useQuery.a)(void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables],(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables),options);usePurchasePagePersonalQuery.document=PurchasePagePersonalQueryDocument,usePurchasePagePersonalQuery.getKey=variables=>void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables];usePurchasePagePersonalQuery.fetcher=(variables,options)=>(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables,options)},"../../hooks/s-use-config/src/useConfig.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>ConfigContext,Z:()=>useConfig});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ConfigContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function useConfig(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(ConfigContext);if(void 0===context)throw new Error("useConfig must be used within a ConfigContext");return context}},"../../pp-hooks/s-use-pp-data-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx").ZP},"../../pp-hooks/s-use-pp-data-variables/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),usePPDataStore=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx"),dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.6_next@13.4.5_react@18.2.0/node_modules/next-router-mock/dist/index.js"),src_discardNullableValues=__webpack_require__("../../utils/s-common-utils/src/discardNullableValues/index.ts");const src_discardValues=(object,discard)=>{const result={};for(const key in object)discard[key]||(result[key]=object[key]);return result};var usePPStepsOffsetStore=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx"),isAbandonedCartRoute=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts"),user=__webpack_require__("../../utils/s-atoms/src/user/index.ts");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function getVariabelFromQuery(query,isLoggedIn){return{pathSegment:query.pathSegment,cartData:isLoggedIn&&(0,isAbandonedCartRoute.Z)(query),previousSteps:""}}const src=function usePpDataVariables(excludeValues){const router=(0,dist.useRouter)(),{contentId}=(0,usePPDataStore.JV)(),couponId=(0,usePPDataStore.vA)(),offsetSteps=(0,usePPStepsOffsetStore.np)(),[userData]=(0,user.Z)(),previousSteps=offsetSteps.join(","),variabelFromQuery=react.useMemo((()=>getVariabelFromQuery(router.query,userData.isLoggedIn||!1)),[router.query,userData?.isLoggedIn]);return react.useMemo((()=>(0,src_discardNullableValues.Z)(src_discardValues(_objectSpread(_objectSpread({},variabelFromQuery),{},{selectedOfferId:userData?.isLoggedIn?contentId:void 0,couponId,previousSteps:variabelFromQuery.previousSteps||previousSteps}),excludeValues||{}))),[contentId,couponId,excludeValues,previousSteps,userData?.isLoggedIn,variabelFromQuery])}},"../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx").ZP},"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qf:()=>usePPOffsetStepsStoreActions,R8:()=>usePpPrevStepInitialization,ZP:()=>PPOffsetStepsStoreContextProvider,np:()=>usePPOffsetStepsStore,q9:()=>usePPPrevStepsStore,v:()=>usePPPrevStepsStoreActions});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.6_next@13.4.5_react@18.2.0/node_modules/next-router-mock/dist/index.js"),_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts"),_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts"),_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../shared/s-consts/src/index.ts");react__WEBPACK_IMPORTED_MODULE_0__.createElement;const OffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),PrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdapteOffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdaptePrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function PPOffsetStepsStoreContextProvider(_ref){let{children,initialState}=_ref;const[prevSteps,setPrevSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState([]),[offsetSteps,setOffsetSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState(initialState||[]),isFilledRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(initialState?.includes("login")||!1),[user]=(0,_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__.Z)(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)(),offsetStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushStep:step=>{if(!isFilledRef.current){const isLoggedInOnOffersPage=user?.userName&&"offers"===step;user?.userName&&"login"!==step&&!isLoggedInOnOffersPage||(("login"===step||isLoggedInOnOffersPage)&&(isFilledRef.current=!0),setOffsetSteps((prevState=>[...prevState,step])))}},clearSteps:()=>{setOffsetSteps([]),isFilledRef.current=!1}})),[user?.userName]),prevStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushPrevStep:step=>{(0,_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z)(step)&&setPrevSteps((prevState=>prevState.includes(step)?prevState:[...prevState,step]))},pushPrevSteps:steps=>{prevSteps.length<=1&&steps.length&&setPrevSteps((prevState=>[...steps.filter(_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z).filter((step=>!prevState.includes(step))),...prevState]))},getPrevSteps:()=>prevSteps})),[prevSteps]),resultOffsetSteps=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{const currentStepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);return isFilledRef.current&&"offers"!==currentStepName&&"coupon"!==currentStepName?offsetSteps:[]}),[offsetSteps,router.pathname]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OffsetStepsContext.Provider,{value:resultOffsetSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrevStepsContext.Provider,{value:prevSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdapteOffsetStepsContext.Provider,{value:offsetStepsActions},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdaptePrevStepsContext.Provider,{value:prevStepsActions},children))))}function usePPOffsetStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(OffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(PrevStepsContext);if(!context)throw new Error("usePPPrevStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPOffsetStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdapteOffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdaptePrevStepsContext);if(!context)throw new Error("usePPPrevStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePpPrevStepInitialization(){const prevSteps=usePPPrevStepsStore(),{pushPrevSteps}=usePPPrevStepsStoreActions(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const prevPagesString=sessionStorage.getItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB);if(prevPagesString)try{const prevPages=JSON.parse(prevPagesString);if(Array.isArray(prevPages)){const stepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);pushPrevSteps([...prevPages,stepName])}sessionStorage.removeItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB)}catch(error){console.error(error.message)}}),[prevSteps,pushPrevSteps,router.pathname])}PPOffsetStepsStoreContextProvider.__docgenInfo={description:"",methods:[],displayName:"PPOffsetStepsStoreContextProvider"};try{usePPStepsOffsetStore.displayName="usePPStepsOffsetStore",usePPStepsOffsetStore.__docgenInfo={description:"",displayName:"usePPStepsOffsetStore",props:{initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"PurchasePageSteps[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"]={docgenInfo:usePPStepsOffsetStore.__docgenInfo,name:"usePPStepsOffsetStore",path:"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>OfferCard});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),src=__webpack_require__("../../ds-atoms/s-card/src/index.ts"),next_link=__webpack_require__("../../../node_modules/.pnpm/next@13.4.5_@babel+core@7.22.5_babel-plugin-macros@3.1.0_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),src_user=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),s_use_impression_observer_src=__webpack_require__("../../hooks/s-use-impression-observer/src/index.ts"),s_use_pp_offer_card_operations_src=__webpack_require__("../../pp-hooks/s-use-pp-offer-card-operations/src/index.ts"),__jsx=react.createElement;const c_base={fontSize:"jrcYoY",lineHeight:"oZPxp",fontWeight:"iLdtFu",marginBottom:"lbEyiT","@media all and (max-width:37.4375em)":{fontSize:"kVRlxV",lineHeight:"iwyqjn",marginBottom:"grAQwG"},"@media all and (min-width:80em)":{fontSize:"ecfhKk",lineHeight:"klepka"}};function OfferNotice(_ref){let{productName,inlineStyle,styleExtend=[]}=_ref;return __jsx("h2",{className:(0,style9.Z)(c_base,...styleExtend),style:inlineStyle},productName)}OfferNotice.__docgenInfo={description:"",methods:[],displayName:"OfferNotice"};try{OfferTitle.displayName="OfferTitle",OfferTitle.__docgenInfo={description:"",displayName:"OfferTitle",props:{productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferTitle.tsx#OfferTitle"]={docgenInfo:OfferTitle.__docgenInfo,name:"OfferTitle",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferTitle.tsx#OfferTitle"})}catch(__react_docgen_typescript_loader_error){}var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),s_pp_terms_src=__webpack_require__("../../pp-molecules/s-pp-terms/src/index.ts"),isHtmlNode=__webpack_require__("../../utils/s-type-predicates/src/isHtmlNode/index.ts"),s_use_bi_src=__webpack_require__("../../hooks/s-use-bi/src/index.ts"),CancellableLine_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const CancellableLine_c_base={fontSize:"iKjpVA",lineHeight:"cVaJzg","@media all and (max-width:37.4375em)":{fontSize:"cBYxIC",lineHeight:"eHmSBo"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"gPowFU",lineHeight:"eaJJqD"},"@media all and (min-width:102em)":{fontSize:"iswsIN",lineHeight:"idfwQP"}},CancellableLine_c_cancelText={color:"bzRhTf",fontWeight:"iLdtFu"},CancellableLine_c_conditionsBtn={color:"dvkVMF",backgroundColor:"KqcXP",position:"cjScYX",textDecorationLine:"dLUwcr",zIndex:"jvKoxA",":hover":{color:"jxAkeG"}};function CancellableLine(_ref){let{legalText,biData,onTermsButtonClick,loading}=_ref;const[isOpen,setIsOpen]=react.useState(!1),biAction=(0,s_use_bi_src.Z)(),labelledById=react.useId(),isRichTextArray=legalText.every(isHtmlNode.Z),ppTemsOfferProps=onTermsButtonClick?{onButtonClick:onTermsButtonClick,loading}:{};return CancellableLine_jsx("div",{className:(0,style9.Z)(CancellableLine_c_base)},CancellableLine_jsx("span",{className:(0,style9.Z)(CancellableLine_c_cancelText)},"Cancel Anytime."," ",CancellableLine_jsx("button",{className:(0,style9.Z)(CancellableLine_c_conditionsBtn),onClick:()=>{setIsOpen(!isOpen),biAction(_objectSpread(_objectSpread({},biData),{},{action_id:26}))}},"Offer details")),CancellableLine_jsx(s_pp_terms_src.Z,(0,esm_extends.Z)({onToggle:setIsOpen,isOpen,title:"Terms and Conditions",labelledBy:labelledById,content:isRichTextArray?legalText:[]},ppTemsOfferProps)))}CancellableLine.__docgenInfo={description:"",methods:[],displayName:"CancellableLine"};try{CancellableLine.displayName="CancellableLine",CancellableLine.__docgenInfo={description:"",displayName:"CancellableLine",props:{legalText:{defaultValue:null,description:"",name:"legalText",required:!0,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[]'}},biData:{defaultValue:null,description:"",name:"biData",required:!1,type:{name:"BiDataOverrides | undefined"}},onTermsButtonClick:{defaultValue:null,description:"",name:"onTermsButtonClick",required:!1,type:{name:"((event: MouseEvent<HTMLElement, MouseEvent>, biDataExtend?: BiDataOverrides | undefined) => void) | undefined"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/CancellableLine.tsx#CancellableLine"]={docgenInfo:CancellableLine.__docgenInfo,name:"CancellableLine",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/CancellableLine.tsx#CancellableLine"})}catch(__react_docgen_typescript_loader_error){}var s_button_src=__webpack_require__("../../ds-atoms/s-button/src/index.ts"),OfferButton_jsx=react.createElement;const OfferButton_c={base:{marginBottom:"hlBtvm",marginTop:"sJymt",zIndex:"jvKoxA","@media all and (min-width:102em)":{marginBottom:"kLNdVL"}}};function OfferButton(_ref){let{onClick,state}=_ref;return OfferButton_jsx(s_button_src.ZP,(0,esm_extends.Z)({variant:"sales",styleExtend:[OfferButton_c.base],onClick},"busy"===state?{state,busyNotice:""}:{state}),"SUBSCRIBE NOW")}OfferButton.__docgenInfo={description:"",methods:[],displayName:"OfferButton"};try{OfferButton.displayName="OfferButton",OfferButton.__docgenInfo={description:"",displayName:"OfferButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement> | undefined"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"disabled"'},{value:'"auto"'},{value:'"busy"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferButton.tsx#OfferButton"]={docgenInfo:OfferButton.__docgenInfo,name:"OfferButton",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferButton.tsx#OfferButton"})}catch(__react_docgen_typescript_loader_error){}var s_rich_text_src=__webpack_require__("../../ds-atoms/s-rich-text/src/index.ts"),SubscriptionDetails_jsx=react.createElement;const SubscriptionDetails_c={base:{display:"gSBWlu",flexDirection:"iMkoWi",alignItems:"foGVKH",marginBottom:"dkSlsL",textAlign:"kooHYa","@media all and (max-width:37.4375em)":{marginBottom:"fGZoJx"}},marginByLines:{marginBottom:"dkSlsL","@media all and (min-width:102em)":{marginBottom:"iIusnl"}},line1:{color:"URsRO",fontSize:"cQdSVO",lineHeight:"cAYZDO","@media all and (max-width:37.4375em)":{fontSize:"eWbQjp",lineHeight:"eaAXPj"},"@media all and (min-width:80em)":{fontSize:"ebzelW",lineHeight:"fMbcjT"}},line2:{fontSize:"jrcYoY",lineHeight:"oZPxp","@media all and (max-width:37.4375em)":{fontSize:"kVRlxV",lineHeight:"iwyqjn"},"@media all and (min-width:80em)":{fontSize:"ecfhKk",lineHeight:"klepka"}},strongColor:{color:"URsRO"}};function SubscriptionDetails(_ref){let{line1:[line1],line2}=_ref;if(!(0,isHtmlNode.Z)(line1))return null;const{content:line1Content}=line1,line2Content=line2?.[0]&&(0,isHtmlNode.Z)(line2[0])?line2[0].content:null;return SubscriptionDetails_jsx("div",{className:(0,style9.Z)(SubscriptionDetails_c.base,!!line2Content&&SubscriptionDetails_c.marginByLines)},SubscriptionDetails_jsx(s_rich_text_src.Z,{as:"span",content:line1Content,styleExtend:[SubscriptionDetails_c.line1]}),line2Content&&SubscriptionDetails_jsx(s_rich_text_src.Z,{as:"span",content:line2Content,styleExtend:[SubscriptionDetails_c.line2],strongStyleExtend:[SubscriptionDetails_c.strongColor]}))}SubscriptionDetails.__docgenInfo={description:"",methods:[],displayName:"SubscriptionDetails"};try{SubscriptionDetails.displayName="SubscriptionDetails",SubscriptionDetails.__docgenInfo={description:"",displayName:"SubscriptionDetails",props:{line1:{defaultValue:null,description:"",name:"line1",required:!0,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[]'}},line2:{defaultValue:null,description:"",name:"line2",required:!0,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[] | null | undefined'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/SubscriptionDetails.tsx#SubscriptionDetails"]={docgenInfo:SubscriptionDetails.__docgenInfo,name:"SubscriptionDetails",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/SubscriptionDetails.tsx#SubscriptionDetails"})}catch(__react_docgen_typescript_loader_error){}var OfferCard_jsx=react.createElement;function OfferCard_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function OfferCard_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?OfferCard_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):OfferCard_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const OfferCard_c={base:{alignItems:"foGVKH",display:"gSBWlu",flexDirection:"iMkoWi",overflowX:"lmsZWq",overflowY:"gOhDrl",width:"fmJFEE",paddingTop:"eTWfTD",paddingBottom:"jENALy","@media all and (max-width:37.4375em)":{paddingTop:"hKrvHI",paddingBottom:"dKtZgY",width:"loSytI"},"@media all and (min-width:80em) and (max-width:101.9375em)":{paddingTop:"cufsXG",paddingBottom:"kyXhvI"},"@media all and (min-width:102em)":{paddingTop:"hfTuCi",paddingBottom:"hNzHbR",width:"kppXCd"},"@media all and (max-width:47.9375em)":{paddingInlineStart:"dBvVeR",paddingInlineEnd:"dQJzvX"},"@media all and (min-width:48em)":{paddingInlineStart:"kUxSkV",paddingInlineEnd:"dDRnBU"}},offerHighlight:{position:"bEvNbr",top:"WhAZY",paddingTop:"kMKXDC",paddingBottom:"jOeduE",paddingRight:"lkcNSa",paddingLeft:"bKqOie",borderTopLeftRadius:"laYrdg",borderTopRightRadius:"ekbNVL",borderBottomRightRadius:"cXAogJ",borderBottomLeftRadius:"bqcbDw",backgroundColor:"fIcjCT",display:"gSBWlu",justifyContent:"IVbXa",alignItems:"foGVKH",zIndex:"jvKoxA",fontWeight:"iLdtFu",color:"kAWnRk",transform:"bIXblk",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (max-width:37.4375em)":{fontSize:"dwCpSA",lineHeight:"hhATyG",paddingTop:"laIchj",paddingBottom:"gRSDhE",paddingRight:"gTZBtW",paddingLeft:"ceOiBN"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"cEKNZk",lineHeight:"gMAJcp"},"@media all and (min-width:102em)":{fontSize:"hyhpVP",lineHeight:"kRmCJO",paddingTop:"bifoq",paddingBottom:"hFukTD",paddingRight:"bOekLW",paddingLeft:"piGAk"}},link:{position:"bEvNbr",top:"WhAZY",left:"bOjOhu",width:"cRUUAa",height:"gdPTUr"}},sentImpressions=[];function OfferCard(_ref){let{offerHighlight,productName,legalText,line1Text,line2Text,note,offerData,offerType,steps,biData,couponId,personalCouponId}=_ref;const[user]=(0,src_user.Z)(),offerCardRef=react.useRef(null),onClickAndImpressionBiData=OfferCard_objectSpread(OfferCard_objectSpread({},biData),{},{prod_no:offerData.productNumber,sale_code:offerData.saleCode,promotions_no:offerData.promotionNumber,campaign_details:`title: ${productName}`}),{asPath,enabledPpQuery,onClick}=(0,s_use_pp_offer_card_operations_src.Z)({offerData,onClickAndImpressionBiData:OfferCard_objectSpread(OfferCard_objectSpread({},onClickAndImpressionBiData),{},{action_id:21}),steps,couponId,personalCouponId,offerType}),impressionKey=offerData.contentId+(user?.userName||"");return(0,s_use_impression_observer_src.Z)({disabled:sentImpressions.includes(impressionKey),elementRef:offerCardRef,biData:onClickAndImpressionBiData,onObserve:()=>{sentImpressions.push(impressionKey)}}),OfferCard_jsx(src.Z,{elevationLevel:1,styleExtend:[OfferCard_c.base]},offerHighlight&&OfferCard_jsx("div",{className:(0,style9.Z)(OfferCard_c.offerHighlight)},offerHighlight),OfferCard_jsx(OfferNotice,{productName}),OfferCard_jsx(SubscriptionDetails,{line1:line1Text,line2:"upgrade"===offerType&&note?[{as:"p",__typename:"HtmlNode",content:note}]:line2Text}),OfferCard_jsx(OfferButton,{onClick,state:enabledPpQuery?"busy":void 0}),OfferCard_jsx(CancellableLine,{legalText,biData,onTermsButtonClick:onClick,loading:enabledPpQuery}),OfferCard_jsx(link_default(),{"aria-hidden":!0,tabIndex:-1,className:(0,style9.Z)(OfferCard_c.link),href:asPath,shallow:!0,onClick,ref:offerCardRef},""))}OfferCard.__docgenInfo={description:"",methods:[],displayName:"OfferCard"};try{OfferCard.displayName="OfferCard",OfferCard.__docgenInfo={description:"",displayName:"OfferCard",props:{exclusive:{defaultValue:null,description:"",name:"exclusive",required:!1,type:{name:"string | null | undefined"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},offerHighlight:{defaultValue:null,description:"",name:"offerHighlight",required:!1,type:{name:"string | null | undefined"}},legalText:{defaultValue:null,description:"",name:"legalText",required:!0,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[]'}},line1Text:{defaultValue:null,description:"",name:"line1Text",required:!0,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[]'}},line2Text:{defaultValue:null,description:"",name:"line2Text",required:!1,type:{name:'({ __typename?: "Enhancement" | undefined; } | ({ __typename?: "HtmlNode" | undefined; } & HtmlNodeFragment))[] | null | undefined'}},note:{defaultValue:null,description:"",name:"note",required:!1,type:{name:"string | null | undefined"}},offerData:{defaultValue:null,description:"",name:"offerData",required:!0,type:{name:"Required<PPDataStoreOfferContextProps>"}},offerType:{defaultValue:null,description:"",name:"offerType",required:!0,type:{name:"enum",value:[{value:'"regular"'},{value:'"free"'},{value:'"upgrade"'}]}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"StepDataFragment[]"}},couponId:{defaultValue:null,description:"",name:"couponId",required:!1,type:{name:"string | null | undefined"}},personalCouponId:{defaultValue:null,description:"",name:"personalCouponId",required:!1,type:{name:"string | null | undefined"}},biData:{defaultValue:null,description:"Bi data passed as an argument to biAction",name:"biData",required:!1,type:{name:"BiDataOverrides | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferCard.tsx#OfferCard"]={docgenInfo:OfferCard.__docgenInfo,name:"OfferCard",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferCard.tsx#OfferCard"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_getCurrentStepName});const src_getCurrentStepName=function getCurrentStepName(pathname){return pathname.startsWith("/")?pathname.slice(1):pathname}},"../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isAbandonedCartRoute});const src_isAbandonedCartRoute=function isAbandonedCartRoute(query){return"preference"in query}},"../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isGqlPpStep});const validGqlPpSteps={debt:!0,login:!0,offers:!0,payment:!0,specialMax:!0,specialSubscription:!0,thankYou:!0,updateDetails:!0,validSubscription:!0,coupon:!1,error:!1,changeSuccess:!1,paymentChange:!1};const src_isGqlPpStep=function isGqlPpStep(step){return validGqlPpSteps[step]||!1}},"../../utils/s-pp-storybook-providers/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>s_pp_storybook_providers_src});var react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/index.ts"),s_use_pp_offset_steps_store_src=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx"),useConfig=__webpack_require__("../../hooks/s-use-config/src/useConfig.ts"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js");react.createElement;function withProviders(Story,context){return react.createElement(useConfig.E.Provider,{value:configShim.Z},react.createElement(src.ZP,null,react.createElement(s_use_pp_offset_steps_store_src.ZP,null,react.createElement(useBiDataContext.i,null,react.createElement(Story,context)))))}withProviders.__docgenInfo={description:"",methods:[],displayName:"withProviders"};const s_pp_storybook_providers_src=withProviders}}]);