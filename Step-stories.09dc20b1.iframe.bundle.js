"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[3289],{"../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"../../pp-atoms/s-pp-step/src/Step.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Offset:()=>Offset,Overview:()=>Overview,default:()=>Step_stories});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),Step_component=__webpack_require__("../../pp-atoms/s-pp-step/src/Step.component.tsx"),lib=(__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js")),dist=__webpack_require__("../../../node_modules/.pnpm/@storybook+addon-docs@7.4.6_@types+react-dom@18.2.11_@types+react@18.2.25_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-docs/dist/index.mjs");function _createMdxContent(props){const _components=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",h3:"h3"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"step",children:"Step"}),"\n",(0,jsx_runtime.jsx)("br",{}),"\n","\n","\n","\n",(0,jsx_runtime.jsx)(_components.h2,{id:"installation",children:"Installation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Make sure the package you use ",(0,jsx_runtime.jsx)(_components.code,{children:"Step"})," in has ",(0,jsx_runtime.jsx)(_components.code,{children:"@haaretz/s-step"})," listed in its\n",(0,jsx_runtime.jsx)(_components.code,{children:"package.json"}),"'s ",(0,jsx_runtime.jsx)(_components.code,{children:"dependencies"})," field:"]})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:'// package.json\n{\n  // ...\n  "dependencies": {\n    "@haaretz/s-step": "workspace:*"\n    // ...\n  }\n}\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Because internal monorepo packages are wired up using TypeScript's path aliases\nfeature in dev mode, importing ",(0,jsx_runtime.jsx)(_components.code,{children:"Step"})," without listing it as a dependency will\nwork in dev mode, but will fail in production. There should be a\n",(0,jsx_runtime.jsx)(_components.code,{children:"import/no-unresolved"})," eslint error when trying to import it when it is not\nlisted as a dependency."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can then import it like this:"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:"import Step from '@haaretz/s-step';\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"overview",children:"Overview"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Displays the current step of the user in the subscription process. The ",(0,jsx_runtime.jsx)(_components.code,{children:"Step"}),"\nwill get the args of ",(0,jsx_runtime.jsx)(_components.code,{children:"currentStep"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"steps"})," and needs to match the type\n",(0,jsx_runtime.jsx)(_components.code,{children:"StepName"})," or ",(0,jsx_runtime.jsx)(_components.code,{children:"StepName[]"})," respectively."]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["The ",(0,jsx_runtime.jsx)(_components.code,{children:"Step"})," has another argument, the ",(0,jsx_runtime.jsx)(_components.code,{children:"offset"}),", that will be set manually if we\nadded steps for the user, and will be a ",(0,jsx_runtime.jsx)(_components.code,{children:"number"})]}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{withToolbar:!0,children:(0,jsx_runtime.jsx)(dist.oG,{id:"purchase-atoms-step--overview"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{story:"^"}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"step-offset",children:"Step Offset"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["When requesting new data from the server mid-process, new data is unaware of\npast steps already taken, so we sometimes need to adjust our position and the\ntotal number of steps based on that. Doing so can be done useing the ",(0,jsx_runtime.jsx)(_components.code,{children:"offset"}),"\nprop."]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["So, if after completing the ",(0,jsx_runtime.jsx)(_components.code,{children:"offer"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"login"})," steps the server returns the\nfollowing ",(0,jsx_runtime.jsx)(_components.code,{children:"steps"})," array: ",(0,jsx_runtime.jsx)(_components.code,{children:"[ 'debt', 'payment', 'thankYou', ]"}),", we need to offset\neverything by ",(0,jsx_runtime.jsx)(_components.code,{children:"2"})," to account for the already completed steps of ",(0,jsx_runtime.jsx)(_components.code,{children:"offer"})," and\n",(0,jsx_runtime.jsx)(_components.code,{children:"login"}),":"]}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{withToolbar:!0,children:(0,jsx_runtime.jsx)(dist.oG,{id:"purchase-atoms-step--offset"})})]})}const Step_doc=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)};var _Overview$parameters,_Overview$parameters2,_Offset$parameters,_Offset$parameters2;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const meta={component:Step_component.Z,title:"Purchase/Atoms/Step",args:{currentStep:"offers",allSteps:[{__typename:"StepData",name:"offers"},{__typename:"StepData",name:"login"}]},argTypes:{currentStep:{control:!1},allSteps:{control:!1}},parameters:{docs:{page:Step_doc}}},Overview=args=>(0,jsx_runtime.jsx)(Step_component.Z,_objectSpread(_objectSpread({},args),{},{currentStep:"offers"})),Offset=args=>(0,jsx_runtime.jsx)(Step_component.Z,_objectSpread(_objectSpread({},args),{},{currentStep:"debt"})),Step_stories=meta;Overview.parameters=_objectSpread(_objectSpread({},Overview.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Overview$parameters=Overview.parameters)||void 0===_Overview$parameters?void 0:_Overview$parameters.docs),{},{source:_objectSpread({originalSource:'args => <Step {...args} currentStep="offers" />'},null===(_Overview$parameters2=Overview.parameters)||void 0===_Overview$parameters2||null===(_Overview$parameters2=_Overview$parameters2.docs)||void 0===_Overview$parameters2?void 0:_Overview$parameters2.source)})}),Offset.parameters=_objectSpread(_objectSpread({},Offset.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Offset$parameters=Offset.parameters)||void 0===_Offset$parameters?void 0:_Offset$parameters.docs),{},{source:_objectSpread({originalSource:"args => <Step {...args} currentStep={'debt'} />"},null===(_Offset$parameters2=Offset.parameters)||void 0===_Offset$parameters2||null===(_Offset$parameters2=_Offset$parameters2.docs)||void 0===_Offset$parameters2?void 0:_Offset$parameters2.source)})})},"../../pp-atoms/s-pp-step/src/Step.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Step});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const c={base:{fontFamily:"cGpNyn",color:"URsRO",textAlign:"kooHYa",fontSize:"hmImpX",lineHeight:"bwFuZl","@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"gPowFU",lineHeight:"eaJJqD"},"@media all and (min-width:102em)":{fontSize:"jbDMjY",lineHeight:"kzePcG"}},current:{fontWeight:"iLdtFu"}};function Step(_ref){let{currentStep,allSteps}=_ref;const stepNames=allSteps.map((step=>step.name)),numOfSteps=stepNames.length,stepPositionInArray=stepNames.indexOf(currentStep),step=-1===stepPositionInArray?NaN:stepPositionInArray+1;return Number.isNaN(step)?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.base),"data-testid":"pp-step",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.current),children:["שלב"," ",step]})," ","מתוך"," ",numOfSteps]})}try{Stepcomponent.displayName="Stepcomponent",Stepcomponent.__docgenInfo={description:"",displayName:"Stepcomponent",props:{currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"enum",value:[{value:'"debt"'},{value:'"login"'},{value:'"offers"'},{value:'"payment"'},{value:'"specialMax"'},{value:'"specialSubscription"'},{value:'"thankYou"'},{value:'"updateDetails"'},{value:'"validSubscription"'}]}},allSteps:{defaultValue:null,description:"",name:"allSteps",required:!0,type:{name:"StepDataFragment[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-step/src/Step.component.tsx#Stepcomponent"]={docgenInfo:Stepcomponent.__docgenInfo,name:"Stepcomponent",path:"../../pp-atoms/s-pp-step/src/Step.component.tsx#Stepcomponent"})}catch(__react_docgen_typescript_loader_error){}},"../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function merge(target,source){for(const key in source)"object"==typeof source[key]?target[key]=merge({...target[key]},source[key]):target[key]=source[key];return target}function getValues(obj){const values=[];for(const key in obj){const val=obj[key];"object"==typeof val?values.push(...getValues(val)):values.push(val)}return values}function style9(...styles){return getValues(styles.reduce(merge,{})).join(" ")}__webpack_require__.d(__webpack_exports__,{Z:()=>style9}),style9.create=()=>{throw new Error("style9.create calls should be compiled away")},style9.keyframes=()=>{throw new Error("style9.keyframes calls should be compiled away")}}}]);