(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[5522],{"../../ds-atoms/s-button/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-button/src/Button.tsx").ZP},"../../ds-atoms/s-card/src/Card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,p:()=>DEFAULT_ELEMENT});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs");const _excluded=["as","children","elevationLevel","inlineStyle","styleExtend","variant"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c={card:{backgroundColor:"kbeApl",borderTopLeftRadius:"gvQKzB",borderTopRightRadius:"gXtGmO",borderBottomRightRadius:"gGmREU",borderBottomLeftRadius:"ia_DRrH",position:"cjScYX",overflowX:"dUvWpK",overflowY:"hRLVFh"},tonedVariant:{backgroundColor:"fozssY"},emphasisVariant:{backgroundColor:"fYsfSM"},brandVariant:{backgroundColor:"eonsRV"},commercialVariant:{backgroundColor:"KqcXP",fontFamily:"cFGWDo","::before":{backgroundColor:"cuHoef",content:"julXB",position:"kvHVCE",zIndex:"iKerdF",top:"jYPXoJ",right:"jmjsbM",bottom:"eubFjF",left:"kKTZiz",width:"bQvqKh",height:"jLmWnd",borderBottomColor:"cguLPl",borderBottomStyle:"eeAUEW",borderBottomWidth:"bHuFEO",paddingBottom:"hiDZuW",borderInlineEndColor:"fVfbua",borderInlineEndStyle:"gUitAR",borderInlineEndWidth:"cXxCLi",paddingInlineEnd:"TkgvN",borderInlineStartColor:"fkpCBY",borderInlineStartStyle:"gQowii",borderInlineStartWidth:"jmjHNY",paddingInlineStart:"dIuYjq",borderTopColor:"iKQXuU",borderTopStyle:"kSnqYR",borderTopWidth:"hsdMeV",paddingTop:"hNIrCr"}},outbrainVariant:{backgroundColor:"KqcXP",fontFamily:"cFGWDo","::before":{backgroundColor:"ksIqPJ",content:"julXB",position:"kvHVCE",zIndex:"iKerdF",top:"jYPXoJ",right:"jmjsbM",bottom:"eubFjF",left:"kKTZiz",width:"bQvqKh",height:"jLmWnd",borderBottomColor:"cguLPl",borderBottomStyle:"eeAUEW",borderBottomWidth:"bHuFEO",paddingBottom:"hiDZuW",borderInlineEndColor:"fVfbua",borderInlineEndStyle:"gUitAR",borderInlineEndWidth:"cXxCLi",paddingInlineEnd:"TkgvN",borderInlineStartColor:"fkpCBY",borderInlineStartStyle:"gQowii",borderInlineStartWidth:"jmjHNY",paddingInlineStart:"dIuYjq",borderTopColor:"iKQXuU",borderTopStyle:"kSnqYR",borderTopWidth:"hsdMeV",paddingTop:"hNIrCr"}},outlinedVariant:{borderStartStartRadius:"fkWdLi",borderStartEndRadius:"ikOBHS",borderEndStartRadius:"KnVWT",borderEndEndRadius:"igzehn",backgroundColor:"KqcXP",borderBottomColor:"fUvRBv",borderBottomStyle:"hpBjJb",borderBottomWidth:"ctibpX",paddingBottom:"dsjnGZ",borderInlineEndColor:"cZyCOm",borderInlineEndStyle:"hszzXi",borderInlineEndWidth:"bTnXNj",paddingInlineEnd:"iHcdxl",borderInlineStartColor:"hREZix",borderInlineStartStyle:"itlHSH",borderInlineStartWidth:"hXXzlB",paddingInlineStart:"hIfrmf",borderTopColor:"gOVTGd",borderTopStyle:"FwRrA",borderTopWidth:"izykGz",paddingTop:"bcQMLg","@media all and (min-width:80em)":{borderBottomColor:"eKBUJy",borderBottomStyle:"fLcvnQ",borderBottomWidth:"cbMekn",paddingBottom:"fkaa_DS",borderInlineEndColor:"kWTjCw",borderInlineEndStyle:"efZoHX",borderInlineEndWidth:"bjkePn",paddingInlineEnd:"ezQcMi",borderInlineStartColor:"bqOunL",borderInlineStartStyle:"TFlFF",borderInlineStartWidth:"gEvAVE",paddingInlineStart:"hGpzKB",borderTopColor:"lgHkRI",borderTopStyle:"QeZzC",borderTopWidth:"fVCshG",paddingTop:"kEuwLv"}},elevation1:{filter:"hPbzap"},elevation2:{filter:"fiTshE"},elevation3:{filter:"eVJcdr"}},DEFAULT_ELEMENT="div";function Card(_ref){let{as,children=null,elevationLevel,inlineStyle,styleExtend=[],variant}=_ref,attrs=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);const variantClass=variant?`${variant}Variant`:void 0,elevationClass=elevationLevel?`elevation${elevationLevel}`:void 0;return __jsx(as||DEFAULT_ELEMENT,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},attrs,{},{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.card,variantClass&&c[variantClass],elevationClass&&c[elevationClass],...styleExtend),style:inlineStyle}),children)}Card.__docgenInfo={description:"",methods:[],displayName:"Card"};const __WEBPACK_DEFAULT_EXPORT__=Card;try{Card.displayName="Card",Card.__docgenInfo={description:"",displayName:"Card",props:{children:{defaultValue:{value:"null"},description:"The Children to be rendered inside `<Card>`",name:"children",required:!1,type:{name:"ReactNode"}},elevationLevel:{defaultValue:null,description:"Creates an illusion of elevating the card by placing a shadow behind it",name:"elevationLevel",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:"1"},{value:"2"},{value:"3"}]}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyCard(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Card\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Card styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},variant:{defaultValue:null,description:"The visual appearance of the card",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"brand"'},{value:'"toned"'},{value:'"emphasis"'},{value:'"outbrain"'},{value:'"commercial"'},{value:'"outlined"'}]}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"symbol" | ComponentType<any> | "slot" | "clipPath" | "filter" | "mask" | "marker" | "article" | "button" | "dialog" | "figure" | "form" | "main" | "menu" | "menuitem" | ... 133 more ... | undefined'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-card/src/Card.tsx#Card"]={docgenInfo:Card.__docgenInfo,name:"Card",path:"../../ds-atoms/s-card/src/Card.tsx#Card"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-card/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-card/src/Card.tsx").Z},"../../ds-atoms/s-formfield-description/src/FormfieldDescription.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs");const _excluded=["children","id","inlineStyle","isInvalid","styleExtend","variant"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c={base:{color:"koPyoH",marginTop:"iqhvfj",fontSize:"gVscJz",lineHeight:"kvNqZl","@media all and (min-width:102em)":{fontSize:"hyhpVP",lineHeight:"kRmCJO"}},isInvalid:{"--clr":"dtWzvY"},hidden:{display:"fcXWHl"},defaultVariant:{"--clr":"hneilo"},inverseVariant:{"--clr":"fVxgiL","--err":"dFKLrR"}},FormfieldDescription=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function FormfieldDescription(_ref,ref){let{children,id,inlineStyle,isInvalid,styleExtend=[],variant="default"}=_ref,attrs=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);const variantClass=`${variant}Variant`;return __jsx("div",(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({ref,"aria-live":isInvalid?"assertive":"off",role:isInvalid?"alert":void 0},attrs,{id,className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.base,c[variantClass],isInvalid&&c.isInvalid,...styleExtend),style:inlineStyle}),children)}));FormfieldDescription.__docgenInfo={description:"",methods:[],displayName:"FormfieldDescription"};const __WEBPACK_DEFAULT_EXPORT__=FormfieldDescription;try{FormfieldDescription.displayName="FormfieldDescription",FormfieldDescription.__docgenInfo={description:"",displayName:"FormfieldDescription",props:{children:{defaultValue:null,description:"The description or error message to render",name:"children",required:!1,type:{name:"string | undefined"}},variant:{defaultValue:{value:"default"},description:"Sets the basic visual appearance of the input.\n@defaultValue 'default'",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"default"'},{value:'"inverse"'}]}},id:{defaultValue:null,description:"The ID attribute attached to the element",name:"id",required:!0,type:{name:"string"}},isInvalid:{defaultValue:null,description:"Indicate the description is an error message",name:"isInvalid",required:!1,type:{name:"boolean | undefined"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyFormfieldDescription(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <FormfieldDescription\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<FormfieldDescription styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-formfield-description/src/FormfieldDescription.tsx#FormfieldDescription"]={docgenInfo:FormfieldDescription.__docgenInfo,name:"FormfieldDescription",path:"../../ds-atoms/s-formfield-description/src/FormfieldDescription.tsx#FormfieldDescription"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-formfield-description/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-formfield-description/src/FormfieldDescription.tsx").Z},"../../ds-atoms/s-htz-image/src/HtzImage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_HtzImage});var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),buildBaseImgSrc=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrc/index.ts"),buildSizesString=__webpack_require__("../../utils/s-image-utils/src/buildSizesString/index.ts"),buildBaseImgSrcset=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrcset/index.ts"),getAspectData=__webpack_require__("../../utils/s-image-utils/src/getAspectData/index.ts"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),head=__webpack_require__("../../../node_modules/.pnpm/next@13.4.5_@babel+core@7.22.5_babel-plugin-macros@3.1.0_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js"),head_default=__webpack_require__.n(head),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),process=__webpack_require__("../../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const _excluded=["src","sizes","srcSet","inlineStyle","isLazy","loading","width","height","styleExtend","onLoadingCompleteRef","setShowAltText","onLoad","onError"],_excluded2=["src","srcSet","sizes","priority","loading","width","height","inlineStyle","styleExtend","onLoad"];var __jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const c_base={color:"DhBXK"};new Map;"undefined"==typeof window&&(__webpack_require__.g.__NEXT_IMAGE_IMPORTED=!0);const ImageElement=_ref=>{let{src,sizes,srcSet,inlineStyle,isLazy,loading,width,height,styleExtend=[],onLoadingCompleteRef,setShowAltText,onLoad,onError}=_ref,rest=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx("img",(0,esm_extends.Z)({},rest,{width,height,sizes,src,srcSet,decoding:"async",className:(0,style9.Z)(c_base,...styleExtend),loading:isLazy?"lazy":loading,style:_objectSpread({},inlineStyle),ref:(0,react.useCallback)((img=>{img&&(onError&&(img.src=img.src),img.complete&&function handleLoading(img,src,onLoadingCompleteRef){if(!img||img["data-loaded-src"]===src)return;img["data-loaded-src"]=src,("decode"in img?img.decode():Promise.resolve()).catch((()=>{console.log(`Failed decoding ${img.src}`)})).then((()=>{img.parentNode&&onLoadingCompleteRef?.current&&onLoadingCompleteRef.current(img)}))}(img,src,onLoadingCompleteRef))}),[src,onLoadingCompleteRef,onError]),onError:event=>{setShowAltText(!0),onError&&onError(event)}}))},resetArgs={__typename:void 0,type:void 0,files:void 0};function Image(_ref2){let{src,srcSet,sizes,priority=!1,loading,width,height,inlineStyle,styleExtend=[],onLoad}=_ref2;const rest=(0,objectWithoutProperties.Z)(_ref2,_excluded2),isLazy=!priority&&("lazy"===loading||void 0===loading),{0:showAltText,1:setShowAltText}=(0,react.useState)(!1);let imageSrcSetPropName="imagesrcset",imageSizesPropName="imagesizes";process.env.__NEXT_REACT_ROOT&&(imageSrcSetPropName="imageSrcSet",imageSizesPropName="imageSizes");const linkProps={[imageSrcSetPropName]:srcSet,[imageSizesPropName]:sizes,crossOrigin:rest.crossOrigin},onLoadingCompleteRef=(0,react.useRef)(onLoad);(0,react.useEffect)((()=>{onLoadingCompleteRef.current=onLoad}),[onLoad]);const imgElementArgs=_objectSpread(_objectSpread({isLazy,src,sizes,srcSet,inlineStyle:_objectSpread({"--altColor":showAltText?"":"transparent"},inlineStyle),styleExtend,loading,width,height,onLoadingCompleteRef,setShowAltText},rest),resetArgs);return __jsx(react.Fragment,null,__jsx(ImageElement,imgElementArgs),priority?__jsx(head_default(),null,__jsx("link",(0,esm_extends.Z)({key:`__nimg-${src}${srcSet}${sizes}`,rel:"preload",as:"image",href:srcSet?void 0:src},linkProps))):null)}Image.__docgenInfo={description:"",methods:[],displayName:"Image"};try{CustomNextImage.displayName="CustomNextImage",CustomNextImage.__docgenInfo={description:"",displayName:"CustomNextImage",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},src:{defaultValue:null,description:"The URL of the image, must be an absolute external URL.",name:"src",required:!0,type:{name:"string"}},alt:{defaultValue:null,description:"Holds a text description of the image.",name:"alt",required:!0,type:{name:"string"}},priority:{defaultValue:{value:"false"},description:"When true, the image will be considered high priority and preload.\nLazy loading is automatically disabled for images using priority.\nShould only be used when the image is visible above the fold.\nDefaults to false.",name:"priority",required:!1,type:{name:"boolean | undefined"}},loading:{defaultValue:null,description:"The loading behavior of the image. Defaults to lazy.\nWhen lazy, defer loading the image until it reaches a calculated distance from the viewport.\nWhen eager, load the image immediately.",name:"loading",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"eager"'},{value:'"lazy"'}]}},onLoad:{defaultValue:null,description:"A callback function that is invoked once the image is completely loaded.\nThe callback function will be called with one argument, a reference\nto the underlying <img> element.",name:"onLoad",required:!1,type:{name:"OnLoad | undefined"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-htz-image/src/CustomNextImage.tsx#CustomNextImage"]={docgenInfo:CustomNextImage.__docgenInfo,name:"CustomNextImage",path:"../../ds-atoms/s-htz-image/src/CustomNextImage.tsx#CustomNextImage"})}catch(__react_docgen_typescript_loader_error){}const HtzImage_excluded=["imgData","alt","caption","credit","contentId","aspect","sizes","widths","heights","priority","styleExtend","inlineStyle","loading","onLoad","onError"];var HtzImage_jsx=react.createElement;const HtzImage_c={base:{height:"cWvkUx",maxWidth:"fwqTyU",verticalAlign:"eLDTYY",width:"cRUUAa"}},HtzImage=function HtzImage(_ref){let{imgData,alt,caption,credit,contentId,aspect,sizes,widths,heights,priority,styleExtend=[],inlineStyle,loading,onLoad,onError}=_ref,attrs=(0,objectWithoutProperties.Z)(_ref,HtzImage_excluded);if(0===widths.length)throw new Error('[HtzImage]: the "widths" prop must be an array with at least one item');if(heights&&widths.length!==heights.length)throw new Error('[HtzImage]: the "widths" and "heights" props must have the same number of items');const env=configShim.Z.get("env"),minWidth=Math.min(...widths),minWidthIndex=widths.findIndex((num=>num===minWidth)),matchingHeightToMinWidth=heights&&heights[minWidthIndex],{isCropped,aspectRatio,aspectData}=(0,getAspectData.Z)(aspect,imgData),captionStr=caption?caption.endsWith(".")?caption:`${caption}.`:"",title=`${captionStr?`${captionStr} `:""}${"צילום:"+(credit?`${credit} `:"")}`,srcUrl=(0,buildBaseImgSrc.Z)({contentId,imgData,width:minWidth,height:matchingHeightToMinWidth,isCropped,aspectRatio,aspectData,env}),sizesString=sizes&&(0,buildSizesString.Z)(sizes),srcSetUrl=(0,buildBaseImgSrcset.Z)({src:srcUrl,widths,aspectRatio,heights,env}),{height,width}=aspectData||{width:imgData.width,height:imgData.height};return HtzImage_jsx(Image,(0,esm_extends.Z)({},attrs,{styleExtend:[HtzImage_c.base,...styleExtend],inlineStyle,title,width,height,alt,src:srcUrl,sizes:sizesString,srcSet:srcSetUrl,priority,loading,onLoad,onError}))};HtzImage.__docgenInfo={description:"",methods:[],displayName:"HtzImage"};const src_HtzImage=HtzImage;try{HtzImage.displayName="HtzImage",HtzImage.__docgenInfo={description:"",displayName:"HtzImage",props:{onLoad:{defaultValue:null,description:"A callback function that is invoked once the image is completely loaded.\nThe callback function will be called with one argument, a reference\nto the underlying <img> element.",name:"onLoad",required:!1,type:{name:"OnLoad | undefined"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},priority:{defaultValue:null,description:"When true, the image will be considered high priority and preload.\nLazy loading is automatically disabled for images using priority.\nShould only be used when the image is visible above the fold.\nDefaults to false.",name:"priority",required:!1,type:{name:"boolean | undefined"}},loading:{defaultValue:null,description:"The loading behavior of the image. Defaults to lazy.\nWhen lazy, defer loading the image until it reaches a calculated distance from the viewport.\nWhen eager, load the image immediately.",name:"loading",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"eager"'},{value:'"lazy"'}]}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"infographic"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string | null | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!0,type:{name:"string"}},credit:{defaultValue:null,description:"",name:"credit",required:!1,type:{name:"string | null | undefined"}},contentId:{defaultValue:null,description:"",name:"contentId",required:!0,type:{name:"string"}},imgData:{defaultValue:null,description:"Data for generating image urls and attributes.",name:"imgData",required:!0,type:{name:'{ __typename?: "ImageViewModel_ImageFile" | undefined; height: number; path: string; width: number; crops: { __typename?: "ImageCrops" | undefined; headline?: ({ __typename?: "ImageCrop" | undefined; } & ImageCropFragment) | null | undefined; ... 4 more ...; wide?: ({ ...; } & ImageCropFragment) | ... 1 more ... | u...'}},aspect:{defaultValue:null,description:"An object in the shape provided by the GraphQL API.",name:"aspect",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"square"'},{value:'"regular"'},{value:'"full"'},{value:'"headline"'},{value:'"landscape"'},{value:'"wide"'}]}},sizes:{defaultValue:null,description:"The sizes attribute, contains an array of objects to create the sizes string,\nthe \"from\" determines the media condition and the \"size\" determines the source size value.\n@example ```ts\n[\n { from: 's', size: '284px' },\n { from: 'm', size: '348px' },\n { from: 'l', size: '314px' },\n { from: 'xl', size: '336px' },\n { from: 'xxl', size: '380px' },\n { size: 'calc(50vw - 36px)', },\n]\n```",name:"sizes",required:!1,type:{name:"SizesType | undefined"}},widths:{defaultValue:null,description:"Array of widths to create the srcSet, used to determine\nthe img width and the width descriptor. Automatically sorts\nthe links and the descriptor from smallest to largest.",name:"widths",required:!0,type:{name:"number[]"}},heights:{defaultValue:null,description:"Array of heights to create the srcSet, used to determine the img height.\nMust be same length as width array.",name:"heights",required:!1,type:{name:"number[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-htz-image/src/HtzImage.tsx#HtzImage"]={docgenInfo:HtzImage.__docgenInfo,name:"HtzImage",path:"../../ds-atoms/s-htz-image/src/HtzImage.tsx#HtzImage"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-htz-image/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-htz-image/src/HtzImage.tsx").Z},"../../ds-organisms/s-newsletter-recommendations-list/src/NewsletterCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>NewsletterCard});var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),src=__webpack_require__("../../ds-atoms/s-card/src/index.ts"),s_htz_image_src=__webpack_require__("../../ds-atoms/s-htz-image/src/index.ts"),s_button_src=__webpack_require__("../../ds-atoms/s-button/src/index.ts"),s_formfield_description_src=__webpack_require__("../../ds-atoms/s-formfield-description/src/index.ts");var useMutation=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useMutation.mjs"),GraphqlFetcher=__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx");const NewsletterSignupPersonalMutationDocument="\n    mutation NewsletterSignupPersonalMutation($input: NewsletterSignupInput!) {\n  newsletterSignup(input: $input) {\n    ...NewsletterSignupResponseFragment\n  }\n}\n    \n    fragment NewsletterSignupResponseFragment on NewsletterSignupResponse {\n  status\n}\n    ",useNewsletterSignupPersonalMutation=options=>(0,useMutation.D)(["NewsletterSignupPersonalMutation"],(variables=>(0,GraphqlFetcher.Z)(NewsletterSignupPersonalMutationDocument,variables)()),options);useNewsletterSignupPersonalMutation.getKey=()=>["NewsletterSignupPersonalMutation"],useNewsletterSignupPersonalMutation.fetcher=(variables,options)=>(0,GraphqlFetcher.Z)(NewsletterSignupPersonalMutationDocument,variables,options);var UserAlertsRegistration=__webpack_require__("../../graphql/s-mutations/src/__generated__/UserAlertsRegistration.ts"),s_icon_src=__webpack_require__("../../ds-atoms/s-icon/src/index.ts"),s_use_bi_src=__webpack_require__("../../hooks/s-use-bi/src/index.ts");const _excluded=["cardData","email"];var __jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const c={base:{display:"kbCXHY",rowGap:"gtFPZM",gridTemplateRows:"dWdVXf",paddingTop:"bKjKUN",paddingRight:"gcnSZS",paddingBottom:"eayRfw",paddingLeft:"hHZVWs","@media all and (min-width:64em) and (max-width:79.9375em)":{rowGap:"iRvlSp"}},header:{alignItems:"foGVKH",display:"gSBWlu",justifyItems:"dskUQS"},img:{"--size":"bnsqbL",borderTopLeftRadius:"ebVilo",borderTopRightRadius:"kyhYEz",borderBottomRightRadius:"jIkFRm",borderBottomLeftRadius:"gpptow",height:"HUEkp",width:"bNIeKE","@media all and (min-width:80em) and (max-width:101.9375em)":{"--size":"manbt"},"@media all and (min-width:102em)":{"--size":"gbhyxm"}},titlesWrapper:{marginInlineStart:"euSzUE","@media all and (min-width:80em)":{marginInlineStart:"cDolnX"}},subjectTitle:{color:"URsRO",fontSize:"dGDAum",lineHeight:"ljUXOK","@media all and (min-width:37.5em) and (max-width:63.9375em)":{fontSize:"DMuxk",lineHeight:"BQIws"},"@media all and (min-width:64em) and (max-width:79.9375em)":{fontSize:"cJtokI",lineHeight:"fSlEyX"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"kHlstv",lineHeight:"hltpRW"},"@media all and (min-width:102em)":{fontSize:"kNnzPI",lineHeight:"iLmXjQ"}},mailingType:{fontFamily:"cGpNyn",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"cEKNZk",lineHeight:"gMAJcp"}},premiumMailing:{backgroundColor:"kvLQFb",color:"bxUaT",display:"fdLHFk",paddingInlineStart:"kQDwxQ",paddingInlineEnd:"cfEHVR",WebkitBoxDecorationBreak:"cYFsDB"},description:{display:"bBZtzC",fontWeight:"buowod",overflowX:"dUvWpK",overflowY:"hRLVFh",textOverflow:"iXBLlZ",WebkitBoxOrient:"jSaNpv",WebkitLineClamp:"gtrUYH",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:37.5em) and (max-width:47.9375em)":{maxHeight:"hDtldu"},"@media all and (min-width:48em) and (max-width:63.9375em)":{fontSize:"JAaNe",lineHeight:"cRvShW",maxHeight:"rJZCX"},"@media all and (min-width:64em) and (max-width:79.9375em)":{maxHeight:"iozPQe"},"@media all and (min-width:80em) and (max-width:101.9375em)":{maxHeight:"eHAbFu",fontSize:"cEKNZk",lineHeight:"gMAJcp"},"@media all and (min-width:102em)":{maxHeight:"jMZxTb"}},icon:{marginInlineEnd:"hrNAzC"},slideAnimationInSuccess:{animationName:"izbZPF",animationDelay:"Nflrm",animationDirection:"iAErog",animationDuration:"NhZap"},successDiv:{alignItems:"foGVKH",alignSelf:"bdwdaF",color:"bzRhTf",fontFamily:"cGpNyn",display:"gSBWlu",fontWeight:"kIOdXG",justifyContent:"fPWmiY",marginTop:"cyerGB",opacity:"UXrzu",position:"bEvNbr",overflowX:"dUvWpK",whiteSpace:"bwVBMs",fontSize:"gVscJz",lineHeight:"kvNqZl"},slideOutTransitionButton:{transitionProperty:"eomdpb",transitionDuration:"elYamp",visibility:"dWytAe",opacity:"UXrzu",insetInlineStart:"fmTWSE",transitionTimingFunction:"iaemGh"},formfield:{fontFamily:"cGpNyn",opacity:"UXrzu",fontSize:"gVscJz",lineHeight:"kvNqZl","@media all and (min-width:64em) and (max-width:101.9375em)":{fontSize:"fILUhH",lineHeight:"bJzTMt"},maxHeight:"GlVkd",transitionDelay:"gsFBiH",transitionDuration:"cwWKTm",transitionProperty:"iAsLeH"},formfieldTransition:{transitionDelay:"kPzQGo",opacity:"gOeSjL",maxHeight:"ieqjsD"},fadeOutButton:{opacity:"UXrzu",transitionDuration:"eWLwSv",transitionProperty:"bEeIno"},button:{insetInlineStart:"eAUDaE",visibility:"esoNju",opacity:"gOeSjL",transitionDuration:"jnucqQ",transitionProperty:"eomdpb"}},btnTextOptions_signup="הרשמה",btnTextOptions_unsubscribe="להסרה",kickerTexts={daily:"דיוור יומי",weekly:"דיוור שבועי",twiceAWeek:"דיוור דו-שבועי",monthly:"דיוור שבועי",dailyPremium:"דיוור יומי למנויים בלבד",weeklyPremium:"דיוור שבועי למנויים בלבד",twiceAWeekPremium:"דיוור דו-שבועי למנויים בלבד",monthlyPremium:"דיוור חודשי למנויים בלבד"};function NewsletterCard(_ref){let{cardData,email}=_ref,props=(0,objectWithoutProperties.Z)(_ref,_excluded);const[success,setSuccess]=react.useState(!1),[subscriptionTransition,setSubscriptionTransition]=react.useState(!1),[fadeOutButton,setFadeOutButton]=react.useState(!1),[startAnimation,setStartAnimation]=react.useState(!1),[btnState,setBtnState]=react.useState("auto"),[btnBusyNotice,setBtnBusyNotice]=react.useState(""),[btnVariant,setBtnVariant]=react.useState("brand"),[btnText,setBtnText]=react.useState(btnTextOptions_signup),[msg,setMsg]=react.useState(void 0),[displayMessage,setDisplayMessage]=react.useState(!1),[invalid,setInvalid]=react.useState(!1),formfieldId=react.useId(),biAction=(0,s_use_bi_src.Z)(),newsletterSignup=useNewsletterSignupPersonalMutation(),newsletterUnsubscribe=(0,UserAlertsRegistration.k)(),{image,segmentName,subscribersOnly,frequency,description,site,tagNumber}=cardData,kickerText=kickerTexts[frequency+(subscribersOnly?"Premium":"")],setSubscribeBtn=()=>{setBtnVariant("brand"),setBtnText(btnTextOptions_signup)},clearBtnBusyState=()=>{setBtnBusyNotice(""),setBtnState("auto")},handleOnClick=react.useCallback((async _=>{const action="brand"===btnVariant&&btnText===btnTextOptions_signup?"subscribe":"danger"===btnVariant&&btnText===btnTextOptions_unsubscribe?"unsubscribe":void 0,biData="function"==typeof props.getBiData?props.getBiData():props.biData;if("subscribe"===action){setBtnState("busy"),setBtnBusyNotice("מעדכן הרשמה לדיוור...");const isUnsubscribe=!1,data=await newsletterSignup.mutateAsync({input:{segmentName,isUnsubscribe,tagNumber,site}}),{status}=data.newsletterSignup;"error"===status?(clearBtnBusyState(),setSubscribeBtn(),setInvalid(!0),setDisplayMessage(!0),setMsg("אירעה שגיאה, אנא נסו מאוחר יותר")):"success"===status?(setSubscriptionTransition(!0),clearBtnBusyState(),setMsg(""),biData&&biAction(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},biData),{},{action_id:9,feature:"Promotions-Newsletter",feature_type:"Content",personal_feature:!0},tagNumber?{newsletter_segment_id:tagNumber}:{}),segmentName?{newsletter_segment_id:segmentName}:{}),email?{newsletter_email:email}:{}))):(setSubscriptionTransition(!0),clearBtnBusyState(),setMsg("להשלמת ההרשמה עליך לאמת את כתובת המייל"))}if("unsubscribe"===action){setMsg(""),setInvalid(!1),setBtnState("busy"),setBtnBusyNotice("מסיר הרשמה לדיוור...");const resourceId=tagNumber,resourceName=segmentName,isUnsubscribe=!0,data=await newsletterUnsubscribe.mutateAsync({input:{isUnsubscribe,site,resourceType:"newsletter",resourceId,resourceName}}),{status}=data.userAlertsRegistration;"success"===status?(setFadeOutButton(!0),clearBtnBusyState(),biData&&biAction(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},biData),{},{action_id:8,feature:"Promotions-Newsletter",feature_type:"Content",personal_feature:!0},tagNumber?{newsletter_segment_id:tagNumber}:{}),segmentName?{newsletter_segment_id:segmentName}:{}),email?{newsletter_email:email}:{}))):(clearBtnBusyState(),setInvalid(!0),setMsg("אירעה שגיאה, אנא נסו מאוחר יותר"))}}),[biAction,btnText,btnVariant,email,newsletterSignup,newsletterUnsubscribe,props,segmentName,site,tagNumber]),BtnStateAndNotice="busy"===btnState?{state:btnState,busyNotice:btnBusyNotice}:{state:btnState,busyNotice:void 0};if(!cardData)return null;const imgData=image?.files?.[0];return __jsx(src.Z,{styleExtend:[c.base],as:"article","aria-describedby":msg,"data-testid":"newsletter-card"},__jsx("header",{className:(0,style9.Z)(c.header)},image&&imgData?__jsx(s_htz_image_src.Z,{alt:image.alt,contentId:image.contentId,type:image?.type,credit:image.credit,imgData,aspect:"square",widths:[56,68,112],sizes:[{from:"xxl",size:"68px"},{from:"l",size:"65px"},{size:"56px"}],styleExtend:[c.img],"data-testid":"newsletter-card-img"}):null,__jsx("div",{className:(0,style9.Z)(c.titlesWrapper)},__jsx("p",{className:(0,style9.Z)(c.mailingType,subscribersOnly&&c.premiumMailing),"data-testid":"newsletter-card-kicker"},kickerText),__jsx("h3",{className:(0,style9.Z)(c.subjectTitle),"data-testid":"newsletter-card-segment"},segmentName))),__jsx("p",{className:(0,style9.Z)(c.description),"data-testid":"newsletter-card-description"},description),__jsx("footer",null,success?__jsx("div",{className:(0,style9.Z)(c.successDiv,startAnimation&&c.slideAnimationInSuccess),onAnimationEnd:()=>{setBtnVariant("danger"),setBtnText(btnTextOptions_unsubscribe),setSubscriptionTransition(!1),setFadeOutButton(!1),setSuccess(!1)}},__jsx(s_icon_src.Z,{icon:"check",variant:"success",styleExtend:[c.icon]}),__jsx("p",null,"נרשמת בהצלחה")):null,__jsx("div",null,__jsx(s_button_src.ZP,(0,esm_extends.Z)({onClick:handleOnClick},BtnStateAndNotice,{size:"small",variant:btnVariant,priority:"secondary",styleExtend:[c.button,subscriptionTransition&&c.slideOutTransitionButton,fadeOutButton&&c.fadeOutButton],onTransitionEnd:()=>{fadeOutButton&&(setDisplayMessage(!1),setSubscribeBtn(),setStartAnimation(!1),setFadeOutButton(!1)),subscriptionTransition&&(setSuccess(!0),setStartAnimation(!0),setDisplayMessage(!0))},"data-testid":"newsletter-card-btn"}),btnText),msg?__jsx(s_formfield_description_src.Z,{id:formfieldId,isInvalid:invalid,styleExtend:[c.formfield,displayMessage&&c.formfieldTransition],"data-testid":"newsletter-card-msg"},msg):null)))}NewsletterCard.__docgenInfo={description:"",methods:[],displayName:"NewsletterCard"};try{NewsletterCard.displayName="NewsletterCard",NewsletterCard.__docgenInfo={description:"",displayName:"NewsletterCard",props:{cardData:{defaultValue:null,description:"",name:"cardData",required:!0,type:{name:"UserRecommendationFragment"}},email:{defaultValue:null,description:"",name:"email",required:!1,type:{name:"string | undefined"}},biData:{defaultValue:null,description:"",name:"biData",required:!1,type:{name:"BiDataOverrides | undefined"}},getBiData:{defaultValue:null,description:"",name:"getBiData",required:!1,type:{name:"(() => BiDataOverrides) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-organisms/s-newsletter-recommendations-list/src/NewsletterCard.tsx#NewsletterCard"]={docgenInfo:NewsletterCard.__docgenInfo,name:"NewsletterCard",path:"../../ds-organisms/s-newsletter-recommendations-list/src/NewsletterCard.tsx#NewsletterCard"})}catch(__react_docgen_typescript_loader_error){}},"../../graphql/s-mutations/src/__generated__/UserAlertsRegistration.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>useUserAlertsRegistrationPersonalMutation});var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useMutation.mjs"),_haaretz_s_graphql_fetcher__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx");const UserAlertsRegistrationPersonalMutationDocument="\n    mutation UserAlertsRegistrationPersonalMutation($input: UserAlertsRegistrationInput!) {\n  userAlertsRegistration(input: $input) {\n    status\n  }\n}\n    ",useUserAlertsRegistrationPersonalMutation=options=>(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__.D)(["UserAlertsRegistrationPersonalMutation"],(variables=>(0,_haaretz_s_graphql_fetcher__WEBPACK_IMPORTED_MODULE_1__.Z)(UserAlertsRegistrationPersonalMutationDocument,variables)()),options);useUserAlertsRegistrationPersonalMutation.getKey=()=>["UserAlertsRegistrationPersonalMutation"],useUserAlertsRegistrationPersonalMutation.fetcher=(variables,options)=>(0,_haaretz_s_graphql_fetcher__WEBPACK_IMPORTED_MODULE_1__.Z)(UserAlertsRegistrationPersonalMutationDocument,variables,options)},"../../hooks/s-use-bi/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src});var react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx");const src=function useBi(){let biUrl,biType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"action";const biServer=configShim.Z.get("bIServer");switch(biType){case"impression":biUrl=`${biServer}/impressionPlain`;break;case"pageview":biUrl=`${biServer}/requestPlain`;break;default:biUrl=`${biServer}/actionPlain`}const contextBiDataPromise=(0,useBiDataContext.Z)(),collectData=react.useCallback((userBiData=>{contextBiDataPromise.then((contextBiData=>{const{additional_info}=userBiData;additional_info&&"object"==typeof additional_info&&(userBiData.additional_info=JSON.stringify(additional_info));const finalBiData=Object.assign({},contextBiData,userBiData);window.navigator?.sendBeacon(biUrl,JSON.stringify(finalBiData))}))}),[biUrl,contextBiDataPromise]);return collectData}},"../../hooks/s-use-config/src/useConfig.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ConfigContext,Z:()=>useConfig});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ConfigContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function useConfig(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(ConfigContext);if(void 0===context)throw new Error("useConfig must be used within a ConfigContext");return context}},"../../pp-hooks/s-use-pp-data-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx").ZP},"../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx").ZP},"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Qf:()=>usePPOffsetStepsStoreActions,R8:()=>usePpPrevStepInitialization,ZP:()=>PPOffsetStepsStoreContextProvider,np:()=>usePPOffsetStepsStore,q9:()=>usePPPrevStepsStore,v:()=>usePPPrevStepsStoreActions});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.6_next@13.4.5_react@18.2.0/node_modules/next-router-mock/dist/index.js"),_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts"),_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts"),_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../shared/s-consts/src/index.ts");react__WEBPACK_IMPORTED_MODULE_0__.createElement;const OffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),PrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdapteOffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdaptePrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function PPOffsetStepsStoreContextProvider(_ref){let{children,initialState}=_ref;const[prevSteps,setPrevSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState([]),[offsetSteps,setOffsetSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState(initialState||[]),isFilledRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(initialState?.includes("login")||!1),[user]=(0,_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__.Z)(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)(),offsetStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushStep:step=>{if(!isFilledRef.current){const isLoggedInOnOffersPage=user?.userName&&"offers"===step;user?.userName&&"login"!==step&&!isLoggedInOnOffersPage||(("login"===step||isLoggedInOnOffersPage)&&(isFilledRef.current=!0),setOffsetSteps((prevState=>[...prevState,step])))}},clearSteps:()=>{setOffsetSteps([]),isFilledRef.current=!1}})),[user?.userName]),prevStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushPrevStep:step=>{(0,_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z)(step)&&setPrevSteps((prevState=>prevState.includes(step)?prevState:[...prevState,step]))},pushPrevSteps:steps=>{prevSteps.length<=1&&steps.length&&setPrevSteps((prevState=>[...steps.filter(_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z).filter((step=>!prevState.includes(step))),...prevState]))},getPrevSteps:()=>prevSteps})),[prevSteps]),resultOffsetSteps=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{const currentStepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);return isFilledRef.current&&"offers"!==currentStepName&&"coupon"!==currentStepName?offsetSteps:[]}),[offsetSteps,router.pathname]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OffsetStepsContext.Provider,{value:resultOffsetSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrevStepsContext.Provider,{value:prevSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdapteOffsetStepsContext.Provider,{value:offsetStepsActions},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdaptePrevStepsContext.Provider,{value:prevStepsActions},children))))}function usePPOffsetStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(OffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(PrevStepsContext);if(!context)throw new Error("usePPPrevStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPOffsetStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdapteOffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdaptePrevStepsContext);if(!context)throw new Error("usePPPrevStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePpPrevStepInitialization(){const prevSteps=usePPPrevStepsStore(),{pushPrevSteps}=usePPPrevStepsStoreActions(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const prevPagesString=sessionStorage.getItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB);if(prevPagesString)try{const prevPages=JSON.parse(prevPagesString);if(Array.isArray(prevPages)){const stepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);pushPrevSteps([...prevPages,stepName])}sessionStorage.removeItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB)}catch(error){console.error(error.message)}}),[prevSteps,pushPrevSteps,router.pathname])}PPOffsetStepsStoreContextProvider.__docgenInfo={description:"",methods:[],displayName:"PPOffsetStepsStoreContextProvider"};try{usePPStepsOffsetStore.displayName="usePPStepsOffsetStore",usePPStepsOffsetStore.__docgenInfo={description:"",displayName:"usePPStepsOffsetStore",props:{initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"PurchasePageSteps[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"]={docgenInfo:usePPStepsOffsetStore.__docgenInfo,name:"usePPStepsOffsetStore",path:"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_getCurrentStepName});const src_getCurrentStepName=function getCurrentStepName(pathname){return pathname.startsWith("/")?pathname.slice(1):pathname}},"../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_isGqlPpStep});const validGqlPpSteps={debt:!0,login:!0,offers:!0,payment:!0,specialMax:!0,specialSubscription:!0,thankYou:!0,updateDetails:!0,validSubscription:!0,coupon:!1,error:!1,changeSuccess:!1,paymentChange:!1};const src_isGqlPpStep=function isGqlPpStep(step){return validGqlPpSteps[step]||!1}},"../../utils/s-image-utils/src/buildBaseImgSrc/buildBaseImgSrc.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function wrapWithEnvParam(url,env){return`${url}&cms${env}`}function buildBaseImgSrc(_ref){let{imgData,contentId,width,height,aspectRatio,isCropped,aspectData,env}=_ref;const path=imgData.path,subdomain=path.toLowerCase().endsWith(".gif")?"gif":"img",precropParams=[];return isCropped&&aspectData&&(precropParams.push(aspectData.width),precropParams.push(aspectData.height),precropParams.push(`x${aspectData.x}`),precropParams.push(`y${aspectData.y}`)),wrapWithEnvParam(`https://${subdomain}.haarets.co.il/bs/${contentId}/${path}?${precropParams.length?`precrop=${precropParams.join(",")}`:""}&width=${width}&height=${height||(aspectRatio&&Math.round(width/aspectRatio)||width)}`,env)}__webpack_require__.d(__webpack_exports__,{B:()=>wrapWithEnvParam,Z:()=>buildBaseImgSrc})},"../../utils/s-image-utils/src/buildBaseImgSrc/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrc/buildBaseImgSrc.ts").Z},"../../utils/s-image-utils/src/buildBaseImgSrcset/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_buildBaseImgSrcset});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),buildBaseImgSrc=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrc/buildBaseImgSrc.ts");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const src_buildBaseImgSrcset=function buildBaseImgSrcset(_ref){let{env,src,aspectRatio,widths,heights}=_ref;const baseSrc=src.split("&")[0],sortedWidth=[...widths].sort(((a,b)=>a-b)),srcSetObject=widths.reduce(((acc,currWidth,index)=>{const currentUrl=`${(0,buildBaseImgSrc.B)(`${baseSrc}&width=${currWidth}${"&height="+(heights?`&height=${heights[index]}`:`${aspectRatio&&Math.round(currWidth/aspectRatio)||currWidth}`)}`,env)} ${currWidth}w`;return _objectSpread(_objectSpread({},acc),{},{[currWidth]:currentUrl})}),{});return sortedWidth.reduce(((acc,currWidth,index)=>index===sortedWidth.length-1?`${acc}${srcSetObject[currWidth]}`:`${acc}${srcSetObject[currWidth]}, `),"")}},"../../utils/s-image-utils/src/buildSizesString/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_buildSizesString});const widthsInEm={s:37.5,m:48,l:64,xl:80,xxl:102};const src_buildSizesString=function buildSizesString(sizes){let fromMq;return sizes.sort(((a,b)=>b.from?a.from?widthsInEm[a.from]-widthsInEm[b.from]:0:-1)).reduce(((acc,_ref,index)=>{let{from,size}=_ref;return from?(fromMq=`(min-width:${widthsInEm[from]}em)`,sizes.length-1===index?`${acc}${fromMq} ${size}`:`${acc}${fromMq} ${size}, `):sizes.length-1===index?`${acc}${size}`:`${acc}${size}, `}),"")}},"../../utils/s-image-utils/src/getAspectData/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>src_getAspectData});const aspectRatios={regular:{height:3,width:3.9},headline:{height:9,width:15.48},landscape:{height:9,width:20.79},square:{height:1,width:1},vertical:{height:20,width:17},wide:{height:1,width:3.18}};const src_getAspectData=function getAspectData(aspect,imgData){const isCropped="full"!==aspect,aspectRatio=isCropped?aspectRatios[aspect].width/aspectRatios[aspect].height:imgData.width/imgData.height;let aspectData;if(isCropped&&(aspectData=imgData.crops[aspect],!aspectData)){const croppedHeight=Math.round(imgData.width/aspectRatio),shouldCropHeight=croppedHeight<imgData.height;aspectData={__typename:"ImageCrop",height:shouldCropHeight?croppedHeight:imgData.height,width:shouldCropHeight?imgData.width:Math.round(imgData.height*aspectRatio),x:0,y:0}}return{isCropped,aspectRatio,aspectData}}},"../../utils/s-pp-storybook-providers/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>s_pp_storybook_providers_src});var react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/index.ts"),s_use_pp_offset_steps_store_src=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx"),useConfig=__webpack_require__("../../hooks/s-use-config/src/useConfig.ts"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js");react.createElement;function withProviders(Story,context){return react.createElement(useConfig.E.Provider,{value:configShim.Z},react.createElement(src.ZP,null,react.createElement(s_use_pp_offset_steps_store_src.ZP,null,react.createElement(useBiDataContext.i,null,react.createElement(Story,context)))))}withProviders.__docgenInfo={description:"",methods:[],displayName:"withProviders"};const s_pp_storybook_providers_src=withProviders},"../../../node_modules/.pnpm/next@13.4.5_@babel+core@7.22.5_babel-plugin-macros@3.1.0_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("../../../node_modules/.pnpm/next@13.4.5_@babel+core@7.22.5_babel-plugin-macros@3.1.0_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/shared/lib/head.js")}}]);