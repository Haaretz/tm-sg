"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[5556],{"../../ds-atoms/s-htz-link/src/HtzLink.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const _excluded=["children","href","hrefAs","locale","prefetch","replace","scroll","shallow"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const HtzLink=react__WEBPACK_IMPORTED_MODULE_3__.forwardRef((function HtzLinkComponent(_ref,forwardedRef){let{children=null,href,hrefAs,locale,prefetch,replace,scroll,shallow}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);if("string"!=typeof href&&!href.href)return console.warn('The "href" prop you passed <HtzLink /> is a "URL" object without an "href" field:',href,"\nOpting out of rendering the element"),console.trace(),null;if(function isNextLink(href){return"string"!=typeof href||!href.startsWith("http")}(href))return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_2___default(),_objectSpread(_objectSpread({as:hrefAs,href,locale,prefetch,ref:forwardedRef,replace,scroll,shallow,legacyBehavior:!1},attrs),{},{children}));const url="string"==typeof href?href:href.href||void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("a",_objectSpread(_objectSpread({href:url,ref:forwardedRef},attrs),{},{children}))}));HtzLink.__docgenInfo={description:"",methods:[],displayName:"HtzLink",props:{children:{defaultValue:{value:"null",computed:!1},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=HtzLink;try{HtzLink.displayName="HtzLink",HtzLink.__docgenInfo={description:"",displayName:"HtzLink",props:{href:{defaultValue:null,description:"The path or URL to navigate to. It can also be an object.\n@example https://nextjs.org/docs/api-reference/next/link#with-url-object",name:"href",required:!0,type:{name:"Url"}},replace:{defaultValue:null,description:"Replace the current `history` state instead of adding a new url into the stack.\n@defaultValue `false`",name:"replace",required:!1,type:{name:"boolean | undefined"}},scroll:{defaultValue:null,description:"Whether to override the default scroll behavior\n@example https://nextjs.org/docs/api-reference/next/link#disable-scrolling-to-the-top-of-the-page\n@defaultValue `true`",name:"scroll",required:!1,type:{name:"boolean | undefined"}},shallow:{defaultValue:null,description:"Update the path of the current page without rerunning [`getStaticProps`](/docs/basic-features/data-fetching/get-static-props.md), [`getServerSideProps`](/docs/basic-features/data-fetching/get-server-side-props.md) or [`getInitialProps`](/docs/api-reference/data-fetching/get-initial-props.md).\n@defaultValue `false`",name:"shallow",required:!1,type:{name:"boolean | undefined"}},prefetch:{defaultValue:null,description:"Prefetch the page in the background.\nAny `<Link />` that is in the viewport (initially or through scroll) will be preloaded.\nPrefetch can be disabled by passing `prefetch={false}`. When `prefetch` is set to `false`, prefetching will still occur on hover. Pages using [Static Generation](/docs/basic-features/data-fetching/get-static-props.md) will preload `JSON` files with the data for faster page transitions. Prefetching is only enabled in production.\n@defaultValue `true`",name:"prefetch",required:!1,type:{name:"boolean | undefined"}},locale:{defaultValue:null,description:"The active locale is automatically prepended. `locale` allows for providing a different locale.\nWhen `false` `href` has to include the locale as the default behavior is disabled.",name:"locale",required:!1,type:{name:"string | false | undefined"}},onMouseEnter:{defaultValue:null,description:"Optional event handler for when the mouse pointer is moved onto Link",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},onTouchStart:{defaultValue:null,description:"Optional event handler for when Link is touched.",name:"onTouchStart",required:!1,type:{name:"TouchEventHandler<HTMLAnchorElement> | undefined"}},onClick:{defaultValue:null,description:"Optional event handler for when Link is clicked.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},hrefAs:{defaultValue:null,description:"When different than `href`, the path that will be rendered in the browser\nURL bar. Used for dynamic routes. Otherwise used to decorate how `href` is\ndisplayed in the browser's URL bar.",name:"hrefAs",required:!1,type:{name:"Url | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-htz-link/src/HtzLink.tsx#HtzLink"]={docgenInfo:HtzLink.__docgenInfo,name:"HtzLink",path:"../../ds-atoms/s-htz-link/src/HtzLink.tsx#HtzLink"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-htz-link/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-htz-link/src/HtzLink.tsx").Z},"../../ds-molecules/s-article-breadcrumbs/src/ArticleBreadcrumbs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ArticleBreadcrumbs});var jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),platformContext=__webpack_require__("../../utils/s-server-context/src/contexts/platform/platformContext.ts"),src=__webpack_require__("../../ds-atoms/s-visually-hidden/src/index.ts"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs"),s_htz_link_src=__webpack_require__("../../ds-atoms/s-htz-link/src/index.ts"),s_use_bi_src=__webpack_require__("../../hooks/s-use-bi/src/index.ts");function Breadcrumb(_ref){let{href,children}=_ref;const biAction=(0,s_use_bi_src.Z)();return(0,jsx_runtime.jsx)(s_htz_link_src.Z,{href,onClick:()=>{biAction({feature_type:"content",feature:"breadcrumbs",campaign_details:children,action_id:153})},children})}try{Breadcrumb.displayName="Breadcrumb",Breadcrumb.__docgenInfo={description:"",displayName:"Breadcrumb",props:{children:{defaultValue:null,description:"The breadcrumb section name",name:"children",required:!0,type:{name:"string"}},href:{defaultValue:null,description:"The url to pass to the HtzLink",name:"href",required:!0,type:{name:"Url"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-molecules/s-article-breadcrumbs/src/Breadcrumb.tsx#Breadcrumb"]={docgenInfo:Breadcrumb.__docgenInfo,name:"Breadcrumb",path:"../../ds-molecules/s-article-breadcrumbs/src/Breadcrumb.tsx#Breadcrumb"})}catch(__react_docgen_typescript_loader_error){}const c={base:{fontWeight:"iArmrS",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:48em) and (max-width:101.9375em)":{fontSize:"jWIcWK",lineHeight:"kkdmCo"},"@media all and (min-width:102em)":{fontSize:"jbDMjY",lineHeight:"kzePcG"}},mostNestedSectionNeutral:{color:"gNLHnd","@media all and (max-width:47.9375em)":{color:"dlhDZp"}},mostNestedSection:{color:"dnEfRx",display:"fdLHFk","@media all and (max-width:47.9375em)":{color:"eOzKTn"}},primarySectionArticle:{color:"hItIsY"},primarySectionNeutral:{color:"buiwtk"},primarySection:{paddingInlineEnd:"cfEHVR",display:"fdLHFk","::after":{content:"hPRUYY",fontSize:"iUjYJF",pointerEvents:"bRqMhI",userSelect:"jWXovl"},"@media all and (max-width:47.9375em)":{display:"gbedSn"}}};function ArticleBreadcrumbs(_ref){let{breadcrumbs,kind="default"}=_ref;const platform=(0,platformContext.X)();if(!breadcrumbs||0===breadcrumbs.length||"app"===platform)return null;const[_article,mostNestedSection,...restSections]=breadcrumbs,primarySection=restSections.length>1?restSections[restSections.length-2]:void 0;return(0,jsx_runtime.jsxs)("nav",{className:(0,style9.Z)(c.base),"aria-labelledby":"article-breadcrumbs-header",children:[(0,jsx_runtime.jsx)(src.ZP,{as:"h2",id:"article-breadcrumbs-header",children:"מיקומך באתר"}),(0,jsx_runtime.jsxs)("ol",{children:[primarySection&&primarySection.href&&(0,jsx_runtime.jsx)("li",{className:(0,style9.Z)(c.primarySection,"magazine"===kind?c.primarySectionNeutral:c.primarySectionArticle),children:(0,jsx_runtime.jsx)(Breadcrumb,{href:primarySection.href,children:primarySection.body})}),mostNestedSection.href&&(0,jsx_runtime.jsx)("li",{className:(0,style9.Z)(c.mostNestedSection,"magazine"===kind&&c.mostNestedSectionNeutral,!primarySection&&("magazine"===kind?c.primarySectionNeutral:c.primarySectionArticle)),children:(0,jsx_runtime.jsx)(Breadcrumb,{href:mostNestedSection.href,children:mostNestedSection.body})})]})]})}try{ArticleBreadcrumbs.displayName="ArticleBreadcrumbs",ArticleBreadcrumbs.__docgenInfo={description:"",displayName:"ArticleBreadcrumbs",props:{breadcrumbs:{defaultValue:null,description:"The Children to be rendered inside `<ArticleBreadcrumb>`",name:"breadcrumbs",required:!0,type:{name:"LineageServerFragment[] | null"}},kind:{defaultValue:{value:"default"},description:"By Default the primary section will be in brand colors.\nadding this prop will color the ArticleBreadcrumbs in Neutral colors",name:"kind",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"default"'},{value:'"magazine"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-molecules/s-article-breadcrumbs/src/ArticleBreadcrumbs.tsx#ArticleBreadcrumbs"]={docgenInfo:ArticleBreadcrumbs.__docgenInfo,name:"ArticleBreadcrumbs",path:"../../ds-molecules/s-article-breadcrumbs/src/ArticleBreadcrumbs.tsx#ArticleBreadcrumbs"})}catch(__react_docgen_typescript_loader_error){}},"../../hooks/s-use-bi/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src});var configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx");const src=function useBi(){let biUrl,biType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"action";const biServer=configShim.Z.get("bIServer");switch(biType){case"impression":biUrl=`${biServer}/impressionPlain`;break;case"pageview":biUrl=`${biServer}/requestPlain`;break;default:biUrl=`${biServer}/actionPlain`}const contextBiDataPromise=(0,useBiDataContext.Z)();return react.useCallback((userBiData=>{contextBiDataPromise.then((contextBiData=>{var _window$navigator;const{additional_info}=userBiData;additional_info&&"object"==typeof additional_info&&(userBiData.additional_info=JSON.stringify(additional_info));const finalBiData=Object.assign({},contextBiData,userBiData);null===(_window$navigator=window.navigator)||void 0===_window$navigator||_window$navigator.sendBeacon(biUrl,JSON.stringify(finalBiData))}))}),[biUrl,contextBiDataPromise])}},"../../hooks/s-use-bi/src/useBiDataContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>BiDataContextProvider,Z:()=>useBiDataContext});var jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),src_platform=__webpack_require__("../../utils/s-atoms/src/platform/index.ts"),src_user=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),capitalize=__webpack_require__("../../utils/s-common-utils/src/capitalize/index.ts"),discardNullableValues=__webpack_require__("../../utils/s-common-utils/src/discardNullableValues/index.ts");const src=function usePageType(){return"promotions-page"===configShim.Z.get("appType")?"promotions":void 0};var usePPDataStore=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const noop=()=>{};const BiDataContext=react.createContext(void 0);function BiDataContextProvider(_ref){let{children}=_ref;const biData=function useCollectBiData(){const _window="undefined"!=typeof window?window:void 0,usePurchasePageDataStore="promotions-page"===configShim.Z.get("appType")?usePPDataStore.JV:noop,[user]=(0,src_user.Z)(),page_type=src(),ppDataStore=usePurchasePageDataStore(),[platform]=(0,src_platform.Z)(),currentPageUrl=_window?new URL(_window.document.URL):void 0,urlSearchParams=new URLSearchParams(null==_window?void 0:_window.location.search),{anonymousId:anonymous_id,extendedType:user_type}=user||{},urlParamsObj=Array.from(urlSearchParams.entries()).reduce(((acc,_ref)=>{let[key,value]=_ref;return _objectSpread(_objectSpread({},acc),{},{[key]:value})}),{}),{utm_medium,htm_medium,utm_content,htm_content,utm_source,htm_source,utm_campaign,htm_campaign,utm_segment,utm_type,htm_type}=urlParamsObj;return Promise.all([]).then((function(){var _window$document;return(0,discardNullableValues.Z)({anonymous_id,user_type,site:null==currentPageUrl?void 0:currentPageUrl.origin,url:null==currentPageUrl?void 0:currentPageUrl.href,page_type:page_type&&(0,capitalize.Z)(page_type),article_id:noop(),writer_name:noop(),article_type:noop(),primary_section:noop(),secondary_section:noop(),paywall_status:noop(),blocked:noop(),ad_block_state:noop(),platform:(0,capitalize.Z)(platform),useragent:null==_window?void 0:_window.navigator.userAgent,utm_medium:utm_medium||htm_medium,utm_content:utm_content||htm_content,utm_source:utm_source||htm_source,utm_campaign:utm_campaign||htm_campaign,utm_type:utm_type||htm_type,referrer_type:null==_window||null===(_window$document=_window.document)||void 0===_window$document?void 0:_window$document.referrer,prod_no:null==ppDataStore?void 0:ppDataStore.productNumber,sale_code:null==ppDataStore?void 0:ppDataStore.saleCode,promotions_no:null==ppDataStore?void 0:ppDataStore.promotionNumber,stage:noop(),action_id:noop(),feature:noop(),feature_type:noop(),personal_feature:noop(),campaign_name:noop(),campaign_details:noop(),scroll_height:noop(),ab_test_group:noop(),ab_test_name:noop(),additional_info:noop(),next_article_id:noop(),next_article_teaser_id:noop(),next_article_noinlist:noop(),recommendation_type:noop(),next_article_viewname:noop(),next_article_list_name:noop(),next_article_list_id:noop(),next_article_noinpage:noop(),newsletter_segment_id:noop(),newsletter_segment_name:noop(),newsletter_email:noop(),darkmode:noop(),utm_segment,marketing_element:noop()})}))}();return(0,jsx_runtime.jsx)(BiDataContext.Provider,{value:biData,children})}function useBiDataContext(){const context=react.useContext(BiDataContext);if(void 0===context)throw new Error("useBiDataContext must be used within a BiDataContext.");return context}try{BiDataContextProvider.displayName="BiDataContextProvider",BiDataContextProvider.__docgenInfo={description:"",displayName:"BiDataContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../hooks/s-use-bi/src/useBiDataContext.tsx#BiDataContextProvider"]={docgenInfo:BiDataContextProvider.__docgenInfo,name:"BiDataContextProvider",path:"../../hooks/s-use-bi/src/useBiDataContext.tsx#BiDataContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"../../mocks/l-mocks/src/elements/Breadcrumbs.mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>breadcrumbsWithNoPrimary,u:()=>mockBreadcrumbs});const mockBreadcrumbs=[{__typename:"Lineage",pathSegment:"00000187-7f51-d484-adef-ffd57b8b0000",href:"https://www.haaretz.co.il/blogs/taliherutisover/2023-04-16/ty-article/00000187-7f51-d484-adef-ffd57b8b0000",body:'למה בישראל משתפים פעולה עם ה"מעקף" לבחירת מין היילוד?',contentId:"00000187-7f51-d484-adef-ffd57b8b0000"},{__typename:"Lineage",pathSegment:"taliherutisover",href:"https://www.haaretz.co.il/blogs/taliherutisover",body:"אשה עובדת",contentId:"0000017d-d246-d3b8-afff-dece4f2b0000"},{__typename:"Lineage",pathSegment:"blogs",href:"https://www.haaretz.co.il/blogs",body:"בלוגים ",contentId:"0000017d-d242-d430-afff-f7ca73490000"},{__typename:"Lineage",pathSegment:null,href:"https://www.haaretz.co.il/",body:"הארץ",contentId:"0000017d-93e0-d82c-a57d-93f91c400000"}],breadcrumbsWithNoPrimary=[{__typename:"Lineage",pathSegment:"00000187-7f51-d484-adef-ffd57b8b0000",href:"https://www.haaretz.co.il/blogs/taliherutisover/2023-04-16/ty-article/00000187-7f51-d484-adef-ffd57b8b0000",body:'למה בישראל משתפים פעולה עם ה"מעקף" לבחירת מין היילוד?',contentId:"00000187-7f51-d484-adef-ffd57b8b0000"},{__typename:"Lineage",pathSegment:"taliherutisover",href:"https://www.haaretz.co.il/blogs/taliherutisover",body:"אשה עובדת",contentId:"0000017d-d246-d3b8-afff-dece4f2b0000"},{__typename:"Lineage",pathSegment:"blogs",href:"https://www.haaretz.co.il/blogs",body:"בלוגים ",contentId:"0000017d-d242-d430-afff-f7ca73490000"}]},"../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>PPDataStoreContextProvider,vA:()=>usePPCouponStore,JV:()=>usePPDataStore,Z_:()=>usePPDataStoreActions,c:()=>usePPUpdateCouponStore,NJ:()=>usePpDataStoreInitialization});var objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),src=__webpack_require__("../../shared/s-consts/src/index.ts");const src_removeQueryParam=function removeQueryParam(param,router){const{pathname,query}=router,params=new URLSearchParams(query);params.delete(param),router.replace({pathname,query:params.toString()},void 0,{shallow:!0})};var dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.10_next@13.5.4_react@18.2.0/node_modules/next-router-mock/dist/index.js"),react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const getPPDataStoreActionsContext=function actionsContextFactory(){const Context=react.createContext(void 0);return function(){return Context}}(),getPPDataStoreContext=function dataContextFactory(){const Context=react.createContext(void 0);return function(){return Context}}(),PPCouponStoreContext=react.createContext(void 0),PPCouponUpdateStoreContext=react.createContext(void 0);function PPDataStoreContextProvider(_ref){let{children,initialState}=_ref;const[store,setStore]=react.useState(initialState||{}),[coupon,setCoupon]=react.useState(null),storeActions=react.useMemo((()=>({updateStore:newState=>{setStore((prevState=>_objectSpread(_objectSpread({},prevState),newState)))},clearStore:field=>setStore((prevState=>{if(field){const{[field]:deleted}=prevState;return(0,objectWithoutProperties.Z)(prevState,[field].map(_toPropertyKey))}return{referrer:prevState.referrer}}))})),[]);react.useEffect((()=>{const referrer=document.referrer;referrer&&!store.referrer&&storeActions.updateStore({referrer})}),[storeActions,store.referrer]);const PPDataStoreContext=getPPDataStoreContext(),PPDataStoreActionsContext=getPPDataStoreActionsContext();return(0,jsx_runtime.jsx)(PPCouponStoreContext.Provider,{value:coupon,children:(0,jsx_runtime.jsx)(PPCouponUpdateStoreContext.Provider,{value:setCoupon,children:(0,jsx_runtime.jsx)(PPDataStoreContext.Provider,{value:store,children:(0,jsx_runtime.jsx)(PPDataStoreActionsContext.Provider,{value:storeActions,children})})})})}function usePPDataStore(){const context=react.useContext(getPPDataStoreContext());if(!context)throw new Error("usePPDataStore must be used within a PPDataStoreContextProvider");return context}function usePPDataStoreActions(){const context=react.useContext(getPPDataStoreActionsContext());if(!context)throw new Error("usePPDataStoreActions must be used within a PPDataStoreActionsContextProvider");return context}function usePPCouponStore(){const context=react.useContext(PPCouponStoreContext);if(void 0===context)throw new Error("usePPCouponStore must be used within a PPCouponStoreContext");return context}function usePPUpdateCouponStore(){const context=react.useContext(PPCouponUpdateStoreContext);if(!context)throw new Error("usePPUpdateCouponStore must be used within a PPCouponUpdateStoreContext");return context}function usePpDataStoreInitialization(){const store=usePPDataStore(),{updateStore}=usePPDataStoreActions(),router=(0,dist.useRouter)();react.useEffect((()=>{if(!store.contentId){const storeDataFromUrl=router.query.storeData,storeString="string"==typeof storeDataFromUrl?decodeURIComponent(storeDataFromUrl):sessionStorage.getItem(src.Mc);if(storeString)try{const restoredStore=JSON.parse(storeString);restoredStore&&updateStore(_objectSpread({},restoredStore)),sessionStorage.removeItem(src.Mc),storeDataFromUrl&&src_removeQueryParam("storeData",router)}catch(error){console.error(error.message)}}}),[router,store,updateStore])}try{usePPDataStore.displayName="usePPDataStore",usePPDataStore.__docgenInfo={description:"",displayName:"usePPDataStore",props:{initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"PPDataStoreContextProps | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx#usePPDataStore"]={docgenInfo:usePPDataStore.__docgenInfo,name:"usePPDataStore",path:"../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx#usePPDataStore"})}catch(__react_docgen_typescript_loader_error){}},"../../utils/s-common-utils/src/discardNullableValues/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_discardNullableValues});const src_discardNullableValues=obj=>{const result={};for(const key in obj)null!==obj[key]&&void 0!==obj[key]&&(result[key]=obj[key]);return result}},"../../utils/s-storybook-providers/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const src=function StorybookProviders(Story,context){return(0,jsx_runtime.jsx)(useBiDataContext.i,{children:(0,jsx_runtime.jsx)(Story,_objectSpread({},context))})}}}]);