"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[23],{"../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"../../ds-organisms/s-audio-player/src/AudioPlayer.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Overview:()=>Overview,default:()=>AudioPlayer_stories});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),src=__webpack_require__("../../ds-atoms/s-icon/src/index.ts"),platformContext=__webpack_require__("../../utils/s-server-context/src/contexts/platform/platformContext.ts"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),buildBaseImgSrc=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrc/index.ts"),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const playbackRate=[1,1.25,1.5,1.75,2,.5,.75],audioPlayerUtils_skipTime=15,currentTimeLabel="זמן",durationTimeLabel="אורך",ffLabel="דילוג",rwLabel="חזרה",playLabel="ניגון",keyDirection={ArrowLeft:-1,ArrowRight:1,ArrowDown:-1,ArrowUp:1,PageDown:-3,PageUp:3,End:1/0,Home:-1/0},formatTime=totalSeconds=>{if(totalSeconds<0||totalSeconds===1/0)return"-- : --";const hours=Math.floor(totalSeconds/3600),minutes=Math.floor(totalSeconds%3600/60),seconds=Math.floor(totalSeconds%60);return`${hours?`${hours}:`:""}${hours&&minutes<10?`0${minutes}`:minutes}:${seconds<10?`0${seconds}`:seconds}`},getProgressStyle=(currentTime,durationTime)=>`linear-gradient(to right, rgb(var(--c-primary1000)) 0%, rgb(var(--c-primary1000)) ${currentTime/durationTime*100}%, rgb(var(--c-neutral500)) ${currentTime/durationTime*100}%, rgb(var(--c-neutral500)) 100%)`,Env=configShim.Z.get("env");var react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const noop=()=>{},defaultValue={audio:null,title:"",channelName:null,currentTime:0,durationTime:0,isPlaying:!1,wasNotPlayed:!0,playbackIndex:playbackRate[0],onSkip:noop,onPlayButtonClick:noop,onPauseButtonClick:noop,onNextPlayBackRate:noop},audioPlayerContext=react.createContext(defaultValue),src_useAudioPlayerContext=()=>react.useContext(audioPlayerContext);var s_visually_hidden_src=__webpack_require__("../../ds-atoms/s-visually-hidden/src/index.ts");const c={skipButton:{width:"fXfFYu",height:"kAAWGT","@media all and (min-width:102em)":{width:"gXYAQk",height:"iIAHzI"}},skipLabel:{userSelect:"eAOGpx",pointerEvents:"eDssNQ",position:"bEvNbr",top:"gBiAiV",fontWeight:"iLdtFu",fontSize:"efkEmg",lineHeight:"dqhMCA","@media all and (min-width:80em)":{fontSize:"dfTmC",lineHeight:"eWbGFe"},"@media all and (min-width:102em)":{top:"kGzMwx"}},rw:{gridColumnStart:"llihWU",gridColumnEnd:"eKLNwi",gridRowStart:"hLSSUO",gridRowEnd:"fkdxiF",display:"gSBWlu",alignItems:"eDqhWL",justifyContent:"IVbXa","@media all and (min-width:37.5em)":{alignItems:"hMdFPW",gridColumnStart:"jiJRNY",gridColumnEnd:"VwNjS",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},ff:{gridColumnStart:"cjkjoz",gridColumnEnd:"gAMLgY",gridRowStart:"hLSSUO",gridRowEnd:"fkdxiF",display:"gSBWlu",alignItems:"eDqhWL",justifyContent:"IVbXa","@media all and (min-width:37.5em)":{alignItems:"hMdFPW",gridColumnStart:"dpHaXM",gridColumnEnd:"jqJbLM",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},audioWrap:{gridColumnStart:"dvmkTb",gridColumnEnd:"bGAFZW",gridRowStart:"hIOKJM",gridRowEnd:"fkdxiF",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa","@media all and (min-width:37.5em)":{gridColumnStart:"easjmz",gridColumnEnd:"cZVfE",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},audioButton:{width:"cnIjYE",height:"gVjMzz",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa",borderTopLeftRadius:"eCJvpO",borderTopRightRadius:"KuLii",borderBottomRightRadius:"cPOOyy",borderBottomLeftRadius:"dJEuaT",backgroundColor:"fIcjCT","@media all and (min-width:37.5em)":{width:"kkCzXP",height:"eEkPPS"},"@media all and (min-width:102em)":{width:"kjFOdW",height:"kDqgeQ"}},icon:{width:"fXfFYu",height:"kAAWGT","@media all and (min-width:102em)":{width:"gXYAQk",height:"iIAHzI"}},iconPlay:{transform:"iAVCJP"},button:{backgroundColor:"eMuZOH",position:"cjScYX",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa"}};function AudioControls(){const{isPlaying,onSkip,onPauseButtonClick,onPlayButtonClick}=src_useAudioPlayerContext();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(c.ff),children:(0,jsx_runtime.jsxs)("button",{onClick:()=>onSkip(audioPlayerUtils_skipTime),className:(0,style9.Z)(c.button),children:[(0,jsx_runtime.jsx)(s_visually_hidden_src.ZP,{children:ffLabel}),(0,jsx_runtime.jsx)(src.Z,{styleExtend:[c.skipButton],icon:"audio-ff"}),(0,jsx_runtime.jsx)("span",{className:(0,style9.Z)(c.skipLabel),"aria-hidden":"true",children:audioPlayerUtils_skipTime})]})}),(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(c.audioWrap),children:(0,jsx_runtime.jsx)("button",{className:(0,style9.Z)(c.audioButton),onClick:isPlaying?onPauseButtonClick:onPlayButtonClick,children:(0,jsx_runtime.jsx)(src.Z,{styleExtend:[c.icon,!isPlaying&&c.iconPlay],icon:""+(isPlaying?"pause":"play"),variant:"inverse",screenReaderText:playLabel})})}),(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(c.rw),children:(0,jsx_runtime.jsxs)("button",{onClick:()=>onSkip(-audioPlayerUtils_skipTime),className:(0,style9.Z)(c.button),children:[(0,jsx_runtime.jsx)(s_visually_hidden_src.ZP,{children:rwLabel}),(0,jsx_runtime.jsx)(src.Z,{styleExtend:[c.skipButton],icon:"audio-rw"}),(0,jsx_runtime.jsx)("span",{className:(0,style9.Z)(c.skipLabel),"aria-hidden":"true",children:audioPlayerUtils_skipTime})]})})]})}const ChangeSpeedButton_c={base:{gridColumnStart:"ghFsRA",gridColumnEnd:"fSUeDX",gridRowStart:"hLSSUO",gridRowEnd:"fkdxiF",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"fPWmiY","@media all and (min-width:37.5em)":{gridColumnStart:"gBERXw",gridColumnEnd:"iQpyrT",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},button:{backgroundColor:"eMuZOH",fontWeight:"iLdtFu",userSelect:"eAOGpx",minWidth:"deUyGl",textAlign:"hgpJrQ",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:37.5em)":{marginInlineEnd:"hOnDwS"},"@media all and (min-width:80em)":{fontSize:"jsxLDp",lineHeight:"gckvNQ"}}};function ChangeSpeedButton(){const{playbackIndex,onNextPlayBackRate}=src_useAudioPlayerContext();return(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(ChangeSpeedButton_c.base),children:(0,jsx_runtime.jsx)("button",{onClick:onNextPlayBackRate,className:(0,style9.Z)(ChangeSpeedButton_c.button),"data-testid":"changeSpeedButton",children:`${playbackRate[playbackIndex]}X`})})}const FirstPlay_c={base:{width:"cRUUAa",paddingTop:"kpCrIt",paddingLeft:"iDuqPI",paddingRight:"ftIldC",paddingBottom:"cvPkWa","@media all and (min-width:48em)":{paddingTop:"duHDmZ",paddingLeft:"ljHbYU",paddingRight:"soily",paddingBottom:"dYYHBG"},"@media all and (min-width:64em)":{paddingTop:"jUuiZJ",paddingRight:"hNgJqM",paddingBottom:"eshNGG",paddingLeft:"iSYfCW"}},channelName:{color:"URsRO",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:48em)":{fontSize:"gNpfkt",lineHeight:"eAFzZw"},"@media all and (min-width:80em)":{fontSize:"hauAvq",lineHeight:"fKdRdV"}},main:{display:"gSBWlu",alignItems:"foGVKH",justifyContent:"kJzccJ",fontSize:"iKjpVA",lineHeight:"cVaJzg","@media all and (min-width:48em)":{fontSize:"dZNyKm",lineHeight:"UnqQc"},"@media all and (min-width:64em)":{fontSize:"jEHFpN",lineHeight:"jEjldP"},"@media all and (min-width:80em)":{fontSize:"grQyFE",lineHeight:"gzgUVO"}}};function FirstPlay(_ref){let{channelName,title,children}=_ref;return(0,jsx_runtime.jsxs)("div",{className:(0,style9.Z)(FirstPlay_c.base),children:[(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(FirstPlay_c.channelName),children:channelName}),(0,jsx_runtime.jsxs)("div",{className:(0,style9.Z)(FirstPlay_c.main),children:[(0,jsx_runtime.jsx)("span",{children:title}),children]})]})}try{FirstPlay.displayName="FirstPlay",FirstPlay.__docgenInfo={description:"",displayName:"FirstPlay",props:{channelName:{defaultValue:null,description:"",name:"channelName",required:!0,type:{name:"string | null | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-organisms/s-audio-player/src/components/FirstPlay.tsx#FirstPlay"]={docgenInfo:FirstPlay.__docgenInfo,name:"FirstPlay",path:"../../ds-organisms/s-audio-player/src/components/FirstPlay.tsx#FirstPlay"})}catch(__react_docgen_typescript_loader_error){}const SliderAudio_c={inputWrapper:{display:"gSBWlu",justifyContent:"IVbXa",alignItems:"eDqhWL",marginBottom:"dSvNJo",flexGrow:"iGDTOy",gridColumnStart:"ghFsRA",gridColumnEnd:"eKLNwi",gridRowStart:"hIOKJM",gridRowEnd:"bIrfjq","@media all and (min-width:37.5em)":{marginBottom:"enoXMt",alignItems:"hMdFPW",gridColumnStart:"bchnix",gridColumnEnd:"cvWein",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},pointerActive:{"::-webkit-slider-thumb":{boxShadow:"kYqTMf",":hover":{transform:"ghptoL"}},"::-moz-range-thumb":{boxShadow:"RMsse",":hover":{transform:"cnBLGh"}}},input:{"::-webkit-slider-thumb":{WebkitAppearance:"iYVYjo",backgroundColor:"ipBUVD",width:"kyEBIV",height:"cljocc",borderTopLeftRadius:"bvwBeQ",borderTopRightRadius:"loouqT",borderBottomRightRadius:"kAjEhA",borderBottomLeftRadius:"ldIqiR",":hover":{transitionProperty:"gxjxZc",transitionDuration:"eUlLqL",transitionDelay:"yTOeP",transitionTimingFunction:"kDPxma",transform:"dxokfN"}},"::-moz-range-thumb":{WebkitAppearance:"dtdOeh",borderTopStyle:"gkSrsS",borderRightStyle:"fKYIGb",borderBottomStyle:"eaHDrU",borderLeftStyle:"eRkycu",backgroundColor:"jiFkpA",width:"jsDktJ",height:"huCOEt",borderTopLeftRadius:"hyczvP",borderTopRightRadius:"hYqjcS",borderBottomRightRadius:"fwFrKT",borderBottomLeftRadius:"jrAMkz",":hover":{transitionProperty:"iDPHlf",transitionDuration:"JNAmZ",transitionDelay:"bINHOm",transitionTimingFunction:"lnzGqm",transform:"idPuW"}},WebkitAppearance:"bqlCCL",width:"cRUUAa",backgroundColor:"btRaYC",borderTopLeftRadius:"gQJVfF",borderTopRightRadius:"bnguzQ",borderBottomRightRadius:"fBfCSu",borderBottomLeftRadius:"bzskLL",height:"hdJWYn",outlineStyle:"hqSOEl",cursor:"jsvbrX"},time:{fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:80em)":{fontSize:"jsxLDp",lineHeight:"gckvNQ"}},currentTime:{display:"fcXWHl","@media all and (min-width:37.5em)":{display:"fWvGVl",justifyContent:"ibnxuG",gridColumnStart:"bchnix",gridColumnEnd:"cvWein",gridRowStart:"izqYON",gridRowEnd:"bkwxDx"}},durationTime:{display:"fcXWHl","@media all and (min-width:37.5em)":{display:"fWvGVl",justifyContent:"fRmuLE",gridColumnStart:"bchnix",gridColumnEnd:"cvWein",gridRowStart:"izqYON",gridRowEnd:"bkwxDx"}}};function SliderAudio(){const inputRef=react.useRef(null),{currentTime,durationTime,audio,onSkip}=src_useAudioPlayerContext(),[isScrubingMode,setIsScrubingMode]=react.useState(!1),[timerPosition,setTimerPosition]=react.useState(currentTime);react.useEffect((()=>{isScrubingMode||setTimerPosition(currentTime)}),[currentTime]);const onChange=react.useCallback((e=>{inputRef&&inputRef.current&&(inputRef.current.style.background=getProgressStyle(+e.target.value,durationTime),setTimerPosition(+e.target.value))}),[durationTime]),onMouseDown=react.useCallback((()=>{if(!audio)return;setIsScrubingMode(!0);const handleMouseUp=()=>{var _inputRef$current;(setIsScrubingMode(!1),inputRef.current&&inputRef.current.value)&&(audio.currentTime=+(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current?void 0:_inputRef$current.value));window.removeEventListener("mouseup",handleMouseUp),window.removeEventListener("touchend",handleMouseUp)};window.addEventListener("mouseup",handleMouseUp),window.addEventListener("touchend",handleMouseUp)}),[audio]),onKeyDown=react.useCallback((e=>{keyDirection[e.key]&&onSkip(audioPlayerUtils_skipTime*keyDirection[e.key])}),[onSkip]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(SliderAudio_c.inputWrapper),children:(0,jsx_runtime.jsx)("input",{id:"audio",dir:"ltr",ref:inputRef,type:"range",value:timerPosition,className:(0,style9.Z)(SliderAudio_c.input,isScrubingMode&&SliderAudio_c.pointerActive),max:durationTime,min:0,onKeyDown,onChange,onMouseDown,onTouchStart:onMouseDown,style:{background:getProgressStyle(timerPosition,durationTime)}})}),(0,jsx_runtime.jsxs)("span",{className:(0,style9.Z)(SliderAudio_c.time,SliderAudio_c.durationTime),children:[(0,jsx_runtime.jsx)(s_visually_hidden_src.ZP,{children:durationTimeLabel}),formatTime(durationTime)]}),(0,jsx_runtime.jsxs)("output",{htmlFor:"audio",className:(0,style9.Z)(SliderAudio_c.time,SliderAudio_c.currentTime),children:[(0,jsx_runtime.jsx)(s_visually_hidden_src.ZP,{children:currentTimeLabel}),formatTime(currentTime)]})]})}const Title_c={base:{width:"cRUUAa",gridColumnStart:"ghFsRA",gridColumnEnd:"SbJud",gridRowStart:"heRyJD",gridRowEnd:"dHBwCy",minHeight:"kWbdJP",fontSize:"fyHdVr",lineHeight:"iKTruj","@media all and (min-width:48em)":{minHeight:"jRspeX",fontSize:"gNpfkt",lineHeight:"eAFzZw"},"@media all and (min-width:80em)":{fontSize:"hauAvq",lineHeight:"fKdRdV"},"@media all and (min-width:102em)":{fontSize:"iswsIN",lineHeight:"lbqvfo"}},channelName:{color:"URsRO",display:"jhKQav",alignItems:"foGVKH","::after":{width:"czzLEi",height:"furozd",content:"cQIfZO",marginInlineStart:"gFybiH",marginInlineEnd:"gQdGUn",borderTopLeftRadius:"iZcnBH",borderTopRightRadius:"glXHhV",borderBottomRightRadius:"kQHMoA",borderBottomLeftRadius:"goPOai",backgroundColor:"evCPOd"}}};function Title(){const{channelName,title}=src_useAudioPlayerContext();return(0,jsx_runtime.jsxs)("div",{className:(0,style9.Z)(Title_c.base),children:[channelName&&(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(Title_c.channelName),children:channelName}),(0,jsx_runtime.jsx)("figcaption",{children:(0,jsx_runtime.jsx)("h3",{children:title})})]})}const VolumeButton_c={base:{display:"fcXWHl","@media all and (min-width:37.5em)":{display:"fWvGVl",alignItems:"hMdFPW",justifyContent:"ewRtNQ",marginInlineEnd:"jXTTCb",gridColumnStart:"kWyAiX",gridColumnEnd:"fbIlMH",gridRowStart:"eSUkKx",gridRowEnd:"ckaIqD"}},button:{position:"cjScYX",width:"eSltVp",height:"caItCN",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa",backgroundColor:"eMuZOH"},buttonActive:{backgroundColor:"dhkccJ",borderEndStartRadius:"ecVFss",borderEndEndRadius:"kBTgHY"},icon:{width:"byQvkk",height:"fdoezE","@media all and (min-width:102em)":{width:"fSnTqp",height:"gIxZrC"}},input:{cursor:"jsvbrX",backgroundColor:"btRaYC",borderTopLeftRadius:"gQJVfF",borderTopRightRadius:"bnguzQ",borderBottomRightRadius:"fBfCSu",borderBottomLeftRadius:"bzskLL",height:"hdJWYn",transform:"iTJitr",outlineStyle:"hqSOEl",position:"cjScYX",WebkitAppearance:"bqlCCL",left:"dpdYIx",right:"lhbdQw",top:"gepZXl",width:"gbByvw","::-webkit-slider-thumb":{WebkitAppearance:"iYVYjo",backgroundColor:"ipBUVD",width:"fMJiYN",height:"hpyflJ",borderTopLeftRadius:"bvwBeQ",borderTopRightRadius:"loouqT",borderBottomRightRadius:"kAjEhA",borderBottomLeftRadius:"ldIqiR"},"::-moz-range-thumb":{WebkitAppearance:"dtdOeh",borderTopStyle:"gkSrsS",borderRightStyle:"fKYIGb",borderBottomStyle:"eaHDrU",borderLeftStyle:"eRkycu",backgroundColor:"jiFkpA",width:"blpOjD",height:"kIYkuG",borderTopLeftRadius:"hyczvP",borderTopRightRadius:"hYqjcS",borderBottomRightRadius:"fwFrKT",borderBottomLeftRadius:"jrAMkz"}},wrapInput:{position:"bEvNbr",left:"bOjOhu",bottom:"iXeJVw",height:"gVjMzz",width:"eSltVp",borderStartStartRadius:"iPmOUY",borderStartEndRadius:"fJKJFU",backgroundColor:"dhkccJ"}};function VolumeButton(){const{audio}=src_useAudioPlayerContext(),inputRef=react.useRef(null),[isOpen,setIsOpen]=react.useState(!1),[volumeInput,setVolumeInput]=react.useState(.5),onChangeVolume=react.useCallback((e=>{if(!audio||!inputRef.current)return;const newVolume=+e.target.value;setVolumeInput(newVolume),inputRef.current.style.background=getProgressStyle(newVolume,1),audio.volume=newVolume}),[audio]),handleMouseUp=react.useCallback((()=>{setIsOpen(!1)}),[]),onVolumeClick=react.useCallback((()=>setIsOpen((prev=>!prev))),[]),audioIcon=volumeInput>=.5?"audio":0===volumeInput?"audio-off":"audio-less";return(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(VolumeButton_c.base),children:(0,jsx_runtime.jsxs)("button",{onClick:onVolumeClick,className:(0,style9.Z)(VolumeButton_c.button,isOpen&&VolumeButton_c.buttonActive),children:[isOpen&&(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(VolumeButton_c.wrapInput),children:(0,jsx_runtime.jsx)("input",{ref:inputRef,id:"volume",dir:"ltr",type:"range",className:(0,style9.Z)(VolumeButton_c.input),style:{background:getProgressStyle(volumeInput,1)},value:volumeInput,min:0,max:1,step:.05,onChange:onChangeVolume,onMouseUp:handleMouseUp,onTouchEnd:handleMouseUp})}),(0,jsx_runtime.jsx)(src.Z,{styleExtend:[VolumeButton_c.icon],icon:audioIcon}),(0,jsx_runtime.jsx)(s_visually_hidden_src.ZP,{children:(0,jsx_runtime.jsxs)("output",{htmlFor:"volume",children:["Volume: ",volumeInput]})})]})})}const AudioPlayerControlPanel_c={grid:{display:"kbCXHY",gridTemplateRows:"dPOLsP",gridTemplateColumns:"hlbjzd",columnGap:"kEFtPS",paddingTop:"jWWtke",paddingLeft:"hHZVWs",paddingRight:"gcnSZS",paddingBottom:"bnHxUw","@media all and (min-width:37.5em)":{gridTemplateRows:"kSKBjV",gridTemplateColumns:"keWYuH",paddingTop:"hesFDv",paddingLeft:"dSckek",paddingRight:"gbWWiz",paddingBottom:"kFmbSF"},"@media all and (min-width:102em)":{paddingTop:"lbWIUG",paddingLeft:"cCqrNS",paddingRight:"gEFsSF",paddingBottom:"FXneO"}},iconRunButton:{minWidth:"ibZMMr",minHeight:"gfwYwK",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa",borderTopLeftRadius:"eCJvpO",borderTopRightRadius:"KuLii",borderBottomRightRadius:"cPOOyy",borderBottomLeftRadius:"dJEuaT",backgroundColor:"fIcjCT","::after":{position:"dyMCpl",content:"fqXcHQ",top:"gOqafO",left:"hVfwnH",right:"dQvjDB",bottom:"eloweQ"},marginInlineStart:"leMFds","@media all and (min-width:48em)":{marginInlineStart:"bBiCJj"},"@media all and (min-width:102em)":{minWidth:"cbmoo",minHeight:"fiLkRa"}},iconFirstPlay:{transform:"iAVCJP",width:"eSltVp",height:"caItCN","@media all and (min-width:102em)":{width:"fbWWxP",height:"ioIgWT"}}};function AudioPlayerControlPanel(){const{wasNotPlayed,onPlayButtonClick,channelName,title}=src_useAudioPlayerContext();return wasNotPlayed?(0,jsx_runtime.jsx)(FirstPlay,{channelName,title,children:(0,jsx_runtime.jsx)("button",{className:(0,style9.Z)(AudioPlayerControlPanel_c.iconRunButton),onClick:onPlayButtonClick,children:(0,jsx_runtime.jsx)(src.Z,{icon:"play",variant:"inverse",styleExtend:[AudioPlayerControlPanel_c.iconFirstPlay],screenReaderText:playLabel})})}):(0,jsx_runtime.jsxs)("div",{className:(0,style9.Z)(AudioPlayerControlPanel_c.grid),"data-testid":"audio-player-controls",children:[(0,jsx_runtime.jsx)(Title,{}),(0,jsx_runtime.jsx)(VolumeButton,{}),(0,jsx_runtime.jsx)(ChangeSpeedButton,{}),(0,jsx_runtime.jsx)(SliderAudio,{}),(0,jsx_runtime.jsx)(AudioControls,{})]})}function AudioPlayerClient(_ref){let{fileUrl,title,channel}=_ref;const{0:audio,1:setAudio}=(0,react.useState)(null),{0:wasNotPlayed,1:setWasNotPlayed}=(0,react.useState)(!0),{0:isPlaying,1:setIsPlaying}=(0,react.useState)(!1),{0:currentTime,1:setCurrentTime}=(0,react.useState)(0),{0:playbackIndex,1:setPlaybackIndex}=(0,react.useState)(0),refCallback=(0,react.useCallback)((audioEl=>{setAudio(audioEl)}),[]),onPauseButtonClick=react.useCallback((()=>{null==audio||audio.pause()}),[audio]),onPlaying=react.useCallback((()=>{setIsPlaying(!0)}),[]),onTimeUpdate=react.useMemo((()=>audio?function throttleFn(fn){let latest,deferTimer,threshold=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function runThrottledFn(){const now=Date.now();latest&&now<latest+threshold?(deferTimer&&clearTimeout(deferTimer),deferTimer=setTimeout((()=>{latest=now,fn()}),threshold)):(latest=now,fn())}}((()=>{setCurrentTime(audio.currentTime)}),100):void 0),[audio]),onLoadedData=react.useCallback((()=>{null==audio||audio.play()}),[audio]),onSkip=react.useCallback((function(){let skipTime=arguments.length>0&&void 0!==arguments[0]?arguments[0]:audioPlayerUtils_skipTime;audio&&audio.currentTime&&(audio.currentTime=audio.currentTime+skipTime)}),[audio]),onNextPlayBackRate=react.useCallback((()=>{if(!audio)return;const getNextRateIndex=currentIndex=>currentIndex+1<playbackRate.length?currentIndex+1:0;audio.playbackRate=playbackRate[getNextRateIndex(playbackIndex)],setPlaybackIndex(getNextRateIndex)}),[audio,playbackIndex]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("audio",{ref:refCallback,onLoadedData,onPlaying,onTimeUpdate,onPause:()=>{setIsPlaying(!1)}}),(0,jsx_runtime.jsx)(audioPlayerContext.Provider,{value:{audio,title,channelName:null==channel?void 0:channel.channelName,currentTime,durationTime:(null==audio?void 0:audio.duration)||-1,isPlaying,wasNotPlayed,playbackIndex,onSkip,onPlayButtonClick:()=>{audio&&(wasNotPlayed?(setWasNotPlayed(!1),audio.src=fileUrl,audio.load()):audio.play())},onPauseButtonClick,onNextPlayBackRate},children:(0,jsx_runtime.jsx)(AudioPlayerControlPanel,{})})]})}try{AudioPlayerClient.displayName="AudioPlayerClient",AudioPlayerClient.__docgenInfo={description:"",displayName:"AudioPlayerClient",props:{fileUrl:{defaultValue:null,description:"",name:"fileUrl",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},channel:{defaultValue:null,description:"",name:"channel",required:!1,type:{name:"({ channelName?: string | null | undefined; playerType?: string | null | undefined; site?: string | null | undefined; links?: ({ apple?: string | null | undefined; application?: string | null | undefined; google?: string | ... 1 more ... | undefined; spotify?: string | ... 1 more ... | undefined; } & { ...; }) | nul..."}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"ImageServerFragment | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-organisms/s-audio-player/src/components/AudioPlayerClient.tsx#AudioPlayerClient"]={docgenInfo:AudioPlayerClient.__docgenInfo,name:"AudioPlayerClient",path:"../../ds-organisms/s-audio-player/src/components/AudioPlayerClient.tsx#AudioPlayerClient"})}catch(__react_docgen_typescript_loader_error){}const AudioPlayer_c={base:{gridColumnStart:"cgtMrY",gridColumnEnd:"TSpXR",fontWeight:"iLdtFu",backgroundColor:"fozssY",position:"cjScYX"},iconRunButton:{minWidth:"ibZMMr",minHeight:"gfwYwK",display:"gSBWlu",alignItems:"foGVKH",justifyContent:"IVbXa",borderTopLeftRadius:"eCJvpO",borderTopRightRadius:"KuLii",borderBottomRightRadius:"cPOOyy",borderBottomLeftRadius:"dJEuaT",backgroundColor:"fIcjCT","::after":{position:"dyMCpl",content:"fqXcHQ",top:"gOqafO",left:"hVfwnH",right:"dQvjDB",bottom:"eloweQ"},marginInlineStart:"leMFds","@media all and (min-width:48em)":{marginInlineStart:"bBiCJj"},"@media all and (min-width:102em)":{minWidth:"cbmoo",minHeight:"fiLkRa"}},icon:{transform:"iAVCJP",width:"eSltVp",height:"caItCN","@media all and (min-width:102em)":{width:"fbWWxP",height:"ioIgWT"}}};function AudioPlayer_AudioPlayer(_ref){let{url:fileUrl,title,channel,image}=_ref;const platform=(0,platformContext.X)();let url;return"app"===platform&&(url=(_ref=>{let{image,mobileTitle,channelLabel,channelLinks,fileUrl}=_ref;if(!fileUrl)return console.error("Audio Link: URL of file doesn't exist"),null;const url=new URL(fileUrl);if(mobileTitle&&url.searchParams.append("title",encodeURIComponent(mobileTitle)),channelLabel&&url.searchParams.append("exclusive",encodeURIComponent(channelLabel)),channelLinks&&channelLinks.apple&&url.searchParams.append("register_apple",encodeURIComponent(channelLinks.apple)),channelLinks&&channelLinks.google&&url.searchParams.append("register_android",encodeURIComponent(channelLinks.google)),image){const{contentId,files}=image||{};if(null!=files&&files[0]){var _files$,_files$2;const imgUrl=(0,buildBaseImgSrc.Z)({contentId,imgData:files[0],isCropped:!0,env:Env,width:(null==files||null===(_files$=files[0])||void 0===_files$||null===(_files$=_files$.crops)||void 0===_files$||null===(_files$=_files$.square)||void 0===_files$?void 0:_files$.width)||597,aspectData:_objectSpread({width:597,height:597,x:0,y:0},(null==files||null===(_files$2=files[0])||void 0===_files$2||null===(_files$2=_files$2.crops)||void 0===_files$2?void 0:_files$2.square)||{})});url.searchParams.append("img",encodeURIComponent(imgUrl))}}return url})({fileUrl,mobileTitle:title,channelLabel:null==channel?void 0:channel.channelName,channelLinks:null==channel?void 0:channel.links,image}),url=url?url.href:void 0),(0,jsx_runtime.jsx)("figure",{className:(0,style9.Z)(AudioPlayer_c.base),children:"app"===platform?(0,jsx_runtime.jsx)("a",{href:url,children:(0,jsx_runtime.jsx)(FirstPlay,{channelName:null==channel?void 0:channel.channelName,title,children:(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(AudioPlayer_c.iconRunButton),children:(0,jsx_runtime.jsx)(src.Z,{icon:"play",variant:"inverse",styleExtend:[AudioPlayer_c.icon],screenReaderText:playLabel})})})}):(0,jsx_runtime.jsx)(AudioPlayerClient,{fileUrl,title,channel})})}try{AudioPlayer_AudioPlayer.displayName="AudioPlayer",AudioPlayer_AudioPlayer.__docgenInfo={description:"",displayName:"AudioPlayer",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},channel:{defaultValue:null,description:"",name:"channel",required:!1,type:{name:"({ channelName?: string | null | undefined; playerType?: string | null | undefined; site?: string | null | undefined; links?: ({ apple?: string | null | undefined; application?: string | null | undefined; google?: string | ... 1 more ... | undefined; spotify?: string | ... 1 more ... | undefined; } & { ...; }) | nul..."}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"ImageServerFragment | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-organisms/s-audio-player/src/AudioPlayer.tsx#AudioPlayer"]={docgenInfo:AudioPlayer_AudioPlayer.__docgenInfo,name:"AudioPlayer",path:"../../ds-organisms/s-audio-player/src/AudioPlayer.tsx#AudioPlayer"})}catch(__react_docgen_typescript_loader_error){}var lib=__webpack_require__("../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("../../../node_modules/.pnpm/@storybook+addon-docs@7.4.6_@types+react-dom@18.2.11_@types+react@18.2.25_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-docs/dist/index.mjs");function _createMdxContent(props){const _components=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",h3:"h3"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"audioplayer",children:"AudioPlayer"}),"\n",(0,jsx_runtime.jsx)("br",{}),"\n","\n","\n","\n",(0,jsx_runtime.jsx)(_components.h2,{id:"installation",children:"Installation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Make sure the package you use ",(0,jsx_runtime.jsx)(_components.code,{children:"AudioPlayer"})," in has ",(0,jsx_runtime.jsx)(_components.code,{children:"@haaretz/s-audio-player"}),"\nlisted in its ",(0,jsx_runtime.jsx)(_components.code,{children:"package.json"}),"'s ",(0,jsx_runtime.jsx)(_components.code,{children:"dependencies"})," field:"]})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:'// package.json\n{\n  // ...\n  "dependencies": {\n    "@haaretz/s-audio-player": "workspace:*"\n    // ...\n  }\n}\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Because internal monorepo packages are wired up using TypeScript's path aliases\nfeature in dev mode, importing ",(0,jsx_runtime.jsx)(_components.code,{children:"AudioPlayer"})," without listing it as a dependency\nwill work in dev mode, but will fail in production. There should be a\n",(0,jsx_runtime.jsx)(_components.code,{children:"import/no-unresolved"})," eslint error when trying to import it when it is not\nlisted as a dependency."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can then import it like this:"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:"import AudioPlayer from '@haaretz/s-audio-player';\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"overview",children:"Overview"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Audio player for article"}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{withToolbar:!0,children:(0,jsx_runtime.jsx)(dist.oG,{id:"audioplayer--overview"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{story:"^"})]})}var _Overview$parameters,_Overview$parameters2;function AudioPlayer_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AudioPlayer_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AudioPlayer_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AudioPlayer_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const AudioPlayer_stories={component:AudioPlayer_AudioPlayer,title:"Organisms/AudioPlayer",args:{title:"כתבנו הפוליטי חזה את הכישלון של בנט. עכשיו הוא מעריך: העבודה לא תשרוד",channel:{channelName:"השבוע",__typename:"PodcastChannel"},url:"https://traffic.omny.fm/d/clips/397b9456-4f75-4509-acff-ac0600b4a6a4/86c6b42e-1168-4ff9-a0ed-ac6a00db9414/9f2a9b62-3641-4ccc-9a93-b01b00cf03e3/audio.mp3"},argTypes:{},parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}}},Overview=args=>(0,jsx_runtime.jsx)(AudioPlayer_AudioPlayer,AudioPlayer_stories_objectSpread({},args));Overview.parameters=AudioPlayer_stories_objectSpread(AudioPlayer_stories_objectSpread({},Overview.parameters),{},{docs:AudioPlayer_stories_objectSpread(AudioPlayer_stories_objectSpread({},null===(_Overview$parameters=Overview.parameters)||void 0===_Overview$parameters?void 0:_Overview$parameters.docs),{},{source:AudioPlayer_stories_objectSpread({originalSource:"args => <AudioPlayer {...args} />"},null===(_Overview$parameters2=Overview.parameters)||void 0===_Overview$parameters2||null===(_Overview$parameters2=_Overview$parameters2.docs)||void 0===_Overview$parameters2?void 0:_Overview$parameters2.source)})})},"../../config/l-storybook-config/wwwroot/public/configShim.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>configShim});const configShim_namespaceObject=JSON.parse('{"brightspot":"https://www.haaretz.co.il","gqlServer":"https://fake-graphql-server.haaretz.co.il/graphql","gqlServerCluster":"http://fake-graphql-server.haaretz.co.il/graphql","bIServer":"https://services.haaretz.co.il/ds","env":"prod","msConfirmation":"https://services.haaretz.co.il/ms-confirmation","msPurchaseUrl":"https://ms-purchase.haaretz.co.il","cookieGenerator":"http://cookie-generator.ms-app","personalization":"https://services.haaretz.co.il/personalization","appType":"site","GA4Key":"G-V6JW03P6HP","UAKey":"UA-589309-3"}'),configShim={getSafe(property){const keys=Array.isArray(property)?property:property.split(".");let key,value=configShim_namespaceObject;for(;keys.length;){if(null===value||"object"!=typeof value){value=void 0;break}key=keys.shift(),value=value[key]}return value},get(property){const keyPath=Array.isArray(property)?property.join("."):property,value=this.getSafe(property);if(void 0===value)throw new Error(`Configuration property "${keyPath}" is not defined`);return value},has(property){return null!=property&&void 0!==this.getSafe(property)}}},"../../ds-atoms/s-icon/src/Icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../ds-atoms/s-visually-hidden/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs"),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const _excluded=["a11yLabel","a11yDescription","variant","focusable","screenReaderText","icon","inlineStyle","styleExtend"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const c={base:{"--_icn-c":"hmHRXt","--_icn-c2":"hxvpkK",height:"jXmXEB",width:"hHGIsI"},inheritVariant:{"--_icn-dflt-c":"kbMSva"},brandVariant:{"--_icn-dflt-c":"fsJCwT"},brandInverseVariant:{"--_icn-dflt-c":"kgVBQo"},neutralVariant:{"--_icn-dflt-c":"jowrTv"},inverseVariant:{"--_icn-dflt-c":"edhiKO"},dangerVariant:{"--_icn-dflt-c":"iRFORO"},successVariant:{"--_icn-dflt-c":"kEwWGm"}},Icon=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((function Icon(_ref,ref){let{a11yLabel,a11yDescription,variant="inherit",focusable=!1,screenReaderText,icon,inlineStyle,styleExtend=[]}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);const hasA11yText=a11yLabel||a11yDescription,descriptionId=react__WEBPACK_IMPORTED_MODULE_2__.useId(),a11yAttrs=hasA11yText?_objectSpread({"aria-label":a11yLabel},a11yDescription?{"aria-describedby":descriptionId}:{}):{"aria-hidden":!0,role:"img"},focusAttrs=focusable&&hasA11yText?{focusable:!0}:{focusable:!1,tabIndex:-1},desc=a11yDescription?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("desc",{id:descriptionId,children:a11yDescription}):null,variantClass=`${variant}Variant`;return!focusable||a11yDescription||a11yLabel||console.error(`An "${icon}" icon is set to be focusable but has no a11y label or description\n`,'The "focusable" attribute will not be assigned'),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("svg",_objectSpread(_objectSpread(_objectSpread(_objectSpread({ref,className:(0,style9__WEBPACK_IMPORTED_MODULE_3__.Z)(c.base,c[variantClass],...styleExtend),style:inlineStyle},focusAttrs),attrs),a11yAttrs),{},{children:[desc,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("use",{xlinkHref:`#icn-${icon}`})]})),screenReaderText?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_5__.ZP,{children:screenReaderText}):null]})}));Icon.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{variant:{defaultValue:{value:"'inherit'",computed:!1},required:!1},focusable:{defaultValue:{value:"false",computed:!1},required:!1},styleExtend:{defaultValue:{value:"[]",computed:!1},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=Icon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyIcon(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Icon\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Icon styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},icon:{defaultValue:null,description:"The icon to render",name:"icon",required:!0,type:{name:"enum",value:[{value:'"marker"'},{value:'"menu"'},{value:'"search"'},{value:'"play"'},{value:'"audio"'},{value:'"Login"'},{value:'"Logout"'},{value:'"a11y"'},{value:'"alef"'},{value:'"android"'},{value:'"apple"'},{value:'"arrow-right"'},{value:'"audio-ff"'},{value:'"audio-less"'},{value:'"audio-off"'},{value:'"audio-rw"'},{value:'"bell"'},{value:'"bookmark"'},{value:'"camera"'},{value:'"check"'},{value:'"chevron-bottom"'},{value:'"chevron-left"'},{value:'"chevron-right"'},{value:'"close"'},{value:'"comments"'},{value:'"discover"'},{value:'"dislike"'},{value:'"drive"'},{value:'"edit"'},{value:'"facebook"'},{value:'"gift"'},{value:'"hdc"'},{value:'"headphones"'},{value:'"heart"'},{value:'"hide"'},{value:'"home"'},{value:'"htz"'},{value:'"like"'},{value:'"lock"'},{value:'"m"'},{value:'"mail"'},{value:'"microphone"'},{value:'"minus"'},{value:'"most-viewed"'},{value:'"pause"'},{value:'"pdf"'},{value:'"phone"'},{value:'"playlist"'},{value:'"plus"'},{value:'"printer"'},{value:'"rss"'},{value:'"share"'},{value:'"show"'},{value:'"spotify"'},{value:'"star"'},{value:'"twitter"'},{value:'"user"'},{value:'"warn"'},{value:'"whattsup"'},{value:'"zen"'},{value:'"zoom-in"'}]}},variant:{defaultValue:{value:"inherit"},description:"The color of the icon",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"inherit"'},{value:'"brand"'},{value:'"neutral"'},{value:'"danger"'},{value:'"success"'},{value:'"inverse"'},{value:'"brandInverse"'}]}},a11yLabel:{defaultValue:null,description:"An A11Y label for the icon",name:"a11yLabel",required:!1,type:{name:"string | undefined"}},a11yDescription:{defaultValue:null,description:"An A11Y description for the icon",name:"a11yDescription",required:!1,type:{name:"string | undefined"}},focusable:{defaultValue:{value:"false"},description:"Make the icon keyboard accessible",name:"focusable",required:!1,type:{name:"boolean | undefined"}},screenReaderText:{defaultValue:null,description:"Visually hidden text for screen readers",name:"screenReaderText",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-icon/src/Icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"../../ds-atoms/s-icon/src/Icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-icon/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-icon/src/Icon.tsx").Z},"../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H6:()=>_VisuallyHidden,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,pL:()=>DEFAULT_ELEMENT});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const _excluded=["as","children","inlineStyle","isFocusable","styleExtend"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const classNames={base:{borderTopWidth:"glXlAQ",borderRightWidth:"ejfOAg",borderBottomWidth:"imuUWK",borderLeftWidth:"jePIQM",clip:"beEFvi",clipPath:"dbEoLb",height:"ktUKSC",marginTop:"jTjNVR",marginRight:"dIYdMf",marginBottom:"jjXZbq",marginLeft:"bmFLeF",overflowX:"dUvWpK",overflowY:"hRLVFh",paddingTop:"kVZHcH",paddingRight:"dwawJR",paddingBottom:"iATxZH",paddingLeft:"jQenOz",position:"bEvNbr",width:"JkHvI",whiteSpace:"bwVBMs",wordWrap:"gOKRJN",opacity:"UXrzu"},focusable:{":active":{clip:"kuytCZ",clipPath:"fbPfaP",height:"denmys",marginTop:"jnzTFi",marginRight:"jeOFPx",marginBottom:"eGVclN",marginLeft:"laFZyU",overflowX:"dEHlfP",overflowY:"biNehD",position:"izcesL",width:"fINNBL",whiteSpace:"enUJRt",opacity:"bZiUOO"},":focus":{clip:"ftGVOL",clipPath:"hVQFuO",height:"hivugc",marginTop:"drTIif",marginRight:"ffoFcR",marginBottom:"fZAKYa",marginLeft:"cFSbZy",overflowX:"kGSnZF",overflowY:"kHnbRw",position:"dAAEuD",width:"eckYoa",whiteSpace:"hTDTat",opacity:"hFxcLz"}}},DEFAULT_ELEMENT="span",VisuallyHidden=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((function VisuallyHidden(_ref,ref){let{as,children=null,inlineStyle,isFocusable,styleExtend=[]}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);const Element=as||DEFAULT_ELEMENT;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Element,_objectSpread(_objectSpread({ref,className:(0,style9__WEBPACK_IMPORTED_MODULE_3__.Z)(classNames.base,isFocusable&&classNames.focusable,...styleExtend),style:inlineStyle},attrs),{},{children}))}));VisuallyHidden.__docgenInfo={description:"",methods:[],displayName:"VisuallyHidden",props:{children:{defaultValue:{value:"null",computed:!1},required:!1},styleExtend:{defaultValue:{value:"[]",computed:!1},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=VisuallyHidden;function _VisuallyHidden(_props){return null}try{_VisuallyHidden.displayName="_VisuallyHidden",_VisuallyHidden.__docgenInfo={description:"",displayName:"_VisuallyHidden",props:{children:{defaultValue:{value:"null"},description:"The content to hide inside `<VisuallyHidden>`",name:"children",required:!1,type:{name:"ReactNode"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyVisuallyHidden(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <VisuallyHidden\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},isFocusable:{defaultValue:null,description:"Should the element become visible when focused, e.g., skip links",name:"isFocusable",required:!1,type:{name:"true | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<VisuallyHidden styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx#_VisuallyHidden"]={docgenInfo:_VisuallyHidden.__docgenInfo,name:"_VisuallyHidden",path:"../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx#_VisuallyHidden"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-visually-hidden/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx").ZP},"../../utils/s-image-utils/src/buildBaseImgSrc/buildBaseImgSrc.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function wrapWithEnvParam(url,env){return`${url}&cms${env}`}function buildBaseImgSrc(_ref){let{imgData,contentId,width,height,aspectRatio,isCropped,aspectData,env}=_ref;const path=imgData.path,subdomain=path.toLowerCase().endsWith(".gif")?"gif":"img",precropParams=[];return isCropped&&aspectData&&(precropParams.push(aspectData.width),precropParams.push(aspectData.height),precropParams.push(`x${aspectData.x}`),precropParams.push(`y${aspectData.y}`)),wrapWithEnvParam(`https://${subdomain}.haarets.co.il/bs/${contentId}/${path}?${precropParams.length?`precrop=${precropParams.join(",")}`:""}&width=${width}&height=${height||(aspectRatio&&Math.round(width/aspectRatio)||width)}`,env)}__webpack_require__.d(__webpack_exports__,{B:()=>wrapWithEnvParam,Z:()=>buildBaseImgSrc})},"../../utils/s-image-utils/src/buildBaseImgSrc/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../utils/s-image-utils/src/buildBaseImgSrc/buildBaseImgSrc.ts").Z},"../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function merge(target,source){for(const key in source)"object"==typeof source[key]?target[key]=merge({...target[key]},source[key]):target[key]=source[key];return target}function getValues(obj){const values=[];for(const key in obj){const val=obj[key];"object"==typeof val?values.push(...getValues(val)):values.push(val)}return values}function style9(...styles){return getValues(styles.reduce(merge,{})).join(" ")}__webpack_require__.d(__webpack_exports__,{Z:()=>style9}),style9.create=()=>{throw new Error("style9.create calls should be compiled away")},style9.keyframes=()=>{throw new Error("style9.keyframes calls should be compiled away")}}}]);