"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[880],{"../../pp-pages/s-pp-offers-page-hdc/src/PpOffersPageHdc.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OnlyOneOffer:()=>OnlyOneOffer,Overview:()=>Overview,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PpOffersPageHdc_stories});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/index.ts"),s_pp_storybook_providers_src=__webpack_require__("../../utils/s-pp-storybook-providers/src/index.ts"),esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/extends.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.17.0_rollup@2.79.1/node_modules/style9/index.mjs"),s_pp_coupon_src=__webpack_require__("../../pp-organisms/s-pp-coupon/src/index.ts"),getCurrentStep=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/getCurrentStep/index.ts"),usePPStepsOffsetStore=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx"),dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.2_next@13.2.3+react@18.2.0/node_modules/next-router-mock/dist/index.js"),use_user=__webpack_require__("../../hooks/s-use-user/src/use-user/index.ts"),s_htz_image_src=__webpack_require__("../../ds-atoms/s-htz-image/src/index.ts");const components_OfferCard=__webpack_require__("../../pp-pages/s-pp-offers-page-hdc/src/components/OfferCard/OfferCard.tsx").Z;var __jsx=react.createElement;const c={circlesWrapper:{position:"bEvNbr",top:"WhAZY",bottom:"bLIxaN",left:"bOjOhu",right:"kLKrsq",zIndex:"iYxGWt"},circle:{position:"bEvNbr",borderTopLeftRadius:"eCJvpO",borderTopRightRadius:"KuLii",borderBottomRightRadius:"cPOOyy",borderBottomLeftRadius:"dJEuaT",opacity:"dmMXXv",backgroundColor:"cGdbor","@media all and (max-width:37.4375em)":{opacity:"ggYPZQ"}},yellowCircle:{backgroundColor:"fQfYfG"},yellowCircleOne:{"@media all and (max-width:37.4375em)":{width:"iBSDOx",height:"gwvYIB",top:"cgFOaG",left:"dIVpVy"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"iVlrXl",height:"geHetT",top:"htQBdj",left:"exrDkb"},"@media all and (min-width:64em) and (max-width:79.9375em)":{width:"laXVO",height:"dKOga",top:"bngnuZ",left:"fhZphK"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"ePDXpQ",height:"TEPML",top:"bGYRwE",left:"ecgfWl"},"@media all and (min-width:102em)":{width:"gXQXae",height:"cAvlbd",top:"dWdfrj",left:"exmuLG"}},yellowCircleTwo:{"@media all and (max-width:37.4375em)":{width:"gTCTtZ",height:"ilTXNJ",bottom:"dWzvIa",right:"drwRWr"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"kaKOLH",height:"jtxHRy",bottom:"tSKSO",right:"lezGej"},"@media all and (min-width:64em) and (max-width:79.9375em)":{width:"kAcrqL",height:"fmLugi",bottom:"kphUmR",right:"jVyRht"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"juESwA",height:"biqtdr",top:"hhesBj",left:"ijDQAw"},"@media all and (min-width:102em)":{width:"kjFOdW",height:"kDqgeQ",top:"kQkYdw",left:"bRgWFJ"}},yellowCircleThree:{"@media all and (max-width:37.4375em)":{width:"iBSDOx",height:"gwvYIB",bottom:"WhGYr",right:"kvhSxO"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"jrJVYM",height:"cuMDDi",bottom:"fJqXPP",right:"hHWrIj"},"@media all and (min-width:64em) and (max-width:79.9375em)":{display:"eLHyYk"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"iPpelU",height:"lgZBbV",top:"jMhyzo",right:"fyFiKA"},"@media all and (min-width:102em)":{width:"fmerLN",height:"fQBOYU",top:"hRcygC",right:"ixiYtY"}},yellowCircleFour:{"@media all and (max-width:79.9375em)":{display:"bkXpXX"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"PbscH",height:"bzPfdN",bottom:"fuCXuz",left:"jxDgVi"},"@media all and (min-width:102em)":{width:"KxeqE",height:"hqPcqw",bottom:"fQfIrQ",left:"dwHoPS"}},yellowCircleFive:{"@media all and (max-width:79.9375em)":{display:"bkXpXX"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"juESwA",height:"biqtdr",bottom:"ebhdQp",right:"jIzxb"},"@media all and (min-width:102em)":{width:"kjFOdW",height:"kDqgeQ",bottom:"bVezbI",right:"bsNAzG"}},blueCircle:{backgroundColor:"hJOxHn"},blueCircleOne:{"@media all and (max-width:37.4375em)":{width:"kccUvN",height:"BYNKe",top:"cgFOaG",right:"gxKZFb"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"bytzaT",height:"fflqto",top:"htQBdj",right:"emcFUM"},"@media all and (min-width:64em) and (max-width:79.9375em)":{width:"dqvSoD",height:"kjykux",top:"bngnuZ",right:"itxQKJ"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"cOIWKM",height:"cSSNuo",top:"dePXMZ",left:"epGlCa"},"@media all and (min-width:102em)":{width:"fSnTqp",height:"gIxZrC",top:"kTHXyZ",left:"fnUgcF"}},blueCircleTwo:{"@media all and (max-width:37.4375em)":{width:"cORFBk",height:"jvvPPY",top:"juKLrs",left:"hqGWFf"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"bQFKDI",height:"cBreuf",top:"wfROl",left:"eNNcjh"},"@media all and (min-width:64em) and (max-width:79.9375em)":{width:"oGQyM",height:"bVUzcV",top:"hGVAJE",left:"fvUgJC"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"gBGRnq",height:"fHjArT",bottom:"eAtxvI",left:"kRmemE"},"@media all and (min-width:102em)":{width:"dWWmac",height:"wpEwP",bottom:"jtVhph",left:"kIpAtf"}},blueCircleThree:{"@media all and (max-width:37.4375em)":{width:"esTsaP",height:"iFDOjs",bottom:"dXpGMZ",left:"eQIIXR"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{width:"fyKDNL",height:"kTmthz",bottom:"gUcVSC",left:"eFRRZs"},"@media all and (min-width:64em) and (max-width:79.9375em)":{width:"kaIAnC",height:"hfyPuO",bottom:"jLZRtH",left:"cCNbvg"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"fJpSHc",height:"efsWjx",bottom:"gdkjgW",right:"jajpOz"},"@media all and (min-width:102em)":{width:"btUBEF",height:"kCuXLb",bottom:"ipVlqL",right:"fdcpDP"}},blueCircleFour:{"@media all and (max-width:79.9375em)":{display:"bkXpXX"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"dxkEmJ",height:"cUZeRD",bottom:"kcOuDf",right:"jfUIfJ"},"@media all and (min-width:102em)":{width:"bZmflV",height:"kAXxkG",bottom:"kfzDET",right:"jUxgKE"}},blueCircleFive:{"@media all and (max-width:79.9375em)":{display:"bkXpXX"},"@media all and (min-width:80em) and (max-width:101.9375em)":{width:"iIVNzH",height:"dgWjmr",bottom:"ibnWFV",right:"iLXict"},"@media all and (min-width:102em)":{width:"czuMdD",height:"ecFfQT",bottom:"ICyoL",right:"iXOXJi"}}};function Circle({styleExtend=[],inlineStyle}){return __jsx("div",{className:(0,style9.Z)(c.circle,...styleExtend),style:inlineStyle})}function Circles(){return __jsx("div",{className:(0,style9.Z)(c.circlesWrapper)},__jsx(Circle,{styleExtend:[c.yellowCircle,c.yellowCircleOne]}),__jsx(Circle,{styleExtend:[c.yellowCircle,c.yellowCircleTwo]}),__jsx(Circle,{styleExtend:[c.yellowCircle,c.yellowCircleThree]}),__jsx(Circle,{styleExtend:[c.yellowCircle,c.yellowCircleFour]}),__jsx(Circle,{styleExtend:[c.yellowCircle,c.yellowCircleFive]}),__jsx(Circle,{styleExtend:[c.blueCircle,c.blueCircleOne]}),__jsx(Circle,{styleExtend:[c.blueCircle,c.blueCircleTwo]}),__jsx(Circle,{styleExtend:[c.blueCircle,c.blueCircleThree]}),__jsx(Circle,{styleExtend:[c.blueCircle,c.blueCircleFour]}),__jsx(Circle,{styleExtend:[c.blueCircle,c.blueCircleFive]}))}var MarketingBullets_jsx=react.createElement;const MarketingBullets_c_base={display:"gSBWlu",justifyContent:"IVbXa",marginLeft:"eqrBPF",marginRight:"jdraHW","@media all and (max-width:63.9375em)":{maxWidth:"gHUXUM"}},MarketingBullets_c_bullet={display:"gSBWlu",flexDirection:"iMkoWi",alignItems:"foGVKH",rowGap:"bEXQgo",fontSize:"jrcYoY",lineHeight:"oZPxp","@media all and (min-width:80em)":{fontSize:"ecfhKk",lineHeight:"klepka"},"@media all and (max-width:37.4375em)":{maxWidth:"bxhTmf"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{maxWidth:"ejauPt"},"@media all and (min-width:64em) and (max-width:79.9375em)":{maxWidth:"dDTmqm"},"@media all and (min-width:80em) and (max-width:101.9375em)":{maxWidth:"fwWpei"},"@media all and (min-width:102em)":{maxWidth:"bdFsoy"}},MarketingBullets_c_text={"@media all and (max-width:37.4375em)":{fontSize:"kVRlxV",lineHeight:"iwyqjn"}},MarketingBullets_c_bulletWrapper={display:"gSBWlu",textAlign:"kooHYa",columnGap:"kEFtPS",position:"cjScYX","@media all and (max-width:79.9375em)":{flexDirection:"geuNyE",alignItems:"hsIMcc"},"@media all and (max-width:37.4375em)":{rowGap:"kDyJoG",paddingTop:"jVuyWd",paddingLeft:"jopCqw",paddingBottom:"dKtZgY",paddingRight:"eOyBZX"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{rowGap:"TACHg",paddingTop:"jxiPNm",paddingLeft:"iUcZTH",paddingBottom:"eXOkyb",paddingRight:"jNngXu"},"@media all and (min-width:64em) and (max-width:79.9375em)":{rowGap:"hbxpLs",paddingTop:"bAvJlM",paddingLeft:"gcnuBD",paddingBottom:"gPJwwP",paddingRight:"ffaeji"},"@media all and (min-width:80em) and (max-width:101.9375em)":{paddingTop:"cDOPxP",paddingLeft:"fzqCUm",paddingBottom:"gZhJTv",paddingRight:"gchccT"},"@media all and (min-width:102em)":{columnGap:"heLiXv",paddingTop:"bHFDVf",paddingLeft:"eqgJeO",paddingBottom:"laHnwX",paddingRight:"bZWbvp"}};function MarketingBullets({marketingBullets}){return marketingBullets&&marketingBullets.length?MarketingBullets_jsx("section",{className:(0,style9.Z)(MarketingBullets_c_base)},MarketingBullets_jsx("div",{className:(0,style9.Z)(MarketingBullets_c_bulletWrapper)},MarketingBullets_jsx(Circles,null),marketingBullets.map((({title,text},i)=>MarketingBullets_jsx("div",{key:i,className:(0,style9.Z)(MarketingBullets_c_bullet)},MarketingBullets_jsx("h3",null,title),MarketingBullets_jsx("p",{className:(0,style9.Z)(MarketingBullets_c_text)},text)))))):null}try{MarketingBullets.displayName="MarketingBullets",MarketingBullets.__docgenInfo={description:"",displayName:"MarketingBullets",props:{marketingBullets:{defaultValue:null,description:"",name:"marketingBullets",required:!0,type:{name:'({ text?: string | null | undefined; title: string; } & { __typename: "MarketingBullet"; } & { __typename?: "MarketingBullet" | undefined; })[] | null | undefined'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/MarketingBullets/MarketingBullets.tsx#MarketingBullets"]={docgenInfo:MarketingBullets.__docgenInfo,name:"MarketingBullets",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/MarketingBullets/MarketingBullets.tsx#MarketingBullets"})}catch(__react_docgen_typescript_loader_error){}const components_MarketingBullets=MarketingBullets;var s_htz_link_src=__webpack_require__("../../ds-atoms/s-htz-link/src/index.ts"),s_text_link_src=__webpack_require__("../../ds-atoms/s-text-link/src/index.ts"),s_use_bi_src=__webpack_require__("../../hooks/s-use-bi/src/index.ts"),s_button_src=__webpack_require__("../../ds-atoms/s-button/src/index.ts"),OfferLinks_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const OfferLinks_c={base:{display:"gSBWlu",alignItems:"foGVKH",flexDirection:"iMkoWi"},button:{marginTop:"cxRLKI","@media all and (min-width:80em) and (max-width:101.9375em)":{marginTop:"dmUocC"},"@media all and (min-width:102em)":{marginTop:"eyUsmQ"}},textLink:{marginTop:"cUXNmd",marginBottom:"iUiXNX","@media all and (max-width:37.4375em)":{marginBottom:"cxlBOA"},"@media all and (min-width:80em)":{marginBottom:"gwYQHe"},"@media all and (min-width:80em) and (max-width:101.9375em)":{marginTop:"hQtFfA"},"@media all and (min-width:102em)":{marginTop:"kyALtO",fontSize:"iswsIN",lineHeight:"lbqvfo"}}};function OfferLinks({biData}){const router=(0,dist.useRouter)(),biAction=(0,s_use_bi_src.Z)(),isStudentAndSoldierOffers="student-hdc"===router.query.pathSegment;return OfferLinks_jsx("div",{className:(0,style9.Z)(OfferLinks_c.base)},isStudentAndSoldierOffers?OfferLinks_jsx(s_button_src.ZP,{as:s_htz_link_src.Z,href:"/offers",styleExtend:[OfferLinks_c.button],variant:"neutral"},"Back to subscription options"):OfferLinks_jsx(s_button_src.ZP,{as:s_htz_link_src.Z,href:"/student-hdc/offers",styleExtend:[OfferLinks_c.button],variant:"neutral"},"See student plans"),OfferLinks_jsx(s_text_link_src.Z,{styleExtend:[OfferLinks_c.textLink],href:"https://www.lndit.co/6016aca579821.htm",onClick:()=>{biAction(_objectSpread(_objectSpread({},biData),{},{action_id:50,feature:"Promotions footer",feature_type:"Marketing"}))}},"Info about group plans"))}try{OfferLinks.displayName="OfferLinks",OfferLinks.__docgenInfo={description:"",displayName:"OfferLinks",props:{biData:{defaultValue:null,description:"Bi data passed as an argument to biAction",name:"biData",required:!1,type:{name:"BiDataOverrides | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/components/OfferLinks/OfferLinks.tsx#OfferLinks"]={docgenInfo:OfferLinks.__docgenInfo,name:"OfferLinks",path:"../../pp-pages/s-pp-offers-page-hdc/src/components/OfferLinks/OfferLinks.tsx#OfferLinks"})}catch(__react_docgen_typescript_loader_error){}const components_OfferLinks=OfferLinks;var PpOffersPageHdc_page_jsx=react.createElement;function PpOffersPageHdc_page_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function PpOffersPageHdc_page_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PpOffersPageHdc_page_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PpOffersPageHdc_page_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const PpOffersPageHdc_page_c={base:{fontFamily:"cFGWDo"},headerAndOffersWrapper:{display:"gSBWlu",width:"efDQIp",marginTop:"fCUsxW",flexDirection:"iMkoWi",marginLeft:"eqrBPF",marginRight:"jdraHW","@media all and (max-width:63.9375em)":{maxWidth:"lEIVH"},"@media all and (max-width:37.4375em)":{marginTop:"ijihxR"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{marginTop:"elFRaQ"},"@media all and (min-width:64em) and (max-width:79.9375em)":{marginTop:"bTfwif"}},header:{display:"gSBWlu",columnGap:"jOsPdM","@media all and (max-width:63.9375em)":{flexDirection:"bnejy",rowGap:"eRiXbK"},"@media all and (max-width:37.4375em)":{marginBottom:"cAUEak"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{marginBottom:"fjSATZ"},"@media all and (min-width:64em) and (max-width:79.9375em)":{marginBottom:"fPWYRA"},"@media all and (min-width:80em) and (max-width:101.9375em)":{marginBottom:"jRuaKX"},"@media all and (min-width:102em)":{marginBottom:"kbozLR"}},flexCenter:{justifyContent:"kJzccJ"},flexSpaceBetween:{justifyContent:"IVbXa"},titleWrapper:{display:"gSBWlu",flexDirection:"iMkoWi",justifyContent:"IVbXa",maxWidth:"irgmAc","@media all and (max-width:37.4375em)":{maxWidth:"dqNPwp"},"@media all and (min-width:102em)":{maxWidth:"bAkYPZ"},"@media all and (max-width:63.9375em)":{textAlign:"cFnwDe"}},title:{color:"gjYftY",fontWeight:"buowod",marginBottom:"lbEyiT",fontFamily:"cGpNyn",fontSize:"cQdSVO",lineHeight:"cAYZDO","@media all and (max-width:37.4375em)":{fontSize:"iyGQjE",lineHeight:"cVLEfr"},"@media all and (min-width:80em)":{fontSize:"ebzelW",lineHeight:"fMbcjT"}},subTitle:{fontWeight:"buowod",fontSize:"jrcYoY",lineHeight:"oZPxp","@media all and (max-width:37.4375em)":{fontSize:"kVRlxV",lineHeight:"iwyqjn"},"@media all and (min-width:80em)":{fontSize:"ecfhKk",lineHeight:"klepka"}},image:{"@media all and (max-width:37.4375em)":{marginBottom:"grAQwG",marginTop:"jhdXHU"},"@media all and (min-width:37.5em) and (max-width:101.9375em)":{width:"bEuPgc"},"@media all and (min-width:102em)":{width:"kppXCd"}},offers:{display:"gSBWlu",justifyContent:"qwXQZ",marginBottom:"dkSlsL",columnGap:"cNjTIv","@media all and (max-width:37.4375em)":{marginBottom:"jgxyhr"},"@media all and (min-width:37.5em) and (max-width:63.9375em)":{marginBottom:"kLMiif"},"@media all and (min-width:102em)":{marginBottom:"ELYvB"},"@media all and (max-width:63.9375em)":{flexDirection:"bnejy",alignItems:"dYtHoC",rowGap:"eRiXbK"}},gapWithOfferhiglight:{"@media all and (max-width:63.9375em)":{rowGap:"bYNdzN"}},coupon:{"@media all and (max-width:63.9375em)":{marginBottom:"bJngvV"},"@media all and (min-width:64em) and (max-width:79.9375em)":{marginBottom:"eCasEy"},"@media all and (min-width:80em)":{marginBottom:"jIlDgI"}},specialOffersWrapper:{backgroundImage:"fRsZeO",marginTop:"ioKYpO",marginBottom:"kdsZJU",paddingTop:"jzsOlZ",paddingBottom:"inQXSQ",zIndex:"dVHjGw","@media all and (min-width:37.5em) and (max-width:63.9375em)":{marginBottom:"gEMexv",paddingBottom:"flssAs"},"@media all and (min-width:64em) and (max-width:79.9375em)":{marginBottom:"cCECI",paddingBottom:"iLFayp"},"@media all and (min-width:80em) and (max-width:101.9375em)":{marginBottom:"frHJpl",paddingBottom:"bKMWk"},"@media all and (min-width:102em)":{marginBottom:"bczQCB",paddingBottom:"goAzng"}},specialOffersWrapperLoggedIn:{marginTop:"laBBKP",paddingTop:"ia_dvUo"},specialSaleColor:{color:"URsRO"},specialTitle:{fontSize:"fyHdVr",lineHeight:"iKTruj",marginBottom:"idMVCD",fontWeight:"iLdtFu","@media all and (max-width:37.4375em)":{marginBottom:"jJmjBc"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"cEKNZk",lineHeight:"gMAJcp"},"@media all and (min-width:102em)":{fontSize:"jbDMjY",lineHeight:"kzePcG"},"@media all and (max-width:63.9375em)":{marginBottom:"kQJFbs"}}};function OffersPageHdc(data){var _data$PurchasePage,_offers$;const{clearSteps,pushStep}=(0,usePPStepsOffsetStore.Qf)(),router=(0,dist.useRouter)(),{data:user}=(0,use_user.Z)(),pageData=null==data||null===(_data$PurchasePage=data.PurchasePage)||void 0===_data$PurchasePage?void 0:_data$PurchasePage.pageData;if(react.useEffect((()=>{clearSteps()}),[clearSteps]),react.useEffect((()=>{const routeChangeStartHandler=()=>{pushStep("offers")};return router.events.on("routeChangeStart",routeChangeStartHandler),()=>{router.events.off("routeChangeStart",routeChangeStartHandler)}}),[pushStep,router.events,null==user?void 0:user.isLoggedIn]),!pageData)return null;const{steps,monthly,annual,couponId,personalCouponId,marketingBullets,specialSaleData}=pageData,hasCoupon=couponId||personalCouponId,image=(null==specialSaleData?void 0:specialSaleData.image)||pageData.image,{currentStep,currentStepIndex}=(0,getCurrentStep.Z)("offers",steps),offers=[...annual||[],...monthly||[]],biData={stage:"offers",additional_info:{stage_number:(currentStepIndex+1).toString(),refactor:"true"}};return PpOffersPageHdc_page_jsx(react.Fragment,null,specialSaleData&&PpOffersPageHdc_page_jsx("div",{className:(0,style9.Z)(PpOffersPageHdc_page_c.specialOffersWrapper,(null==user?void 0:user.isLoggedIn)&&PpOffersPageHdc_page_c.specialOffersWrapperLoggedIn)}),PpOffersPageHdc_page_jsx("div",{className:(0,style9.Z)(PpOffersPageHdc_page_c.base)},PpOffersPageHdc_page_jsx("div",{className:(0,style9.Z)(PpOffersPageHdc_page_c.headerAndOffersWrapper)},PpOffersPageHdc_page_jsx("header",{className:(0,style9.Z)(PpOffersPageHdc_page_c.header,image?PpOffersPageHdc_page_c.flexSpaceBetween:PpOffersPageHdc_page_c.flexCenter)},PpOffersPageHdc_page_jsx("div",{className:(0,style9.Z)(PpOffersPageHdc_page_c.titleWrapper)},specialSaleData&&PpOffersPageHdc_page_jsx("h2",{className:(0,style9.Z)(PpOffersPageHdc_page_c.specialTitle)},specialSaleData.title),PpOffersPageHdc_page_jsx("h1",{className:(0,style9.Z)(PpOffersPageHdc_page_c.title,specialSaleData&&PpOffersPageHdc_page_c.specialSaleColor)},currentStep.title),PpOffersPageHdc_page_jsx("h3",{className:(0,style9.Z)(PpOffersPageHdc_page_c.subTitle)},currentStep.instructions)),image&&PpOffersPageHdc_page_jsx(s_htz_image_src.Z,(0,esm_extends.Z)({},image,{styleExtend:[PpOffersPageHdc_page_c.image],imgData:image.files[0],aspect:"full",alt:image.alt,contentId:image.contentId,type:null==image?void 0:image.type,credit:image.credit,widths:[327,398,477],sizes:[{from:"s",size:"398px"},{from:"xxl",size:"477px"},{size:"327px"}]}))),PpOffersPageHdc_page_jsx("section",{className:(0,style9.Z)(PpOffersPageHdc_page_c.offers,offers.length>1?PpOffersPageHdc_page_c.flexSpaceBetween:PpOffersPageHdc_page_c.flexCenter,!(null===(_offers$=offers[1])||void 0===_offers$||!_offers$.offerHighlight)&&PpOffersPageHdc_page_c.gapWithOfferhiglight)},offers.length?offers.map((offer=>PpOffersPageHdc_page_jsx(components_OfferCard,(0,esm_extends.Z)({key:offer.contentId},offer,{offerData:offer,steps,couponId:pageData.couponId,personalCouponId:pageData.personalCouponId,biData:PpOffersPageHdc_page_objectSpread(PpOffersPageHdc_page_objectSpread({},biData),currentStep.messageIds?{campaign_name:currentStep.messageIds}:{})})))):null)),PpOffersPageHdc_page_jsx(s_pp_coupon_src.Z,{defaultComponentToShow:hasCoupon?"success":"textfield",biData,styleExtend:[PpOffersPageHdc_page_c.coupon]}),PpOffersPageHdc_page_jsx(components_MarketingBullets,{marketingBullets}),PpOffersPageHdc_page_jsx(components_OfferLinks,{biData})))}try{PpOffersPageHdcpage.displayName="PpOffersPageHdcpage",PpOffersPageHdcpage.__docgenInfo={description:"",displayName:"PpOffersPageHdcpage",props:{PurchasePage:{defaultValue:null,description:"",name:"PurchasePage",required:!1,type:{name:"({ pageData: { contentId: string; couponId?: string | null | undefined; couponErrorMessage?: string | null | undefined; personalCouponId?: string | null | undefined; thankYouPageText?: string | ... 1 more ... | undefined; ... 8 more ...; image?: ({ ...; } & ... 1 more ... & { ...; }) | ... 1 more ... | undefined; } ..."}},__typename:{defaultValue:null,description:"",name:"__typename",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"Query"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-offers-page-hdc/src/PpOffersPageHdc.page.tsx#PpOffersPageHdcpage"]={docgenInfo:PpOffersPageHdcpage.__docgenInfo,name:"PpOffersPageHdcpage",path:"../../pp-pages/s-pp-offers-page-hdc/src/PpOffersPageHdc.page.tsx#PpOffersPageHdcpage"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),esm=__webpack_require__("../../../node_modules/.pnpm/@mdx-js+react@1.6.22_react@18.2.0/node_modules/@mdx-js/react/dist/esm.js"),dist_esm=__webpack_require__("../../../node_modules/.pnpm/@storybook+addon-docs@6.5.16_pu76jrox5ef7vkjrotgp34yn6i/node_modules/@storybook/addon-docs/dist/esm/index.js");function _createMdxContent(props){const _components=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",h3:"h3"},(0,esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{children:"PpOffersPageHdc"}),"\n",(0,jsx_runtime.jsx)("br",{}),"\n","\n","\n","\n",(0,jsx_runtime.jsx)(_components.h2,{children:"Installation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Make sure the package you use ",(0,jsx_runtime.jsx)(_components.code,{children:"PpOffersPageHdc"})," in has\n",(0,jsx_runtime.jsx)(_components.code,{children:"@haaretz/s-pp-offers-page"})," listed in its ",(0,jsx_runtime.jsx)(_components.code,{children:"package.json"}),"'s ",(0,jsx_runtime.jsx)(_components.code,{children:"dependencies"}),"\nfield:"]})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:'// package.json\n{\n  // ...\n  "dependencies": {\n    "@haaretz/s-pp-offers-page": "workspace:*"\n    // ...\n  }\n}\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Because internal monorepo packages are wired up using TypeScript's path aliases\nfeature in dev mode, importing ",(0,jsx_runtime.jsx)(_components.code,{children:"PpOffersPageHdc"})," without listing it as a\ndependency will work in dev mode, but will fail in production. There should be a\n",(0,jsx_runtime.jsx)(_components.code,{children:"import/no-unresolved"})," eslint error when trying to import it when it is not\nlisted as a dependency."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can then import it like this:"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:"import PpOffersPageHdc from '@haaretz/s-pp-offers-page';\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{children:"Overview"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:" Purchase app offers page"}),"\n",(0,jsx_runtime.jsx)(dist_esm.Xz,{withToolbar:!0,children:(0,jsx_runtime.jsx)(dist_esm.oG,{id:"purchase/pages-PpOffersPageHdc--overview"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist_esm.$4,{story:"^"}),"\n",(0,jsx_runtime.jsx)(_components.h2,{children:"Variants"}),"\n"]})}const PpOffersPageHdc_doc=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,esm.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)},offersPageMockData={PurchasePage:{pageData:{allSteps:[{__typename:"StepData",content:[],instructions:null,messageIds:null,messages:null,name:"offers",title:null},{__typename:"StepData",content:[],instructions:null,messageIds:null,messages:null,name:"login",title:null},{__typename:"StepData",content:[],instructions:null,messageIds:null,messages:null,name:"payment",title:null},{__typename:"StepData",content:[],instructions:null,messageIds:null,messages:null,name:"thankYou",title:null}],contentId:"00000185-de58-d0a7-aded-ff7c85d40004",couponId:null,couponErrorMessage:null,toggleKicker:{__typename:"PurchaseToggleKicker",billing:"annual",text:null},annual:[{__typename:"PurchaseOffer",benefits:[],benefitsHeading:null,contentId:"00000185-de5c-db08-ab8f-ffdebd1f0000",description:"99$ לשנה ומלא",exclusive:"Annual Payments",legalText:[{__typename:"HtmlNode",as:"p",content:"",id:null},{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">Rates are listed in U.S. dollars. </strong>',id:null},{__typename:"HtmlNode",as:"p",content:"You will be charged $1for the first month (offer rate) and then $119 for the remainder of the first year. You will be charged at the beginning of each year for the ongoing subscription.",id:null},{__typename:"HtmlNode",as:"p",content:"The savings in the first year is in comparison to the official price for the annual plan. You will be notified in advance of any rate change.",id:null},{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">You can cancel anytime and receive a refund for the remaining portion of the subscription if you cancel before your subscription ends. </strong>The subscription is personal and cannot be transferred to or used by anyone else.<br>',id:null}],line1Text:[{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">$1</strong>/first month',id:null}],line2Text:[{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">$119</strong>/for the remaining first year',id:null}],offerHighlight:"SAVE $47",paymentType:"J4",periodCalc:12,prices:[99,120],product:"HDC",productName:"Digital edition",saleCode:2429,thankYouMailTemplate:"eng_subscription",promotionNumber:123,productNumber:239}],marketingBullets:[{__typename:"MarketingBullet",text:"Be the first to know when news breaks – anytime, anywhere",title:"24/7 access"},{__typename:"MarketingBullet",text:"The top stories of the day sent straight to you",title:"Daily newsletters"},{__typename:"MarketingBullet",text:"A deep dive into the week's top stories",title:"Podcasts"}],monthly:[{__typename:"PurchaseOffer",benefits:[],benefitsHeading:null,contentId:"00000185-de77-d84a-a19d-dffff3050000",description:"חודשיים נוספים ב   $",exclusive:"Monthly Payments",legalText:[{__typename:"HtmlNode",as:"p",content:"",id:null},{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">Rates are listed in U.S. dollars. </strong>',id:null},{__typename:"HtmlNode",as:"p",content:"You will be charged $78 for the first year (offer rate) and then $130 (current price) will be charged at the beginning of each year for the ongoing subscription.",id:null},{__typename:"HtmlNode",as:"p",content:"The savings in the first year is in comparison to the official price for the annual plan. You will be notified in advance of any rate change.",id:null},{__typename:"HtmlNode",as:"p",content:'<strong class="#strong#">You can cancel anytime and receive a refund for the remaining portion of the subscription if you cancel before your subscription ends. </strong>The subscription is personal and cannot be transferred to or used by anyone else.',id:null},{__typename:"HtmlNode",as:"p",content:"",id:null}],line1Text:[{__typename:"HtmlNode",as:"p",content:"14$/month",id:null}],line2Text:[],offerHighlight:null,paymentType:"J5",periodCalc:1,prices:[0,1],product:"HDC",productName:"Digital edition",saleCode:2360,thankYouMailTemplate:"eng_subscription",promotionNumber:2360,productNumber:239}],personalCouponId:null,steps:[{__typename:"StepData",content:[],instructions:"Celebrate 25 years of Haaretz English Edition",messageIds:null,messages:null,name:"offers",title:"Subscribe now to Israel's leading newspaper"},{__typename:"StepData",content:[],instructions:null,messageIds:null,messages:null,name:"login",title:null},{__typename:"StepData",content:[],instructions:"Enter your credit card details",messageIds:null,messages:null,name:"payment",title:"Payment details"},{__typename:"StepData",content:[],instructions:"Your digital subscription is active, and you are connected",messageIds:null,messages:null,name:"thankYou",title:"Congrats!"}],specialSaleData:{__typename:"SpecialSaleData",exclusive:"Subscribe now to Israel's leading news source",image:{__typename:"htz_image_Image",alt:"Purchase HDC",caption:null,contentId:"00000185-de5b-de0a-abc7-fe5f1e230001",credit:null,files:[{crops:{headline:null,landscape:null,regular:null,square:null,vertical:null,wide:null},height:432,path:"a0/42/7d78dc3747bd90216bdd94b8aba8/group-3x.png",width:981}],link:null,photographer:null,type:"image"},title:"The smartest and most reliable reporting on Israel, the Middle East and the Jewish world"},thankYouPageText:null,cartData:null}}};var _offersPageOneOfferMo,PpOffersPageHdc_stories_jsx=react.createElement;function PpOffersPageHdc_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function PpOffersPageHdc_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PpOffersPageHdc_stories_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PpOffersPageHdc_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const{decorators}=__webpack_require__("../../config/l-storybook-config/preview.js"),offersPageOneOfferMockData=JSON.parse(JSON.stringify(offersPageMockData));null!==(_offersPageOneOfferMo=offersPageOneOfferMockData.PurchasePage)&&void 0!==_offersPageOneOfferMo&&_offersPageOneOfferMo.pageData.annual&&(offersPageOneOfferMockData.PurchasePage.pageData.annual.length=1);const PpOffersPageHdc_stories={component:OffersPageHdc,title:"Purchase/Pages/PpOffersPageHdc",args:{inlineStyle:{},styleExtend:[]},argTypes:{styleExtend:{control:!1}},parameters:{layout:"fullscreen",docs:{page:PpOffersPageHdc_doc}},decorators:[s_pp_storybook_providers_src.Z,...decorators]},Overview=()=>PpOffersPageHdc_stories_jsx(src.ZP,null,PpOffersPageHdc_stories_jsx(OffersPageHdc,offersPageMockData)),OnlyOneOffer=()=>PpOffersPageHdc_stories_jsx(src.ZP,null,PpOffersPageHdc_stories_jsx(OffersPageHdc,offersPageOneOfferMockData));Overview.parameters=PpOffersPageHdc_stories_objectSpread({storySource:{source:"() => (\n  <PPDataStoreUpdatorContextProvider>\n    <PpOffersPageHdc {...offersPageMockData} />\n  </PPDataStoreUpdatorContextProvider>\n)"}},Overview.parameters),OnlyOneOffer.parameters=PpOffersPageHdc_stories_objectSpread({storySource:{source:"() => (\n  <PPDataStoreUpdatorContextProvider>\n    <PpOffersPageHdc {...offersPageOneOfferMockData} />\n  </PPDataStoreUpdatorContextProvider>\n)"}},OnlyOneOffer.parameters);const __namedExportsOrder=["Overview","OnlyOneOffer"]},"../../ds-atoms/s-htz-image/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-htz-image/src/HtzImage.tsx").Z},"../../ds-atoms/s-htz-link/src/HtzLink.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_20_1_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_20_1_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.2.3_6m24vuloj5ihw4zc5lbsktc4fu/node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);const _excluded=["children","href","hrefAs","locale","prefetch","replace","scroll","shallow"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const HtzLink=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function HtzLinkComponent(_ref,forwardedRef){let{children=null,href,hrefAs,locale,prefetch,replace,scroll,shallow}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_20_1_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);if("string"!=typeof href&&!href.href)return console.warn('The "href" prop you passed <HtzLink /> is a "URL" object without an "href" field:',href,"\nOpting out of rendering the element"),console.trace(),null;if(function isNextLink(href){return"string"!=typeof href||!href.startsWith("http")}(href))return __jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default(),(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_20_1_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({as:hrefAs,href,locale,prefetch,ref:forwardedRef,replace,scroll,shallow,legacyBehavior:!1},attrs),children);const url="string"==typeof href?href:href.href||void 0;return __jsx("a",(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_20_1_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({href:url,ref:forwardedRef},attrs),children)})),__WEBPACK_DEFAULT_EXPORT__=HtzLink;try{HtzLink.displayName="HtzLink",HtzLink.__docgenInfo={description:"",displayName:"HtzLink",props:{href:{defaultValue:null,description:"The path or URL to navigate to. It can also be an object.\n@example https://nextjs.org/docs/api-reference/next/link#with-url-object",name:"href",required:!0,type:{name:"Url"}},onClick:{defaultValue:null,description:"Optional event handler for when Link is clicked.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},onMouseEnter:{defaultValue:null,description:"Optional event handler for when the mouse pointer is moved onto Link",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},onTouchStart:{defaultValue:null,description:"Optional event handler for when Link is touched.",name:"onTouchStart",required:!1,type:{name:"TouchEventHandler<HTMLAnchorElement> | undefined"}},replace:{defaultValue:null,description:"Replace the current `history` state instead of adding a new url into the stack.\n@defaultValue `false`",name:"replace",required:!1,type:{name:"boolean | undefined"}},scroll:{defaultValue:null,description:"Whether to override the default scroll behavior\n@example https://nextjs.org/docs/api-reference/next/link#disable-scrolling-to-the-top-of-the-page\n@defaultValue `true`",name:"scroll",required:!1,type:{name:"boolean | undefined"}},shallow:{defaultValue:null,description:"Update the path of the current page without rerunning [`getStaticProps`](/docs/basic-features/data-fetching/get-static-props.md), [`getServerSideProps`](/docs/basic-features/data-fetching/get-server-side-props.md) or [`getInitialProps`](/docs/api-reference/data-fetching/get-initial-props.md).\n@defaultValue `false`",name:"shallow",required:!1,type:{name:"boolean | undefined"}},prefetch:{defaultValue:null,description:"Prefetch the page in the background.\nAny `<Link />` that is in the viewport (initially or through scroll) will be preloaded.\nPrefetch can be disabled by passing `prefetch={false}`. When `prefetch` is set to `false`, prefetching will still occur on hover. Pages using [Static Generation](/docs/basic-features/data-fetching/get-static-props.md) will preload `JSON` files with the data for faster page transitions. Prefetching is only enabled in production.\n@defaultValue `true`",name:"prefetch",required:!1,type:{name:"boolean | undefined"}},locale:{defaultValue:null,description:"The active locale is automatically prepended. `locale` allows for providing a different locale.\nWhen `false` `href` has to include the locale as the default behavior is disabled.",name:"locale",required:!1,type:{name:"string | false | undefined"}},hrefAs:{defaultValue:null,description:"When different than `href`, the path that will be rendered in the browser\nURL bar. Used for dynamic routes. Otherwise used to decorate how `href` is\ndisplayed in the browser's URL bar.",name:"hrefAs",required:!1,type:{name:"Url | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-htz-link/src/HtzLink.tsx#HtzLink"]={docgenInfo:HtzLink.__docgenInfo,name:"HtzLink",path:"../../ds-atoms/s-htz-link/src/HtzLink.tsx#HtzLink"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-htz-link/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-htz-link/src/HtzLink.tsx").Z},"../../ds-atoms/s-text-field/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DO:()=>_TextField__WEBPACK_IMPORTED_MODULE_0__.DO,Nl:()=>_TextField__WEBPACK_IMPORTED_MODULE_0__.Nl,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _TextField__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../ds-atoms/s-text-field/src/TextField.tsx");const __WEBPACK_DEFAULT_EXPORT__=_TextField__WEBPACK_IMPORTED_MODULE_0__.ZP},"../../ds-atoms/s-text-link/src/TextLink.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>TextLinkButton,Z:()=>src_TextLink});var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.17.0_rollup@2.79.1/node_modules/style9/index.mjs"),src=__webpack_require__("../../ds-atoms/s-htz-link/src/index.ts");const _excluded=["children","inlineStyle","styleExtend"],_excluded2=["children","inlineStyle","styleExtend"];var __jsx=react.createElement;const c_base={outlineWidth:"eGCNgh",textDecorationLine:"dLUwcr",textDecorationColor:"dDxYlR",textDecorationThickness:"bFIFQP",textUnderlineOffset:"cEqDEh",transitionProperty:"iRietU",transitionDuration:"gAhwfJ",transitionTimingFunction:"iaemGh",":hover":{color:"klOnSG"},":focus":{color:"bsfUtT"}},c_button={backgroundColor:"KqcXP"},TextLink=react.forwardRef((function TextLink(_ref,ref){let{children=null,inlineStyle,styleExtend=[]}=_ref,attrs=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx(src.Z,(0,esm_extends.Z)({className:(0,style9.Z)(c_base,...styleExtend),style:inlineStyle,ref},attrs),children)})),src_TextLink=TextLink,TextLinkButton=react.forwardRef((function TextLinkButton(_ref2,ref){let{children=null,inlineStyle,styleExtend=[]}=_ref2,attrs=(0,objectWithoutProperties.Z)(_ref2,_excluded2);return __jsx("button",(0,esm_extends.Z)({className:(0,style9.Z)(c_base,c_button,...styleExtend),style:inlineStyle,ref},attrs),children)}));try{TextLink.displayName="TextLink",TextLink.__docgenInfo={description:"",displayName:"TextLink",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyTextLink(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <TextLink\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<TextLink styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},href:{defaultValue:null,description:"The path or URL to navigate to. It can also be an object.\n@example https://nextjs.org/docs/api-reference/next/link#with-url-object",name:"href",required:!0,type:{name:"Url"}},onClick:{defaultValue:null,description:"Optional event handler for when Link is clicked.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},onMouseEnter:{defaultValue:null,description:"Optional event handler for when the mouse pointer is moved onto Link",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLAnchorElement> | undefined"}},onTouchStart:{defaultValue:null,description:"Optional event handler for when Link is touched.",name:"onTouchStart",required:!1,type:{name:"TouchEventHandler<HTMLAnchorElement> | undefined"}},replace:{defaultValue:null,description:"Replace the current `history` state instead of adding a new url into the stack.\n@defaultValue `false`",name:"replace",required:!1,type:{name:"boolean | undefined"}},scroll:{defaultValue:null,description:"Whether to override the default scroll behavior\n@example https://nextjs.org/docs/api-reference/next/link#disable-scrolling-to-the-top-of-the-page\n@defaultValue `true`",name:"scroll",required:!1,type:{name:"boolean | undefined"}},shallow:{defaultValue:null,description:"Update the path of the current page without rerunning [`getStaticProps`](/docs/basic-features/data-fetching/get-static-props.md), [`getServerSideProps`](/docs/basic-features/data-fetching/get-server-side-props.md) or [`getInitialProps`](/docs/api-reference/data-fetching/get-initial-props.md).\n@defaultValue `false`",name:"shallow",required:!1,type:{name:"boolean | undefined"}},prefetch:{defaultValue:null,description:"Prefetch the page in the background.\nAny `<Link />` that is in the viewport (initially or through scroll) will be preloaded.\nPrefetch can be disabled by passing `prefetch={false}`. When `prefetch` is set to `false`, prefetching will still occur on hover. Pages using [Static Generation](/docs/basic-features/data-fetching/get-static-props.md) will preload `JSON` files with the data for faster page transitions. Prefetching is only enabled in production.\n@defaultValue `true`",name:"prefetch",required:!1,type:{name:"boolean | undefined"}},locale:{defaultValue:null,description:"The active locale is automatically prepended. `locale` allows for providing a different locale.\nWhen `false` `href` has to include the locale as the default behavior is disabled.",name:"locale",required:!1,type:{name:"string | false | undefined"}},hrefAs:{defaultValue:null,description:"When different than `href`, the path that will be rendered in the browser\nURL bar. Used for dynamic routes. Otherwise used to decorate how `href` is\ndisplayed in the browser's URL bar.",name:"hrefAs",required:!1,type:{name:"Url | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-text-link/src/TextLink.tsx#TextLink"]={docgenInfo:TextLink.__docgenInfo,name:"TextLink",path:"../../ds-atoms/s-text-link/src/TextLink.tsx#TextLink"})}catch(__react_docgen_typescript_loader_error){}try{TextLinkButton.displayName="TextLinkButton",TextLinkButton.__docgenInfo={description:"",displayName:"TextLinkButton",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyTextLink(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <TextLink\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<TextLink styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-text-link/src/TextLink.tsx#TextLinkButton"]={docgenInfo:TextLinkButton.__docgenInfo,name:"TextLinkButton",path:"../../ds-atoms/s-text-link/src/TextLink.tsx#TextLinkButton"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-text-link/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>_TextLink__WEBPACK_IMPORTED_MODULE_0__.R,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _TextLink__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../ds-atoms/s-text-link/src/TextLink.tsx");const __WEBPACK_DEFAULT_EXPORT__=_TextLink__WEBPACK_IMPORTED_MODULE_0__.Z},"../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>_TextFieldWithButton,Z:()=>src_TextFieldwithButton});var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.17.0_rollup@2.79.1/node_modules/style9/index.mjs"),src=__webpack_require__("../../ds-atoms/s-button/src/index.ts"),s_text_field_src=__webpack_require__("../../ds-atoms/s-text-field/src/index.ts"),s_formfield_description_src=__webpack_require__("../../ds-atoms/s-formfield-description/src/index.ts");const _excluded=["onClick","state","busyNotice","variant","styleExtend"],_excluded2=["inlineStyle","isInvalid","opaque","styleExtend","state","variant","required","description","isInvalidDescription","btnContent","btnProps","btnRef"];var __jsx=react.createElement;const c={base:{display:"gSBWlu",flexDirection:"iMkoWi"},button:{flexGrow:"bcjLCN",transitionTimingFunction:"iaemGh",":active":{transformOrigin:"eFxeLn"},"@media all and (max-width:101.9375em)":{},"@media all and (min-width:102em)":{}},inputWithButton:{display:"gSBWlu"},input:{flexGrow:"iGDTOy",width:"fEmNDH"},disabledState:{opacity:"gOeSjL"}},src_TextFieldwithButton=react.forwardRef((function TextFieldWithButton(_ref,ref){let{inlineStyle,isInvalid,opaque,styleExtend=[],state,variant,required:requiredProp,description,isInvalidDescription,btnContent,btnProps:{onClick:btnOnClick,state:btnState,busyNotice,variant:btnVariant,styleExtend:btnStyleExtend=[]}={},btnRef}=_ref,btnProps=(0,objectWithoutProperties.Z)(_ref.btnProps,_excluded),textFieldProps=(0,objectWithoutProperties.Z)(_ref,_excluded2);const inputRef=react.useRef(null),[required,setRequired]=react.useState(!1);react.useImperativeHandle(ref,(()=>inputRef.current));const descriptionId=react.useId();if(isInvalid&&isInvalidDescription)throw new Error("both isInvalid and isInvaliDescription are set to true, if you want to control only the description you have to make sure isInvalid is set to false");const buttonState=isInvalid||"disabled"===state?"disabled":btnState,btnStateObjOverride="busy"===buttonState?{state:"busy",busyNotice}:{state:buttonState},buttonVariant=isInvalid?"danger":btnVariant,onButtonClick=react.useCallback((evt=>{if(inputRef.current&&!inputRef.current.value.trim())return evt.preventDefault(),void(requiredProp||setRequired(!0));btnOnClick&&btnOnClick(evt)}),[btnOnClick,requiredProp]);return __jsx(s_text_field_src.DO,{inlineStyle,isInvalid,opaque,styleExtend:[c.base,...styleExtend],state,variant},__jsx("div",{className:(0,style9.Z)(c.inputWithButton)},__jsx(s_text_field_src.Nl,(0,esm_extends.Z)({},textFieldProps,{describedBy:description&&descriptionId,hideBorder:"end",ref:inputRef,required:requiredProp||required,sharp:"end",state,styleExtend:[c.input]})),__jsx(src.ZP,(0,esm_extends.Z)({},btnProps,btnStateObjOverride,{onClick:onButtonClick,ref:btnRef,sharp:"start",variant:buttonVariant,styleExtend:[c.button,"disabled"===state&&c.disabledState,...btnStyleExtend]}),btnContent)),description?__jsx(s_formfield_description_src.Z,{id:descriptionId,isInvalid:isInvalidDescription||isInvalid,variant},description):null)}));function _TextFieldWithButton(_props){return null}try{_TextFieldWithButton.displayName="_TextFieldWithButton",_TextFieldWithButton.__docgenInfo={description:"",displayName:"_TextFieldWithButton",props:{btnContent:{defaultValue:null,description:"The text of the button",name:"btnContent",required:!0,type:{name:"ReactNode"}},btnProps:{defaultValue:null,description:"A subset of the `ButtonProps` type from `@haaretz/s-button`\n(sans the ones irrelevant to this component).\nSee [the Button component](/?path=%2Fdocs%2Fatoms-button--overview) for more details.",name:"btnProps",required:!1,type:{name:"ButtonProps | undefined"}},btnRef:{defaultValue:null,description:"A reference to the button element",name:"btnRef",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null | undefined"}},isInvalidDescription:{defaultValue:null,description:"Indicates if only the description should be invalid",name:"isInvalidDescription",required:!1,type:{name:"boolean | undefined"}},label:{defaultValue:null,description:"The input's label",name:"label",required:!1,type:{name:"string | undefined"}},required:{defaultValue:null,description:"Indicates if the input is required\n@defaultValue false",name:"required",required:!1,type:{name:"boolean | undefined"}},state:{defaultValue:null,description:"The input's functional state\n@defaultValue 'default'",name:"state",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"disabled"'},{value:'"default"'}]}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\n\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyTextField(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <TextField\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:null,description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<TextField styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},variant:{defaultValue:null,description:"Sets the basic visual appearance of the input.\n@defaultValue 'default'",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"default"'},{value:'"inverse"'}]}},startIcon:{defaultValue:null,description:"An icon component to place at the beginning of the input.",name:"startIcon",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"An icon component to place at the end of the input.",name:"endIcon",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},isInvalid:{defaultValue:null,description:"Indicate the input is in an invalid state",name:"isInvalid",required:!1,type:{name:"boolean | undefined"}},opaque:{defaultValue:null,description:"Give input a solid opaque background\n@defaultValue false",name:"opaque",required:!1,type:{name:"boolean | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"number"'},{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"search"'},{value:'"tel"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx#_TextFieldWithButton"]={docgenInfo:_TextFieldWithButton.__docgenInfo,name:"_TextFieldWithButton",path:"../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx#_TextFieldWithButton"})}catch(__react_docgen_typescript_loader_error){}try{TextFieldwithButton.displayName="TextFieldwithButton",TextFieldwithButton.__docgenInfo={description:"",displayName:"TextFieldwithButton",props:{btnContent:{defaultValue:null,description:"The text of the button",name:"btnContent",required:!0,type:{name:"ReactNode"}},btnProps:{defaultValue:null,description:"A subset of the `ButtonProps` type from `@haaretz/s-button`\n(sans the ones irrelevant to this component).\nSee [the Button component](/?path=%2Fdocs%2Fatoms-button--overview) for more details.",name:"btnProps",required:!1,type:{name:"ButtonProps | undefined"}},btnRef:{defaultValue:null,description:"A reference to the button element",name:"btnRef",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null | undefined"}},isInvalidDescription:{defaultValue:null,description:"Indicates if only the description should be invalid",name:"isInvalidDescription",required:!1,type:{name:"boolean | undefined"}},label:{defaultValue:null,description:"The input's label",name:"label",required:!1,type:{name:"string | undefined"}},required:{defaultValue:null,description:"Indicates if the input is required\n@defaultValue false",name:"required",required:!1,type:{name:"boolean | undefined"}},state:{defaultValue:null,description:"The input's functional state\n@defaultValue 'default'",name:"state",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"disabled"'},{value:'"default"'}]}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\n\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyTextField(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <TextField\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:null,description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<TextField styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},variant:{defaultValue:null,description:"Sets the basic visual appearance of the input.\n@defaultValue 'default'",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"default"'},{value:'"inverse"'}]}},startIcon:{defaultValue:null,description:"An icon component to place at the beginning of the input.",name:"startIcon",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"An icon component to place at the end of the input.",name:"endIcon",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string | undefined"}},isInvalid:{defaultValue:null,description:"Indicate the input is in an invalid state",name:"isInvalid",required:!1,type:{name:"boolean | undefined"}},opaque:{defaultValue:null,description:"Give input a solid opaque background\n@defaultValue false",name:"opaque",required:!1,type:{name:"boolean | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"number"'},{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"search"'},{value:'"tel"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx#TextFieldwithButton"]={docgenInfo:TextFieldwithButton.__docgenInfo,name:"TextFieldwithButton",path:"../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx#TextFieldwithButton"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-organisms/s-pp-coupon/src/PpCoupon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PpCoupon});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.17.0_rollup@2.79.1/node_modules/style9/index.mjs"),src=__webpack_require__("../../ds-atoms/s-button/src/index.ts"),s_icon_src=__webpack_require__("../../ds-atoms/s-icon/src/index.ts");const s_text_field_with_button_src=__webpack_require__("../../ds-molecules/s-text-field-with-button/src/TextFieldwithButton.tsx").Z;var QueryClientProvider=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_biqbaboplfbrettd7655fr4n2y/node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),s_use_pp_data_variables_src=__webpack_require__("../../pp-hooks/s-use-pp-data-variables/src/index.ts"),usePPDataStore=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx"),s_use_bi_src=__webpack_require__("../../hooks/s-use-bi/src/index.ts"),PurchasePage=__webpack_require__("../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts"),__jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const c={base:{marginInlineStart:"bMPiZO",marginInlineEnd:"gzedBA",maxWidth:"hVBjbU","@media all and (min-width:37.5em) and (max-width:63.9375em)":{},"@media all and (min-width:80em)":{}},successDiv:{justifyContent:"IVbXa",textAlign:"kooHYa"},successText:{alignItems:"foGVKH",color:"eNHGkV",display:"gSBWlu",justifyContent:"IVbXa",fontFamily:"cGpNyn",fontSize:"iKjpVA",lineHeight:"cVaJzg","@media all and (min-width:102em)":{}},button:{fontSize:"fyHdVr",lineHeight:"iKTruj"},checkCircle:{marginInlineEnd:"hrNAzC",display:"gSBWlu",justifyContent:"IVbXa",alignItems:"foGVKH",width:"bTRldR",aspectRatio:"eUirwo",borderTopLeftRadius:"eCJvpO",borderTopRightRadius:"KuLii",borderBottomRightRadius:"cPOOyy",borderBottomLeftRadius:"dJEuaT",backgroundColor:"gEmziR",fontSize:"dPVLzs"}},ppCouponTexts_btnContent="שליחה",ppCouponTexts_label="נא להזין קופון",ppCouponTexts_description="",ppCouponTexts_success="הקופון הוזן בהצלחה!",ppCouponTexts_remove="להסרת הקופון",ppCouponTexts_busyNotice="מעדכן קופון",ppCouponTexts_error="אירעה שגיאה, אנא נסה שנית";function PpCoupon({onUpdateCoupon,inlineStyle,styleExtend=[],defaultComponentToShow="textfield",biData}){const[componentToShow,setComponentToShow]=react.useState(defaultComponentToShow),[errorMsg,setErrorMsg]=react.useState(""),[btnState,setBtnState]=react.useState("auto"),[btnBusyNotice,setBtnBusyNotice]=react.useState(""),[serverError,setServerError]=react.useState(!1),inputRef=react.useRef(null),client=(0,QueryClientProvider.NL)(),variables=(0,s_use_pp_data_variables_src.Z)(),variablesToObserve=react.useMemo((()=>_objectSpread(_objectSpread({},variables),{},{previousSteps:""})),[variables]),updateCoupon=(0,usePPDataStore.c)(),biAction=(0,s_use_bi_src.Z)();react.useEffect((()=>{"textfield"===componentToShow&&(async()=>{var _ppData,_ppData2,_ppData3;let ppData=client.getQueryData(PurchasePage.RF.getKey(variables));if(null===(_ppData=ppData)||void 0===_ppData||!_ppData.PurchasePage)try{ppData=await client.fetchQuery({queryKey:PurchasePage.RF.getKey(variables),queryFn:PurchasePage.RF.fetcher(variables)})}catch(error){setBtnState("auto"),setBtnBusyNotice(""),setErrorMsg(ppCouponTexts_error),setServerError(!0)}var _ppData$PurchasePage,_ppData$PurchasePage3,_ppData$PurchasePage4,_ppData$PurchasePage2;null!==(_ppData2=ppData)&&void 0!==_ppData2&&_ppData2.PurchasePage&&(null!==(_ppData$PurchasePage=ppData.PurchasePage)&&void 0!==_ppData$PurchasePage&&_ppData$PurchasePage.pageData.couponErrorMessage?(setErrorMsg(null===(_ppData$PurchasePage2=ppData.PurchasePage)||void 0===_ppData$PurchasePage2?void 0:_ppData$PurchasePage2.pageData.couponErrorMessage),setBtnState("auto"),setBtnBusyNotice(""),updateCoupon(null)):null!==(_ppData$PurchasePage3=ppData.PurchasePage)&&void 0!==_ppData$PurchasePage3&&_ppData$PurchasePage3.pageData.personalCouponId||null!==(_ppData$PurchasePage4=ppData.PurchasePage)&&void 0!==_ppData$PurchasePage4&&_ppData$PurchasePage4.pageData.couponId?(setBtnState("auto"),setBtnBusyNotice(""),null==onUpdateCoupon||onUpdateCoupon(ppData.PurchasePage.pageData.personalCouponId||ppData.PurchasePage.pageData.couponId||""),setComponentToShow("success")):(setBtnState("auto"),setBtnBusyNotice(""),updateCoupon(null)));null!==(_ppData3=ppData)&&void 0!==_ppData3&&_ppData3.PurchasePage||(setBtnState("auto"),setBtnBusyNotice(""),setErrorMsg(ppCouponTexts_error),setServerError(!0))})()}),[client,componentToShow,onUpdateCoupon,updateCoupon,variables,variablesToObserve]);const onCancellation=react.useCallback((_=>{updateCoupon(null),errorMsg&&setErrorMsg(""),"success"===componentToShow&&setComponentToShow("textfield"),inputRef.current&&(inputRef.current.value="")}),[componentToShow,errorMsg,updateCoupon]),checkCoupon=react.useCallback((event=>{var _inputRef$current;event.preventDefault(),biData&&biAction(_objectSpread(_objectSpread({},biData),{},{action_id:24})),setServerError(!1);const couponValue=(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current?void 0:_inputRef$current.value.trim())||"";updateCoupon(couponValue),setBtnState("busy"),setBtnBusyNotice(ppCouponTexts_busyNotice)}),[biAction,biData,updateCoupon]),onInput=react.useCallback((evt=>{evt.currentTarget.value&&(setErrorMsg(""),setServerError(!1))}),[]);return __jsx("form",{onSubmit:checkCoupon,className:(0,style9.Z)(c.base,...styleExtend),style:inlineStyle,"data-testid":"pp-coupon"},"textfield"===componentToShow?__jsx(s_text_field_with_button_src,{btnContent:ppCouponTexts_btnContent,label:ppCouponTexts_label,description:errorMsg||ppCouponTexts_description,isInvalid:!!errorMsg&&!serverError,isInvalidDescription:serverError,onChange:onInput,btnProps:_objectSpread(_objectSpread({variant:"neutral",type:"submit"},"busy"===btnState?{state:btnState,busyNotice:btnBusyNotice}:{state:btnState}),{},{styleExtend:[c.button]}),type:"text",ref:inputRef}):__jsx("div",{className:(0,style9.Z)(c.successDiv),"data-testid":"pp-coupon-success"},__jsx("div",{className:(0,style9.Z)(c.successText)},__jsx("span",{className:(0,style9.Z)(c.checkCircle)},__jsx(s_icon_src.Z,{icon:"check",variant:"inverse"})),ppCouponTexts_success),__jsx(src.ZP,{variant:"brand",size:"small",priority:"tertiary",type:"button",onClick:onCancellation},ppCouponTexts_remove)))}try{PpCoupon.displayName="PpCoupon",PpCoupon.__docgenInfo={description:"",displayName:"PpCoupon",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},onUpdateCoupon:{defaultValue:null,description:"",name:"onUpdateCoupon",required:!1,type:{name:"((coupon: string) => void) | undefined"}},defaultComponentToShow:{defaultValue:{value:"textfield"},description:"",name:"defaultComponentToShow",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"success"'},{value:'"textfield"'}]}},biData:{defaultValue:null,description:"Bi data passed as an argument to biAction",name:"biData",required:!1,type:{name:"BiDataOverrides | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-organisms/s-pp-coupon/src/PpCoupon.tsx#PpCoupon"]={docgenInfo:PpCoupon.__docgenInfo,name:"PpCoupon",path:"../../pp-organisms/s-pp-coupon/src/PpCoupon.tsx#PpCoupon"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-organisms/s-pp-coupon/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-organisms/s-pp-coupon/src/PpCoupon.tsx").Z}}]);