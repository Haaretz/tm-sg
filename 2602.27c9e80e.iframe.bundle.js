"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[2602],{"../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ImageFragmentGql});const ImageFragmentGql="\n    fragment ImageFragment on htz_image_Image {\n  __typename\n  alt\n  caption\n  contentId\n  credit\n  files {\n    crops {\n      headline {\n        ...ImageCropFragment\n      }\n      landscape {\n        ...ImageCropFragment\n      }\n      regular {\n        ...ImageCropFragment\n      }\n      square {\n        ...ImageCropFragment\n      }\n      vertical {\n        ...ImageCropFragment\n      }\n      wide {\n        ...ImageCropFragment\n      }\n    }\n    height\n    path\n    width\n  }\n  link\n  photographer\n  type\n}\n    "},"../../graphql/s-fragments/src/__generated__/ImageCrop.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>ImageCropFragmentGql});const ImageCropFragmentGql="\n    fragment ImageCropFragment on ImageCrop {\n  __typename\n  height\n  width\n  x\n  y\n}\n    "},"../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RF:()=>usePurchasePagePersonalQuery});__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js");var HTZ_image_Image=__webpack_require__("../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts"),ImageCrop=__webpack_require__("../../graphql/s-fragments/src/__generated__/ImageCrop.ts");var useQuery=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),GraphqlFetcher=(__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.24.4_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs"),__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx"));const PurchasePagePersonalQueryDocument=`\n    query PurchasePagePersonalQuery($couponId: String, $pathSegment: String, $selectedOfferId: String, $ticketId: String, $userId: String, $cartData: Boolean, $previousSteps: String) {\n  PurchasePage(\n    couponId: $couponId\n    pathSegment: $pathSegment\n    selectedOfferId: $selectedOfferId\n    ticketId: $ticketId\n    userId: $userId\n    cartData: $cartData\n    previousSteps: $previousSteps\n  ) {\n    pageData {\n      ...PageDataFragment\n    }\n  }\n}\n    \n    fragment PageDataFragment on PageData {\n  allSteps {\n    ...StepDataFragment\n  }\n  contentId\n  couponId\n  couponErrorMessage\n  toggleKicker {\n    ...PurchaseToggleKickerFragment\n  }\n  annual {\n    ...PurchaseOfferFragment\n  }\n  marketingBullets {\n    ...MarketingBulletFragment\n  }\n  monthly {\n    ...PurchaseOfferFragment\n  }\n  personalCouponId\n  steps {\n    ...StepDataFragment\n  }\n  specialSaleData {\n    ...SpecialSaleDataFragment\n  }\n  thankYouPageText\n  cartData {\n    ...CartDataFragment\n  }\n  image {\n    ...ImageFragment\n  }\n  selectedOffer {\n    ...PurchaseOfferFragment\n  }\n}\n    \n\n    fragment StepDataFragment on StepData {\n  __typename\n  content {\n    ...HtmlNodeFragment\n  }\n  instructions\n  messageIds\n  messages\n  name\n  title\n}\n    \n\n    fragment HtmlNodeFragment on HtmlNode {\n  __typename\n  as: tag\n  content\n  id\n}\n    \n\n    fragment PurchaseToggleKickerFragment on PurchaseToggleKicker {\n  __typename\n  billing\n  text\n}\n    \n\n    fragment PurchaseOfferFragment on PurchaseOffer {\n  __typename\n  benefits {\n    ...HtmlNodeFragment\n  }\n  benefitsHeading\n  contentId\n  description\n  exclusive\n  exclusiveStrip\n  legalText {\n    ...HtmlNodeFragment\n  }\n  line1Text {\n    ...HtmlNodeFragment\n  }\n  line2Text {\n    ...HtmlNodeFragment\n  }\n  note\n  offerHighlight\n  offerType\n  paymentType\n  periodCalc\n  prices\n  product\n  productName\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n}\n    \n\n    fragment MarketingBulletFragment on MarketingBullet {\n  __typename\n  text\n  title\n}\n    \n\n    fragment SpecialSaleDataFragment on SpecialSaleData {\n  __typename\n  exclusive\n  image {\n    ...ImageFragment\n  }\n  title\n}\n    \n${HTZ_image_Image.I}\n${ImageCrop.T}\n\n    fragment CartDataFragment on CartData {\n  approveDebtClaim\n  contentId\n  periodCalc\n  prices\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n  paymentType\n  __typename\n}\n    `,usePurchasePagePersonalQuery=(variables,options)=>(0,useQuery.a)(void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables],(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables),options);usePurchasePagePersonalQuery.document=PurchasePagePersonalQueryDocument,usePurchasePagePersonalQuery.getKey=variables=>void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables];usePurchasePagePersonalQuery.fetcher=(variables,options)=>(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables,options)},"../../hooks/s-use-config/src/useConfig.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>ConfigContext,Z:()=>useConfig});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ConfigContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function useConfig(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(ConfigContext);if(void 0===context)throw new Error("useConfig must be used within a ConfigContext");return context}},"../../pp-atoms/s-pp-instructions/src/PromotionsInstructions.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PromotionsInstructions});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c_base={color:"gjYftY",fontWeight:"jPzznp",fontFamily:"cGpNyn",textAlign:"kooHYa",fontSize:"dGDAum",lineHeight:"dRpeUM","@media all and (min-width:48em) and (max-width:79.9375em)":{fontSize:"laszXO",lineHeight:"jjEZxM"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"dZvUak",lineHeight:"bynegB"},"@media all and (min-width:102em)":{fontSize:"jLiuzX",lineHeight:"cSZpZl"}};function PromotionsInstructions(_ref){let{instructions,inlineStyle,styleExtend=[]}=_ref;return instructions?__jsx("p",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c_base,...styleExtend),id:"pp-page-instructions",style:inlineStyle,"data-testid":"pp-instructions"},instructions):null}PromotionsInstructions.__docgenInfo={description:"",methods:[],displayName:"PromotionsInstructions"};try{PromotionsInstructions.displayName="PromotionsInstructions",PromotionsInstructions.__docgenInfo={description:"",displayName:"PromotionsInstructions",props:{instructions:{defaultValue:null,description:"The Children to be rendered inside `<PromotionsInstructions>`",name:"instructions",required:!1,type:{name:"string | null | undefined"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-instructions/src/PromotionsInstructions.tsx#PromotionsInstructions"]={docgenInfo:PromotionsInstructions.__docgenInfo,name:"PromotionsInstructions",path:"../../pp-atoms/s-pp-instructions/src/PromotionsInstructions.tsx#PromotionsInstructions"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-instructions/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-atoms/s-pp-instructions/src/PromotionsInstructions.tsx").Z},"../../pp-atoms/s-pp-step/src/Step.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Step});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c_base={fontFamily:"cGpNyn",color:"URsRO",textAlign:"kooHYa",fontSize:"hmImpX",lineHeight:"bwFuZl","@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"gPowFU",lineHeight:"eaJJqD"},"@media all and (min-width:102em)":{fontSize:"jbDMjY",lineHeight:"kzePcG"}},c_current={fontWeight:"iLdtFu"};function Step(_ref){let{currentStep,allSteps}=_ref;const stepNames=allSteps.map((step=>step.name)),numOfSteps=stepNames.length,stepPositionInArray=stepNames.indexOf(currentStep),step=-1===stepPositionInArray?NaN:stepPositionInArray+1;return Number.isNaN(step)?null:__jsx("div",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c_base),"data-testid":"pp-step"},__jsx("span",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c_current)},"שלב"," ",step)," ","מתוך"," ",numOfSteps)}Step.__docgenInfo={description:"",methods:[],displayName:"Step"};try{Stepcomponent.displayName="Stepcomponent",Stepcomponent.__docgenInfo={description:"",displayName:"Stepcomponent",props:{currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"enum",value:[{value:'"debt"'},{value:'"login"'},{value:'"offers"'},{value:'"payment"'},{value:'"specialMax"'},{value:'"specialSubscription"'},{value:'"thankYou"'},{value:'"updateDetails"'},{value:'"validSubscription"'}]}},allSteps:{defaultValue:null,description:"",name:"allSteps",required:!0,type:{name:"StepDataFragment[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-step/src/Step.component.tsx#Stepcomponent"]={docgenInfo:Stepcomponent.__docgenInfo,name:"Stepcomponent",path:"../../pp-atoms/s-pp-step/src/Step.component.tsx#Stepcomponent"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-step/src/Step.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Step});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_haaretz_s_pp_queries_PurchasePage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts"),_haaretz_s_use_pp_data_variables__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../pp-hooks/s-use-pp-data-variables/src/index.ts"),_Step_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../pp-atoms/s-pp-step/src/Step.component.tsx");react__WEBPACK_IMPORTED_MODULE_0__.createElement;function Step(_ref){let{currentStep}=_ref;const variables=(0,_haaretz_s_use_pp_data_variables__WEBPACK_IMPORTED_MODULE_2__.Z)(),{data}=(0,_haaretz_s_pp_queries_PurchasePage__WEBPACK_IMPORTED_MODULE_3__.RF)(variables,{enabled:!1}),allSteps=data?.PurchasePage?.pageData?.allSteps;return allSteps?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Step_component__WEBPACK_IMPORTED_MODULE_1__.Z,{allSteps,currentStep}):null}Step.__docgenInfo={description:"",methods:[],displayName:"Step"};try{Step.displayName="Step",Step.__docgenInfo={description:"",displayName:"Step",props:{currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"enum",value:[{value:'"debt"'},{value:'"login"'},{value:'"offers"'},{value:'"payment"'},{value:'"specialMax"'},{value:'"specialSubscription"'},{value:'"thankYou"'},{value:'"updateDetails"'},{value:'"validSubscription"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-step/src/Step.tsx#Step"]={docgenInfo:Step.__docgenInfo,name:"Step",path:"../../pp-atoms/s-pp-step/src/Step.tsx#Step"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-system-notice/src/PromotionsSystemNotice.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PromotionsSystemNotice});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c_base={color:"gjYftY",fontWeight:"jPzznp",textAlign:"kooHYa",fontSize:"iKjpVA",lineHeight:"cVaJzg","@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"hJgbZA",lineHeight:"cLPvYH"},"@media all and (min-width:102em)":{fontSize:"krpnci",lineHeight:"dPBKZn"}};function PromotionsSystemNotice(_ref){let{notice}=_ref;return notice?__jsx("p",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c_base)},notice):null}PromotionsSystemNotice.__docgenInfo={description:"",methods:[],displayName:"PromotionsSystemNotice"};try{PromotionsSystemNotice.displayName="PromotionsSystemNotice",PromotionsSystemNotice.__docgenInfo={description:"",displayName:"PromotionsSystemNotice",props:{notice:{defaultValue:null,description:"The text to render inside `<PromotionsSystemNotice>`",name:"notice",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-system-notice/src/PromotionsSystemNotice.tsx#PromotionsSystemNotice"]={docgenInfo:PromotionsSystemNotice.__docgenInfo,name:"PromotionsSystemNotice",path:"../../pp-atoms/s-pp-system-notice/src/PromotionsSystemNotice.tsx#PromotionsSystemNotice"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-system-notices/src/PromotionsSystemNotices.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PromotionsSystemNotices});const src=__webpack_require__("../../pp-atoms/s-pp-system-notice/src/PromotionsSystemNotice.tsx").Z;var react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react.createElement;const c_base={marginTop:"cyerGB"};function PromotionsSystemNotices(_ref){let{notices}=_ref;return notices?.length?__jsx("div",{className:(0,style9.Z)(c_base),"data-testid":"pp-notices"},notices.map((notice=>__jsx(src,{notice,key:notice})))):null}PromotionsSystemNotices.__docgenInfo={description:"",methods:[],displayName:"PromotionsSystemNotices"};try{PromotionsSystemNotices.displayName="PromotionsSystemNotices",PromotionsSystemNotices.__docgenInfo={description:"",displayName:"PromotionsSystemNotices",props:{notices:{defaultValue:null,description:"The Children to be rendered inside `<PromotionsSystemNotices>`",name:"notices",required:!1,type:{name:"string[] | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-system-notices/src/PromotionsSystemNotices.tsx#PromotionsSystemNotices"]={docgenInfo:PromotionsSystemNotices.__docgenInfo,name:"PromotionsSystemNotices",path:"../../pp-atoms/s-pp-system-notices/src/PromotionsSystemNotices.tsx#PromotionsSystemNotices"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-title/src/PageTitle.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageTitle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const c_base={color:"gjYftY",fontWeight:"iLdtFu",textAlign:"kooHYa",fontFamily:"cGpNyn",marginInlineEnd:"gzedBA",marginInlineStart:"bMPiZO",fontSize:"dGDAum",lineHeight:"dRpeUM","@media all and (max-width:37.4375em)":{maxWidth:"hoQPzd"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"dZvUak",lineHeight:"bynegB"}};function PageTitle(_ref){let{children,styleExtend=[],inlineStyle}=_ref;return __jsx("h1",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c_base,...styleExtend),style:inlineStyle,"data-testid":"pp-title"},children)}PageTitle.__docgenInfo={description:"",methods:[],displayName:"PageTitle"};try{PageTitle.displayName="PageTitle",PageTitle.__docgenInfo={description:"",displayName:"PageTitle",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-title/src/PageTitle.tsx#PageTitle"]={docgenInfo:PageTitle.__docgenInfo,name:"PageTitle",path:"../../pp-atoms/s-pp-title/src/PageTitle.tsx#PageTitle"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-title/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-atoms/s-pp-title/src/PageTitle.tsx").Z},"../../pp-hooks/s-use-pp-data-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx").ZP},"../../pp-hooks/s-use-pp-data-variables/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),usePPDataStore=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx"),dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.6_next@13.4.5_react@18.2.0/node_modules/next-router-mock/dist/index.js"),src_discardNullableValues=__webpack_require__("../../utils/s-common-utils/src/discardNullableValues/index.ts");const src_discardValues=(object,discard)=>{const result={};for(const key in object)discard[key]||(result[key]=object[key]);return result};var usePPStepsOffsetStore=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx"),isAbandonedCartRoute=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts"),user=__webpack_require__("../../utils/s-atoms/src/user/index.ts");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function getVariabelFromQuery(query,isLoggedIn){return{pathSegment:query.pathSegment,cartData:isLoggedIn&&(0,isAbandonedCartRoute.Z)(query),previousSteps:""}}const src=function usePpDataVariables(excludeValues){const router=(0,dist.useRouter)(),{contentId}=(0,usePPDataStore.JV)(),couponId=(0,usePPDataStore.vA)(),offsetSteps=(0,usePPStepsOffsetStore.np)(),[userData]=(0,user.Z)(),previousSteps=offsetSteps.join(","),variabelFromQuery=react.useMemo((()=>getVariabelFromQuery(router.query,userData.isLoggedIn||!1)),[router.query,userData?.isLoggedIn]);return react.useMemo((()=>(0,src_discardNullableValues.Z)(src_discardValues(_objectSpread(_objectSpread({},variabelFromQuery),{},{selectedOfferId:userData?.isLoggedIn?contentId:void 0,couponId,previousSteps:variabelFromQuery.previousSteps||previousSteps}),excludeValues||{}))),[contentId,couponId,excludeValues,previousSteps,userData?.isLoggedIn,variabelFromQuery])}},"../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx").ZP},"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qf:()=>usePPOffsetStepsStoreActions,R8:()=>usePpPrevStepInitialization,ZP:()=>PPOffsetStepsStoreContextProvider,np:()=>usePPOffsetStepsStore,q9:()=>usePPPrevStepsStore,v:()=>usePPPrevStepsStoreActions});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.6_next@13.4.5_react@18.2.0/node_modules/next-router-mock/dist/index.js"),_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts"),_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts"),_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../shared/s-consts/src/index.ts");react__WEBPACK_IMPORTED_MODULE_0__.createElement;const OffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),PrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdapteOffsetStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),UdaptePrevStepsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function PPOffsetStepsStoreContextProvider(_ref){let{children,initialState}=_ref;const[prevSteps,setPrevSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState([]),[offsetSteps,setOffsetSteps]=react__WEBPACK_IMPORTED_MODULE_0__.useState(initialState||[]),isFilledRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(initialState?.includes("login")||!1),[user]=(0,_haaretz_s_atoms_user__WEBPACK_IMPORTED_MODULE_2__.Z)(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)(),offsetStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushStep:step=>{if(!isFilledRef.current){const isLoggedInOnOffersPage=user?.userName&&"offers"===step;user?.userName&&"login"!==step&&!isLoggedInOnOffersPage||(("login"===step||isLoggedInOnOffersPage)&&(isFilledRef.current=!0),setOffsetSteps((prevState=>[...prevState,step])))}},clearSteps:()=>{setOffsetSteps([]),isFilledRef.current=!1}})),[user?.userName]),prevStepsActions=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({pushPrevStep:step=>{(0,_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z)(step)&&setPrevSteps((prevState=>prevState.includes(step)?prevState:[...prevState,step]))},pushPrevSteps:steps=>{prevSteps.length<=1&&steps.length&&setPrevSteps((prevState=>[...steps.filter(_haaretz_s_pp_routing_utils_isGqlPpStep__WEBPACK_IMPORTED_MODULE_3__.Z).filter((step=>!prevState.includes(step))),...prevState]))},getPrevSteps:()=>prevSteps})),[prevSteps]),resultOffsetSteps=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{const currentStepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);return isFilledRef.current&&"offers"!==currentStepName&&"coupon"!==currentStepName?offsetSteps:[]}),[offsetSteps,router.pathname]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OffsetStepsContext.Provider,{value:resultOffsetSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrevStepsContext.Provider,{value:prevSteps},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdapteOffsetStepsContext.Provider,{value:offsetStepsActions},react__WEBPACK_IMPORTED_MODULE_0__.createElement(UdaptePrevStepsContext.Provider,{value:prevStepsActions},children))))}function usePPOffsetStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(OffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStore(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(PrevStepsContext);if(!context)throw new Error("usePPPrevStepsStore must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPOffsetStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdapteOffsetStepsContext);if(!context)throw new Error("usePPOffsetStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePPPrevStepsStoreActions(){const context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(UdaptePrevStepsContext);if(!context)throw new Error("usePPPrevStepsStoreActions must be used within a PPOffsetStepsStoreContextProvider");return context}function usePpPrevStepInitialization(){const prevSteps=usePPPrevStepsStore(),{pushPrevSteps}=usePPPrevStepsStoreActions(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const prevPagesString=sessionStorage.getItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB);if(prevPagesString)try{const prevPages=JSON.parse(prevPagesString);if(Array.isArray(prevPages)){const stepName=(0,_haaretz_s_pp_routing_utils_getCurrentStepName__WEBPACK_IMPORTED_MODULE_4__.Z)(router.pathname);pushPrevSteps([...prevPages,stepName])}sessionStorage.removeItem(_haaretz_s_consts__WEBPACK_IMPORTED_MODULE_5__.UB)}catch(error){console.error(error.message)}}),[prevSteps,pushPrevSteps,router.pathname])}PPOffsetStepsStoreContextProvider.__docgenInfo={description:"",methods:[],displayName:"PPOffsetStepsStoreContextProvider"};try{usePPStepsOffsetStore.displayName="usePPStepsOffsetStore",usePPStepsOffsetStore.__docgenInfo={description:"",displayName:"usePPStepsOffsetStore",props:{initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"PurchasePageSteps[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"]={docgenInfo:usePPStepsOffsetStore.__docgenInfo,name:"usePPStepsOffsetStore",path:"../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx#usePPStepsOffsetStore"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-molecules/s-pp-header/src/PpHeader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PpHeader});const src=__webpack_require__("../../pp-atoms/s-pp-step/src/Step.tsx").Z;var s_pp_title_src=__webpack_require__("../../pp-atoms/s-pp-title/src/index.ts"),s_pp_instructions_src=__webpack_require__("../../pp-atoms/s-pp-instructions/src/index.ts");const s_pp_system_notices_src=__webpack_require__("../../pp-atoms/s-pp-system-notices/src/PromotionsSystemNotices.tsx").Z;var isGqlPpStep=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts"),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.1_rollup@2.79.1_webpack@5.74.0/node_modules/style9/index.mjs"),__jsx=react.createElement;const c={base:{textAlign:"kooHYa",marginInlineStart:"bMPiZO",marginInlineEnd:"gzedBA",maxWidth:"clobCc","@media all and (min-width:80em)":{marginInlineStart:"griTvt",marginInlineEnd:"coNkVT",marginTop:"jwZBPR",maxWidth:"kUsvdA"}},headerTextArea:{marginTop:"fClzDx",fontFamily:"cGpNyn","@media all and (max-width:47.9375em)":{marginTop:"eZgvbU"}},ppTitle:{}};function PpHeader(_ref){let{currentStep,title,instructions,messages,styleExtend=[]}=_ref;return __jsx("header",{className:(0,style9.Z)(c.base,...styleExtend)},(0,isGqlPpStep.Z)(currentStep)?__jsx(src,{currentStep}):null,__jsx("div",{className:(0,style9.Z)(c.headerTextArea)},title?__jsx(s_pp_title_src.Z,{styleExtend:[c.ppTitle]},title):null,__jsx(s_pp_instructions_src.Z,{instructions}),__jsx(s_pp_system_notices_src,{notices:messages})))}PpHeader.__docgenInfo={description:"",methods:[],displayName:"PpHeader"};try{PpHeader.displayName="PpHeader",PpHeader.__docgenInfo={description:"",displayName:"PpHeader",props:{currentStep:{defaultValue:null,description:"The Current Step of the user, can be chosen out of these steps.",name:"currentStep",required:!0,type:{name:"enum",value:[{value:'"debt"'},{value:'"login"'},{value:'"offers"'},{value:'"payment"'},{value:'"specialMax"'},{value:'"specialSubscription"'},{value:'"thankYou"'},{value:'"updateDetails"'},{value:'"validSubscription"'},{value:'"error"'},{value:'"coupon"'},{value:'"paymentChange"'},{value:'"changeSuccess"'}]}},title:{defaultValue:null,description:"The title of the Promotion page",name:"title",required:!1,type:{name:"string | null | undefined"}},instructions:{defaultValue:null,description:"instructions, will be set as a string || undefined",name:"instructions",required:!1,type:{name:"string | null | undefined"}},messages:{defaultValue:null,description:"notices will be set as an array of strings.",name:"messages",required:!1,type:{name:"string[] | null | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"styleExtend",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-molecules/s-pp-header/src/PpHeader.tsx#PpHeader"]={docgenInfo:PpHeader.__docgenInfo,name:"PpHeader",path:"../../pp-molecules/s-pp-header/src/PpHeader.tsx#PpHeader"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-utils/s-pp-routing-utils/src/getCurrentStepName/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_getCurrentStepName});const src_getCurrentStepName=function getCurrentStepName(pathname){return pathname.startsWith("/")?pathname.slice(1):pathname}},"../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isAbandonedCartRoute});const src_isAbandonedCartRoute=function isAbandonedCartRoute(query){return"preference"in query}},"../../pp-utils/s-pp-routing-utils/src/isGqlPpStep/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isGqlPpStep});const validGqlPpSteps={debt:!0,login:!0,offers:!0,payment:!0,specialMax:!0,specialSubscription:!0,thankYou:!0,updateDetails:!0,validSubscription:!0,coupon:!1,error:!1,changeSuccess:!1,paymentChange:!1};const src_isGqlPpStep=function isGqlPpStep(step){return validGqlPpSteps[step]||!1}},"../../utils/s-pp-storybook-providers/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>s_pp_storybook_providers_src});var react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/index.ts"),s_use_pp_offset_steps_store_src=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/index.ts"),useBiDataContext=__webpack_require__("../../hooks/s-use-bi/src/useBiDataContext.tsx"),useConfig=__webpack_require__("../../hooks/s-use-config/src/useConfig.ts"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js");react.createElement;function withProviders(Story,context){return react.createElement(useConfig.E.Provider,{value:configShim.Z},react.createElement(src.ZP,null,react.createElement(s_use_pp_offset_steps_store_src.ZP,null,react.createElement(useBiDataContext.i,null,react.createElement(Story,context)))))}withProviders.__docgenInfo={description:"",methods:[],displayName:"withProviders"};const s_pp_storybook_providers_src=withProviders}}]);