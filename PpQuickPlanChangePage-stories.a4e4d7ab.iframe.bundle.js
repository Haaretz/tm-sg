"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[7678],{"../../pp-pages/s-pp-quick-payment-change-page/src/PpQuickPlanChangePage.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Overview:()=>Overview,default:()=>PpQuickPlanChangePage_stories});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),preview=__webpack_require__("../../config/l-storybook-config/preview.js"),src=__webpack_require__("../../utils/s-pp-storybook-providers/src/index.ts"),configShim=__webpack_require__("../../config/l-storybook-config/wwwroot/public/configShim.js"),s_logo_loading_indicator_src=__webpack_require__("../../ds-atoms/s-logo-loading-indicator/src/index.ts"),fetchChangePlan=__webpack_require__("../../pp-utils/s-pp-build-promotions-link/src/fetchChangePlan/index.ts"),objectWithoutProperties=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),hydration=__webpack_require__("../../../node_modules/.pnpm/@tanstack+query-core@4.36.1/node_modules/@tanstack/query-core/build/lib/hydration.mjs");const s_dehydrate_client_middleware_src=function dehydrateClientMiddleware(_ref){let{client}=_ref;if(!client)throw new Error("React-query client not passed");const dehydratedState=(0,hydration.D)(client);return Promise.resolve({dehydratedState})};var mergeDeepLeft=__webpack_require__("../../../node_modules/.pnpm/ramda@0.29.0/node_modules/ramda/src/mergeDeepLeft.js"),mergeDeepLeft_default=__webpack_require__.n(mergeDeepLeft),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const s_middleware_dispatcher_src=function connect(args,initialState){return async function middlewareStore(){let state=initialState,aborted=!1;for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];for(const middleware of middlewares)try{if(aborted)continue;let middlewareResult={};middlewareResult=await middleware(_objectSpread(_objectSpread({},args),{},{state})),!1===middlewareResult?aborted=!0:(state=mergeDeepLeft_default()(state,middlewareResult),"redirect"in middlewareResult&&(aborted=!0))}catch(error){aborted=!0,console.error("Middleware error: ",error.message)}return Promise.resolve(state)}};const s_plant_anonymous_id_cookie_middleware_src=__webpack_require__("../../middlewares/s-plant-anonymous-id-cookie-middleware/src/plantAnonymousIdCookieMiddleware.ts").Z;var s_consts_src=__webpack_require__("../../shared/s-consts/src/index.ts");const src_stringToMap=__webpack_require__("../../utils/s-cookie-utils/src/stringToMap/stringToMap.ts").Z;var browser_ponyfill=__webpack_require__("../../../node_modules/.pnpm/cross-fetch@3.1.5/node_modules/cross-fetch/dist/browser-ponyfill.js"),browser_ponyfill_default=__webpack_require__.n(browser_ponyfill),plantAuthCookieMiddleware_console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const cookieGenerator=configShim.Z.get("cookieGenerator"),authCookie=["user_details","sso_token"];const s_plant_auth_cookie_middleware_src=async function plantAuthCookieMiddleware_plantAnonymousIdCookieMiddleware(_ref){let{ctx}=_ref;const cookies=ctx.req.cookies,legacyCookie=cookies.tmsso;if(legacyCookie&&(!cookies.user_details||!cookies.sso_token))try{var _response$headers$raw,_response$headers;const{ticketId,userId}=src_stringToMap(legacyCookie,{separator:/:\s?/}),searchParams=new URLSearchParams({add:authCookie.join(","),site:s_consts_src.OE.toString(),ticketId,userId}),url=`${cookieGenerator}/addAndRemove?${searchParams.toString()}`,cookie=null===(_response$headers$raw=(_response$headers=(await browser_ponyfill_default()(url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).headers).raw)||void 0===_response$headers$raw?void 0:_response$headers$raw.call(_response$headers)["set-cookie"];if(Array.isArray(cookie)&&cookie.length){for(const item of cookie){if(!authCookie.some((cookieName=>item.includes(cookieName))))continue;const cookieToRequest=item.substring(0,item.indexOf(";"));if(cookieToRequest){ctx.req.headers.cookie+=`; ${cookieToRequest}`;const[key,value]=cookieToRequest.split("=");ctx.req.cookies[key]=value}}ctx.res.setHeader("Set-Cookie",cookie.filter((item=>authCookie.some((cookieName=>item.includes(cookieName))))))}}catch(error){plantAuthCookieMiddleware_console.error(error.message)}return Promise.resolve({})};const s_platform_dispenser_middleware_src=function platformDispenserMiddleware(_ref){let{ctx}=_ref,platform=ctx.req.headers.platform;return platform||(platform="true"===ctx.req.headers.ismobileapp?"app":"desktop"),Promise.resolve({platform})};var decodeUnicodeBase64=__webpack_require__("../../utils/s-common-utils/src/decodeUnicodeBase64/index.ts"),GraphqlFetcher=__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx"),CheckEmailExist=__webpack_require__("../../graphql/s-lgn-queries/src/__generated__/CheckEmailExist.ts"),PurchasePage=__webpack_require__("../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts"),isAbandonedCartRoute=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts"),usePPDataVariables=__webpack_require__("../../pp-hooks/s-use-pp-data-variables/src/usePPDataVariables.ts"),emailValidator=__webpack_require__("../../utils/s-validators/src/emailValidator/index.ts"),ppDataGetterMiddleware_console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const _excluded=["accept"],whiteList={error:!0,paymentChange:!0,changeSuccess:!0,thankYou:!0,validSubscription:!0,specialSubscription:!0};const s_pp_data_getter_middleware_src=function purchasePageMiddlewareFactory(step){return function purchasePageMiddleware(_ref){let{client,ctx,state}=_ref;if(!0===whiteList[step])return Promise.resolve({});if(!client)throw new Error("React-query client not passed");const _ctx$req$headers=ctx.req.headers,{accept}=_ctx$req$headers,headers=(0,objectWithoutProperties.Z)(_ctx$req$headers,_excluded);if((0,isAbandonedCartRoute.Z)(ctx.query)&&"login"===step){const restorecart=ctx.query.restorecart;if(restorecart){let email="";try{email=(0,decodeUnicodeBase64.Z)(restorecart)}catch(error){ppDataGetterMiddleware_console.error(`Abandoned cart parse email error, ${error.message}`)}if((0,emailValidator.Z)(email).valid){const checkEmailVariables={email,site:s_consts_src.pq};return client.prefetchQuery(CheckEmailExist.cm.getKey(checkEmailVariables),(async()=>await(0,GraphqlFetcher.Z)(CheckEmailExist.cm.document,checkEmailVariables,headers)())).then((()=>({})))}}}const user=state.user,variables=(0,usePPDataVariables.a)(ctx,(null==user?void 0:user.isLoggedIn)||!1),cacheKey=PurchasePage.RF.getKey(variables),ppDataPromise=client.prefetchQuery(cacheKey,(async()=>await(0,GraphqlFetcher.Z)(PurchasePage.RF.document,variables,headers)()));return Promise.all([ppDataPromise]).then((()=>({})))}};var s_use_pp_message_src=__webpack_require__("../../pp-hooks/s-use-pp-message/src/index.ts");const errorMsgData={messageType:"SYSTEM_ERROR",title:"אירעה שגיאה",instructions:"אנא נסו שנית מאוחר יותר או פנו לשירות הלקוחות במידה והתקלה נמשכת",cta:"פנו לשירות הלקוחות",ctaType:"link",action:57,link:"https://www.haaretz.co.il/misc/contact-us"},errorMsgDataEncoded=encodeURIComponent(JSON.stringify(errorMsgData));const s_pp_payment_change_middleware_src=function ppPaymentChangeMiddleware(step){return _ref=>{var _ctx$res;let{ctx}=_ref;if("paymentChange"!==step)return Promise.resolve({});const{productId,type,email,confirmation}=ctx.query||{},cookies=ctx.req.cookies,hasConfirmedEmail=!(!email||!confirmation);if(!((!!(cookies.tmsso||cookies.sso_token||cookies.user_details)||"update_payment_quick_login"===type&&hasConfirmedEmail)&&productId||"function"!=typeof(null===(_ctx$res=ctx.res)||void 0===_ctx$res?void 0:_ctx$res.setHeader))){var _ctx$res2;const cookie=`${s_use_pp_message_src.Z.cookieName}=${errorMsgDataEncoded}; path=/; domain=.${s_consts_src.Kn};`;return null===(_ctx$res2=ctx.res)||void 0===_ctx$res2||_ctx$res2.setHeader("Set-Cookie",cookie),Promise.resolve({redirect:{destination:"/error"}})}return Promise.resolve({})}};var generatePath=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/generatePath/index.ts"),isThankYouStep=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isThankYouStep/index.ts"),breakUrl=__webpack_require__("../../utils/s-url-utils/src/breakUrl/index.ts");const ppStepMiddleware_whiteList={coupon:!0,paymentChange:!0,specialSubscription:!0};const s_pp_step_middleware_src=function ppStepMiddleware(step){return _ref=>{var _purchasePageQuery$Pu;let{ctx,client,state}=_ref;if("true"===ctx.req.headers.disableredirects)return Promise.resolve({});if((0,isAbandonedCartRoute.Z)(ctx.query)&&"login"===step)return Promise.resolve({});if(!0===ppStepMiddleware_whiteList[step])return Promise.resolve({});if("error"===step)return function hasMessageCookie(ctx){var _ctx$req$headers$cook,_ctx$res$getHeader;return!!(null!==(_ctx$req$headers$cook=ctx.req.headers.cookie)&&void 0!==_ctx$req$headers$cook&&_ctx$req$headers$cook.includes("promotions-response-message")||null!==(_ctx$res$getHeader=ctx.res.getHeader("set-cookie"))&&void 0!==_ctx$res$getHeader&&_ctx$res$getHeader.toString().includes("promotions-response-message"))}(ctx)?Promise.resolve({}):Promise.resolve({redirect:{destination:"/offers"}});if("payment"===step&&ctx.query.storeData)return Promise.resolve({});if(!client)throw new Error("React-query client not passed");if("quickPlanChange"===step&&"string"==typeof ctx.query.prodNo&&"string"==typeof ctx.query.saleCode&&"string"==typeof ctx.query.promotionNo&&Number.isInteger(+ctx.query.prodNo)&&Number.isInteger(+ctx.query.saleCode)&&Number.isInteger(+ctx.query.promotionNo))return Promise.resolve({});const user=state.user;if((0,isThankYouStep.Z)(step))return null!=user&&user.isLoggedIn?Promise.resolve({}):Promise.resolve({redirect:{destination:"/offers"}});const variables=(0,usePPDataVariables.a)(ctx,(null==user?void 0:user.isLoggedIn)||!1),purchasePageQuery=client.getQueryData(PurchasePage.RF.getKey(variables));if(!purchasePageQuery)return Promise.resolve({redirect:{destination:"/500"}});const{pathSegment}=ctx.query,firstStep=(null===(_purchasePageQuery$Pu=purchasePageQuery.PurchasePage)||void 0===_purchasePageQuery$Pu?void 0:_purchasePageQuery$Pu.pageData.steps[0].name)||"offers";if(null==purchasePageQuery||!purchasePageQuery.PurchasePage)return Promise.resolve({notFound:!0});const pathSegmentPrefix=pathSegment?`/${pathSegment}`:"";if(firstStep!==step||ctx.req.url&&`${pathSegmentPrefix}/${step}`!==(0,breakUrl.Z)(ctx.req.url).pathname){const asPath=ctx.req.url||`${pathSegment?`/${pathSegment}`:""}/${firstStep}`,{asPath:destination}=(0,generatePath.Z)({nextStepName:firstStep,asPath,currentQueryParams:ctx.query});return Promise.resolve({redirect:{destination,permanent:!1}})}return Promise.resolve({})}};const s_user_agent_dispenser_middleware_src=function userAgentMiddleware(_ref){let{ctx}=_ref;const userAgent=ctx.req.headers["user-agent"];if(!userAgent)throw new Error("User agent not found");return Promise.resolve({userAgent})};var src_user=__webpack_require__("../../utils/s-atoms/src/user/index.ts"),userDispenserMiddleware_console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const s_user_dispenser_middleware_src=function userDispenserMiddleware(_ref){var _ctx$req;let{ctx}=_ref;if(null===(_ctx$req=ctx.req)||void 0===_ctx$req||!_ctx$req.cookies)throw new Error("No cookies found in request");const cookie=Object.entries(ctx.req.cookies).reduce(((acc,_ref2)=>{let[key,value]=_ref2;return`${acc}${key}=${value};`}),""),user=src_user.Z.userDispenserFactory(cookie,s_consts_src.Bt);return src_user.Z.getUserWithTypes(user.isLoggedIn,ctx.req.headers.cookie||"").then((userWithTypes=>({user:src_user.Z.userDispenserFactory(cookie,userWithTypes)}))).catch((error=>(userDispenserMiddleware_console.error(error.message+1),{user})))};var lib_queryClient=__webpack_require__("../../../node_modules/.pnpm/@tanstack+query-core@4.36.1/node_modules/@tanstack/query-core/build/lib/queryClient.mjs");const getServerSidePropsFactory_excluded=["redirect","notFound"],s_pp_get_server_side_props_src=step=>async ctx=>{const queryClient=new lib_queryClient.S;if(!(null!=ctx&&ctx.req)||(null==ctx?void 0:ctx.req.url)&&(null==ctx?void 0:ctx.req.url.startsWith("/_next/data")))return{props:{}};const _await$middlewareDisp=await s_middleware_dispatcher_src({client:queryClient,ctx},{})(s_platform_dispenser_middleware_src,s_pp_payment_change_middleware_src(step),s_plant_anonymous_id_cookie_middleware_src,s_plant_auth_cookie_middleware_src,s_user_dispenser_middleware_src,s_user_agent_dispenser_middleware_src,s_pp_data_getter_middleware_src(step),s_dehydrate_client_middleware_src,s_pp_step_middleware_src(step)),{redirect,notFound=!1}=_await$middlewareDisp;return{notFound,props:(0,objectWithoutProperties.Z)(_await$middlewareDisp,getServerSidePropsFactory_excluded),redirect}};var s_pp_image_src=__webpack_require__("../../pp-atoms/s-pp-image/src/index.ts"),s_pp_title_src=__webpack_require__("../../pp-atoms/s-pp-title/src/index.ts"),s_use_one_time_src=__webpack_require__("../../hooks/s-use-one-time/src/index.ts"),dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.10_next@13.5.4_react@18.2.0/node_modules/next-router-mock/dist/index.js"),style9=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs"),PpQuickPlanChangePage_console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const c={base:{display:"gSBWlu",flexDirection:"iMkoWi",alignItems:"foGVKH",marginBottom:"ksBqjH"},image:{alignSelf:"duSHeH",display:"kQBRAp",fontSize:"cqCNZN",marginBottom:"PRFcn",marginInlineStart:"bMPiZO",marginInlineEnd:"gzedBA",transform:"kVpnfS","@media all and (min-width:64em) and (max-width:79.9375em)":{fontSize:"bvdGxH",marginTop:"ibaqWs",transform:"daTOZW"},"@media all and (min-width:80em)":{fontSize:"hAHsou",marginInlineStart:"griTvt",marginTop:"ksmwdc",transform:"hFqrzw"}},loaderWrapper:{position:"cjScYX",width:"cRUUAa",height:"cWOyyA","@media all and (min-width:37.5em)":{height:"dbDVRH"}},loader:{width:"cRUUAa",visibility:"esoNju",justifyContent:"IVbXa",fontSize:"bxSkre",position:"bEvNbr",top:"HlkMN","@media all and (min-width:37.5em)":{fontSize:"oHhtn",top:"kbSSqZ",transform:"kbpDGM"}},ppTitle:{height:"cWOyyA","@media all and (min-width:37.5em)":{height:"dbDVRH"}}},getServerSideProps=s_pp_get_server_side_props_src("quickPlanChange");function PpQuickPlanChangePage_PpQuickPlanChangePage(){const router=(0,dist.useRouter)();return(0,s_use_one_time_src.Z)((()=>{(async()=>{try{const{prodNo,saleCode,promotionNo}=router.query;if("string"!=typeof prodNo||"string"!=typeof saleCode||"string"!=typeof promotionNo)return PpQuickPlanChangePage_console.error("One of the params not a string"),router.replace("/error"),null;const selectedOffer={productNumber:+prodNo,saleCode:+saleCode,promotionNumber:+promotionNo,msPurchaseUrl:configShim.Z.get("msPurchaseUrl")},response=await(0,fetchChangePlan.Z)(selectedOffer);if((await response.json()).success){const{pathName,asPath}=(0,generatePath.Z)({nextStepName:"thankYou",asPath:router.asPath,currentQueryParams:router.query});router.replace(pathName,asPath,{shallow:!0})}else router.replace("/error")}catch(err){PpQuickPlanChangePage_console.error(err),router.replace("/error")}})()}),!0),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:(0,style9.Z)(c.base),children:[(0,jsx_runtime.jsx)("div",{className:(0,style9.Z)(c.loaderWrapper),children:(0,jsx_runtime.jsx)(s_logo_loading_indicator_src.Z,{styleExtend:[c.loader]})}),(0,jsx_runtime.jsx)(s_pp_title_src.Z,{styleExtend:[c.ppTitle],children:"בקשתך בטיפול"})]}),(0,jsx_runtime.jsx)(s_pp_image_src.Z,{styleExtend:[c.image]})]})}try{getServerSideProps.displayName="getServerSideProps",getServerSideProps.__docgenInfo={description:"",displayName:"getServerSideProps",props:{req:{defaultValue:null,description:"",name:"req",required:!0,type:{name:"IncomingMessage & { cookies: Partial<{ [key: string]: string; }>; }"}},res:{defaultValue:null,description:"",name:"res",required:!0,type:{name:"ServerResponse<IncomingMessage>"}},params:{defaultValue:null,description:"",name:"params",required:!1,type:{name:"ParsedUrlQuery | undefined"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"ParsedUrlQuery"}},preview:{defaultValue:null,description:"",name:"preview",required:!1,type:{name:"boolean | undefined"}},previewData:{defaultValue:null,description:"",name:"previewData",required:!1,type:{name:"PreviewData"}},draftMode:{defaultValue:null,description:"",name:"draftMode",required:!1,type:{name:"boolean | undefined"}},resolvedUrl:{defaultValue:null,description:"",name:"resolvedUrl",required:!0,type:{name:"string"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string | undefined"}},locales:{defaultValue:null,description:"",name:"locales",required:!1,type:{name:"string[] | undefined"}},defaultLocale:{defaultValue:null,description:"",name:"defaultLocale",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-pages/s-pp-quick-payment-change-page/src/PpQuickPlanChangePage.tsx#getServerSideProps"]={docgenInfo:getServerSideProps.__docgenInfo,name:"getServerSideProps",path:"../../pp-pages/s-pp-quick-payment-change-page/src/PpQuickPlanChangePage.tsx#getServerSideProps"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");var lib=__webpack_require__("../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"),addon_docs_dist=__webpack_require__("../../../node_modules/.pnpm/@storybook+addon-docs@7.4.6_@types+react-dom@18.2.11_@types+react@18.2.25_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-docs/dist/index.mjs");function _createMdxContent(props){const _components=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",h3:"h3"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"ppquickplanchangepage",children:"PpQuickPlanChangePage"}),"\n",(0,jsx_runtime.jsx)("br",{}),"\n","\n","\n","\n",(0,jsx_runtime.jsx)(_components.h2,{id:"installation",children:"Installation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Make sure the package you use ",(0,jsx_runtime.jsx)(_components.code,{children:"PpQuickPlanChangePage"})," in has\n",(0,jsx_runtime.jsx)(_components.code,{children:"@haaretz/s-pp-quick-payment-change-page"})," listed in its ",(0,jsx_runtime.jsx)(_components.code,{children:"package.json"}),"'s\n",(0,jsx_runtime.jsx)(_components.code,{children:"dependencies"})," field:"]})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:'// package.json\n{\n  // ...\n  "dependencies": {\n    "@haaretz/s-pp-quick-payment-change-page": "workspace:*"\n    // ...\n  }\n}\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Because internal monorepo packages are wired up using TypeScript's path aliases\nfeature in dev mode, importing ",(0,jsx_runtime.jsx)(_components.code,{children:"PpQuickPlanChangePage"})," without listing it as a\ndependency will work in dev mode, but will fail in production. There should be a\n",(0,jsx_runtime.jsx)(_components.code,{children:"import/no-unresolved"})," eslint error when trying to import it when it is not\nlisted as a dependency."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can then import it like this:"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:"import PpQuickPlanChangePage from '@haaretz/s-pp-quick-payment-change-page';\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"overview",children:"Overview"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Purchase app page for changing subscription plans"}),"\n",(0,jsx_runtime.jsx)(addon_docs_dist.Xz,{withToolbar:!0,children:(0,jsx_runtime.jsx)(addon_docs_dist.oG,{id:"purchase/pages-PpQuickPlanChangePage--overview"})}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(addon_docs_dist.$4,{story:"^"})]})}var _Overview$parameters,_Overview$parameters2;function PpQuickPlanChangePage_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function PpQuickPlanChangePage_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?PpQuickPlanChangePage_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):PpQuickPlanChangePage_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const meta={component:PpQuickPlanChangePage_PpQuickPlanChangePage,title:"Purchase/Pages/PpQuickPlanChangePage",args:{},argTypes:{},parameters:{layout:"fullscreen",docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}},decorators:[src.Z,...preview.an]},Overview=()=>(0,jsx_runtime.jsx)(PpQuickPlanChangePage_PpQuickPlanChangePage,{}),PpQuickPlanChangePage_stories=meta;Overview.parameters=PpQuickPlanChangePage_stories_objectSpread(PpQuickPlanChangePage_stories_objectSpread({},Overview.parameters),{},{docs:PpQuickPlanChangePage_stories_objectSpread(PpQuickPlanChangePage_stories_objectSpread({},null===(_Overview$parameters=Overview.parameters)||void 0===_Overview$parameters?void 0:_Overview$parameters.docs),{},{source:PpQuickPlanChangePage_stories_objectSpread({originalSource:"() => <PpQuickPlanChangePage />"},null===(_Overview$parameters2=Overview.parameters)||void 0===_Overview$parameters2||null===(_Overview$parameters2=_Overview$parameters2.docs)||void 0===_Overview$parameters2?void 0:_Overview$parameters2.source)})})},"../../ds-atoms/s-icon/src/Icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../ds-atoms/s-visually-hidden/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs"),console=__webpack_require__("../../../node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const _excluded=["a11yLabel","a11yDescription","variant","focusable","screenReaderText","icon","inlineStyle","styleExtend"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const c={base:{"--_icn-c":"hmHRXt","--_icn-c2":"hxvpkK",height:"jXmXEB",width:"hHGIsI"},inheritVariant:{"--_icn-dflt-c":"kbMSva"},brandVariant:{"--_icn-dflt-c":"fsJCwT"},brandInverseVariant:{"--_icn-dflt-c":"kgVBQo"},neutralVariant:{"--_icn-dflt-c":"jowrTv"},inverseVariant:{"--_icn-dflt-c":"edhiKO"},dangerVariant:{"--_icn-dflt-c":"iRFORO"},successVariant:{"--_icn-dflt-c":"kEwWGm"}},Icon=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((function Icon(_ref,ref){let{a11yLabel,a11yDescription,variant="inherit",focusable=!1,screenReaderText,icon,inlineStyle,styleExtend=[]}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);const hasA11yText=a11yLabel||a11yDescription,descriptionId=react__WEBPACK_IMPORTED_MODULE_2__.useId(),a11yAttrs=hasA11yText?_objectSpread({"aria-label":a11yLabel},a11yDescription?{"aria-describedby":descriptionId}:{}):{"aria-hidden":!0,role:"img"},focusAttrs=focusable&&hasA11yText?{focusable:!0}:{focusable:!1,tabIndex:-1},desc=a11yDescription?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("desc",{id:descriptionId,children:a11yDescription}):null,variantClass=`${variant}Variant`;return!focusable||a11yDescription||a11yLabel||console.error(`An "${icon}" icon is set to be focusable but has no a11y label or description\n`,'The "focusable" attribute will not be assigned'),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("svg",_objectSpread(_objectSpread(_objectSpread(_objectSpread({ref,className:(0,style9__WEBPACK_IMPORTED_MODULE_3__.Z)(c.base,c[variantClass],...styleExtend),style:inlineStyle},focusAttrs),attrs),a11yAttrs),{},{children:[desc,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("use",{xlinkHref:`#icn-${icon}`})]})),screenReaderText?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_5__.ZP,{children:screenReaderText}):null]})}));Icon.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{variant:{defaultValue:{value:"'inherit'",computed:!1},required:!1},focusable:{defaultValue:{value:"false",computed:!1},required:!1},styleExtend:{defaultValue:{value:"[]",computed:!1},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=Icon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyIcon(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Icon\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Icon styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}},icon:{defaultValue:null,description:"The icon to render",name:"icon",required:!0,type:{name:"enum",value:[{value:'"marker"'},{value:'"menu"'},{value:'"search"'},{value:'"play"'},{value:'"audio"'},{value:'"Login"'},{value:'"Logout"'},{value:'"a11y"'},{value:'"alef"'},{value:'"android"'},{value:'"apple"'},{value:'"arrow-right"'},{value:'"audio-ff"'},{value:'"audio-less"'},{value:'"audio-off"'},{value:'"audio-rw"'},{value:'"bell"'},{value:'"bookmark"'},{value:'"camera"'},{value:'"check"'},{value:'"chevron-bottom"'},{value:'"chevron-left"'},{value:'"chevron-right"'},{value:'"close"'},{value:'"comments"'},{value:'"discover"'},{value:'"dislike"'},{value:'"drive"'},{value:'"edit"'},{value:'"facebook"'},{value:'"gift"'},{value:'"hdc"'},{value:'"headphones"'},{value:'"heart"'},{value:'"hide"'},{value:'"home"'},{value:'"htz"'},{value:'"like"'},{value:'"lock"'},{value:'"m"'},{value:'"mail"'},{value:'"microphone"'},{value:'"minus"'},{value:'"most-viewed"'},{value:'"pause"'},{value:'"pdf"'},{value:'"phone"'},{value:'"playlist"'},{value:'"plus"'},{value:'"printer"'},{value:'"rss"'},{value:'"share"'},{value:'"show"'},{value:'"spotify"'},{value:'"star"'},{value:'"twitter"'},{value:'"user"'},{value:'"warn"'},{value:'"whattsup"'},{value:'"zen"'},{value:'"zoom-in"'}]}},variant:{defaultValue:{value:"inherit"},description:"The color of the icon",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"inherit"'},{value:'"brand"'},{value:'"neutral"'},{value:'"danger"'},{value:'"success"'},{value:'"inverse"'},{value:'"brandInverse"'}]}},a11yLabel:{defaultValue:null,description:"An A11Y label for the icon",name:"a11yLabel",required:!1,type:{name:"string | undefined"}},a11yDescription:{defaultValue:null,description:"An A11Y description for the icon",name:"a11yDescription",required:!1,type:{name:"string | undefined"}},focusable:{defaultValue:{value:"false"},description:"Make the icon keyboard accessible",name:"focusable",required:!1,type:{name:"boolean | undefined"}},screenReaderText:{defaultValue:null,description:"Visually hidden text for screen readers",name:"screenReaderText",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-icon/src/Icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"../../ds-atoms/s-icon/src/Icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-icon/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-icon/src/Icon.tsx").Z},"../../ds-atoms/s-logo-loading-indicator/src/LogoLoadingIndicator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>LogoLoadingIndicator});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_haaretz_s_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../ds-atoms/s-icon/src/index.ts"),_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../ds-atoms/s-visually-hidden/src/index.ts"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const c={wrapper:{color:"dHDnIz",display:"jhKQav",paddingBottom:"fxvVbr",paddingInlineEnd:"llcGuc",paddingInlineStart:"eBkqhC",paddingTop:"iivzay",position:"cjScYX",overflowX:"dUvWpK",overflowY:"hRLVFh"},placeholder:{width:"hHGIsI",height:"jXmXEB"},spinnerSvg:{height:"gdPTUr",left:"bOjOhu",position:"bEvNbr",top:"WhAZY",width:"cRUUAa",animationDuration:"jQXeCC",animationIterationCount:"kQuOcB",animationName:"GZVQz",animationTimingFunction:"jHFOea"},spinnerPath:{animationDuration:"jQXeCC",animationIterationCount:"kQuOcB",animationName:"lnkW",animationTimingFunction:"dDrDcI",fill:"rnYNS",stroke:"gYUVgM",strokeDasharray:"fbTwse",strokeDashoffset:"fwJipa",strokeLinecap:"jjWsSD",strokeWidth:"IXGqJ",transformOrigin:"hFynNp"},icon:{fontSize:"gcQrEv"}},iconName="alef";function LogoLoadingIndicator(_ref){let{hideLogo,inlineStyle,styleExtend=[]}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.wrapper,...styleExtend),style:inlineStyle,"data-testid":"logo-loading-indicator",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_haaretz_s_visually_hidden__WEBPACK_IMPORTED_MODULE_2__.ZP,{children:"טוען..."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{"aria-hidden":!0,viewBox:"0 0 66 66",className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.spinnerSvg),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.spinnerPath),cx:"33",cy:"33",r:"30"})}),hideLogo?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.placeholder)}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_haaretz_s_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{icon:iconName,styleExtend:[c.icon]})]})}try{LogoLoadingIndicator.displayName="LogoLoadingIndicator",LogoLoadingIndicator.__docgenInfo={description:"",displayName:"LogoLoadingIndicator",props:{hideLogo:{defaultValue:null,description:"Display the loading indicator without the logo",name:"hideLogo",required:!1,type:{name:"true | undefined"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyLogoLoadingIndicator(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <LogoLoadingIndicator\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<LogoLoadingIndicator styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-logo-loading-indicator/src/LogoLoadingIndicator.tsx#LogoLoadingIndicator"]={docgenInfo:LogoLoadingIndicator.__docgenInfo,name:"LogoLoadingIndicator",path:"../../ds-atoms/s-logo-loading-indicator/src/LogoLoadingIndicator.tsx#LogoLoadingIndicator"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-logo-loading-indicator/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-logo-loading-indicator/src/LogoLoadingIndicator.tsx").Z},"../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H6:()=>_VisuallyHidden,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,pL:()=>DEFAULT_ELEMENT});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js"),style9__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const _excluded=["as","children","inlineStyle","isFocusable","styleExtend"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const classNames={base:{borderTopWidth:"glXlAQ",borderRightWidth:"ejfOAg",borderBottomWidth:"imuUWK",borderLeftWidth:"jePIQM",clip:"beEFvi",clipPath:"dbEoLb",height:"ktUKSC",marginTop:"jTjNVR",marginRight:"dIYdMf",marginBottom:"jjXZbq",marginLeft:"bmFLeF",overflowX:"dUvWpK",overflowY:"hRLVFh",paddingTop:"kVZHcH",paddingRight:"dwawJR",paddingBottom:"iATxZH",paddingLeft:"jQenOz",position:"bEvNbr",width:"JkHvI",whiteSpace:"bwVBMs",wordWrap:"gOKRJN",opacity:"UXrzu"},focusable:{":active":{clip:"kuytCZ",clipPath:"fbPfaP",height:"denmys",marginTop:"jnzTFi",marginRight:"jeOFPx",marginBottom:"eGVclN",marginLeft:"laFZyU",overflowX:"dEHlfP",overflowY:"biNehD",position:"izcesL",width:"fINNBL",whiteSpace:"enUJRt",opacity:"bZiUOO"},":focus":{clip:"ftGVOL",clipPath:"hVQFuO",height:"hivugc",marginTop:"drTIif",marginRight:"ffoFcR",marginBottom:"fZAKYa",marginLeft:"cFSbZy",overflowX:"kGSnZF",overflowY:"kHnbRw",position:"dAAEuD",width:"eckYoa",whiteSpace:"hTDTat",opacity:"hFxcLz"}}},DEFAULT_ELEMENT="span",VisuallyHidden=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef((function VisuallyHidden(_ref,ref){let{as,children=null,inlineStyle,isFocusable,styleExtend=[]}=_ref,attrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);const Element=as||DEFAULT_ELEMENT;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Element,_objectSpread(_objectSpread({ref,className:(0,style9__WEBPACK_IMPORTED_MODULE_3__.Z)(classNames.base,isFocusable&&classNames.focusable,...styleExtend),style:inlineStyle},attrs),{},{children}))}));VisuallyHidden.__docgenInfo={description:"",methods:[],displayName:"VisuallyHidden",props:{children:{defaultValue:{value:"null",computed:!1},required:!1},styleExtend:{defaultValue:{value:"[]",computed:!1},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=VisuallyHidden;function _VisuallyHidden(_props){return null}try{_VisuallyHidden.displayName="_VisuallyHidden",_VisuallyHidden.__docgenInfo={description:"",displayName:"_VisuallyHidden",props:{children:{defaultValue:{value:"null"},description:"The content to hide inside `<VisuallyHidden>`",name:"children",required:!1,type:{name:"ReactNode"}},inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyVisuallyHidden(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <VisuallyHidden\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},isFocusable:{defaultValue:null,description:"Should the element become visible when focused, e.g., skip links",name:"isFocusable",required:!1,type:{name:"true | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<VisuallyHidden styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx#_VisuallyHidden"]={docgenInfo:_VisuallyHidden.__docgenInfo,name:"_VisuallyHidden",path:"../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx#_VisuallyHidden"})}catch(__react_docgen_typescript_loader_error){}},"../../ds-atoms/s-visually-hidden/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../ds-atoms/s-visually-hidden/src/VisuallyHidden.tsx").ZP},"../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ImageFragmentGql});const ImageFragmentGql="\n    fragment ImageFragment on htz_image_Image {\n  __typename\n  alt\n  caption\n  contentId\n  credit\n  files {\n    __typename\n    crops {\n      __typename\n      headline {\n        ...ImageCropFragment\n      }\n      landscape {\n        ...ImageCropFragment\n      }\n      regular {\n        ...ImageCropFragment\n      }\n      square {\n        ...ImageCropFragment\n      }\n      vertical {\n        ...ImageCropFragment\n      }\n      wide {\n        ...ImageCropFragment\n      }\n    }\n    height\n    path\n    width\n  }\n  link\n  photographer\n  type\n}\n    "},"../../graphql/s-fragments/src/__generated__/ImageCrop.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>ImageCropFragmentGql});const ImageCropFragmentGql="\n    fragment ImageCropFragment on ImageCrop {\n  __typename\n  height\n  width\n  x\n  y\n}\n    "},"../../graphql/s-lgn-queries/src/__generated__/CheckEmailExist.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cm:()=>useCheckEmailExistPersonalQuery});__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js");var useQuery=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.36.1_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),GraphqlFetcher=(__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.36.1_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs"),__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx"));const CheckEmailExistPersonalQueryDocument="\n    query CheckEmailExistPersonalQuery($email: String!, $site: Site!) {\n  user: userLogin(email: $email) {\n    ssoId: _id\n    mobilePhone\n    isPaying(site: $site)\n    termsCheck(site: $site)\n    userStatus {\n      ...UserStatusFragment\n    }\n  }\n}\n    \n    fragment UserStatusFragment on UserStatus {\n  __typename\n  isMailValidated\n  isMobileValidated\n  miniRegStatus\n  isPhoneEmailConn\n}\n    ",useCheckEmailExistPersonalQuery=(variables,options)=>(0,useQuery.a)(["CheckEmailExistPersonalQuery",variables],(0,GraphqlFetcher.Z)(CheckEmailExistPersonalQueryDocument,variables),options);useCheckEmailExistPersonalQuery.document=CheckEmailExistPersonalQueryDocument,useCheckEmailExistPersonalQuery.getKey=variables=>["CheckEmailExistPersonalQuery",variables];useCheckEmailExistPersonalQuery.fetcher=(variables,options)=>(0,GraphqlFetcher.Z)(CheckEmailExistPersonalQueryDocument,variables,options)},"../../graphql/s-pp-queries/src/__generated__/PurchasePage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RF:()=>usePurchasePagePersonalQuery});__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js");var HTZ_image_Image=__webpack_require__("../../graphql/s-fragments/src/__generated__/HTZ_image_Image.ts"),ImageCrop=__webpack_require__("../../graphql/s-fragments/src/__generated__/ImageCrop.ts");var useQuery=__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.36.1_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),GraphqlFetcher=(__webpack_require__("../../../node_modules/.pnpm/@tanstack+react-query@4.36.1_react-dom@18.2.0_react@18.2.0/node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs"),__webpack_require__("../../graphql/s-graphql-fetcher/src/GraphqlFetcher.tsx"));const PurchasePagePersonalQueryDocument=`\n    query PurchasePagePersonalQuery($couponId: String, $pathSegment: String, $selectedOfferId: String, $ticketId: String, $userId: String, $cartData: Boolean, $previousSteps: String) {\n  PurchasePage(\n    couponId: $couponId\n    pathSegment: $pathSegment\n    selectedOfferId: $selectedOfferId\n    ticketId: $ticketId\n    userId: $userId\n    cartData: $cartData\n    previousSteps: $previousSteps\n  ) {\n    pageData {\n      ...PageDataFragment\n    }\n  }\n}\n    \n    fragment PageDataFragment on PageData {\n  allSteps {\n    ...StepDataFragment\n  }\n  contentId\n  couponId\n  couponErrorMessage\n  toggleKicker {\n    ...PurchaseToggleKickerFragment\n  }\n  annual {\n    ...PurchaseOfferFragment\n  }\n  marketingBullets {\n    ...MarketingBulletFragment\n  }\n  monthly {\n    ...PurchaseOfferFragment\n  }\n  personalCouponId\n  steps {\n    ...StepDataFragment\n  }\n  specialSaleData {\n    ...SpecialSaleDataFragment\n  }\n  thankYouPageText\n  cartData {\n    ...CartDataFragment\n  }\n  image {\n    ...ImageFragment\n  }\n  selectedOffer {\n    ...PurchaseOfferFragment\n  }\n}\n    \n\n    fragment StepDataFragment on StepData {\n  __typename\n  content {\n    ...HtmlNodeFragment\n  }\n  instructions\n  messageIds\n  messages\n  name\n  title\n}\n    \n\n    fragment HtmlNodeFragment on HtmlNode {\n  __typename\n  as: tag\n  content\n  id\n}\n    \n\n    fragment PurchaseToggleKickerFragment on PurchaseToggleKicker {\n  __typename\n  billing\n  text\n}\n    \n\n    fragment PurchaseOfferFragment on PurchaseOffer {\n  __typename\n  benefits {\n    ...HtmlNodeFragment\n  }\n  benefitsHeading\n  contentId\n  description\n  exclusive\n  exclusiveStrip\n  legalText {\n    ...HtmlNodeFragment\n  }\n  line1Text {\n    ...HtmlNodeFragment\n  }\n  line2Text {\n    ...HtmlNodeFragment\n  }\n  note\n  offerHighlight\n  offerType\n  paymentType\n  periodCalc\n  prices\n  product\n  productName\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n}\n    \n\n    fragment MarketingBulletFragment on MarketingBullet {\n  __typename\n  text\n  title\n}\n    \n\n    fragment SpecialSaleDataFragment on SpecialSaleData {\n  __typename\n  exclusive\n  image {\n    ...ImageFragment\n  }\n  title\n}\n    \n${HTZ_image_Image.I}\n${ImageCrop.T}\n\n    fragment CartDataFragment on CartData {\n  approveDebtClaim\n  contentId\n  periodCalc\n  prices\n  productNumber\n  promotionNumber\n  saleCode\n  thankYouMailTemplate\n  paymentType\n  __typename\n}\n    `,usePurchasePagePersonalQuery=(variables,options)=>(0,useQuery.a)(void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables],(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables),options);usePurchasePagePersonalQuery.document=PurchasePagePersonalQueryDocument,usePurchasePagePersonalQuery.getKey=variables=>void 0===variables?["PurchasePagePersonalQuery"]:["PurchasePagePersonalQuery",variables];usePurchasePagePersonalQuery.fetcher=(variables,options)=>(0,GraphqlFetcher.Z)(PurchasePagePersonalQueryDocument,variables,options)},"../../hooks/s-use-one-time/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src});var react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const src=function useOneTime(cb,condition){const ref=(0,react.useRef)(!1);(0,react.useEffect)((()=>{let result;return!ref.current&&condition&&"function"==typeof cb&&(ref.current=!0,result=cb()),result}),[condition,cb])}},"../../middlewares/s-plant-anonymous-id-cookie-middleware/src/plantAnonymousIdCookieMiddleware.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>plantAnonymousIdCookieMiddleware,j:()=>plantAnonymousIdCookie});var getRandomInt=__webpack_require__("../../utils/s-common-utils/src/getRandomInt/index.ts"),src=__webpack_require__("../../shared/s-consts/src/index.ts");const src_generateAnonymousId=function generateAnonymousId(hostname){const salt=(0,getRandomInt.Z)(1e3,9999),now=Date.now(),expire=new Date(now+76896e5),anonymousId=`${now}${salt}`,domain=hostname||src.Kn;return{anonymousId,expire,domain,cookie:`anonymousId=${anonymousId}; path=/; Domain=.${domain}; Expires=${expire};`}};var cookieToMap=__webpack_require__("../../utils/s-cookie-utils/src/cookieToMap/index.ts");const src_setCookie=function setCookie(cookieName,value,expires){return document.cookie=`${cookieName}=${value}; path=/; domain=.${src.Kn}; expires=${expires};`,(0,cookieToMap.Z)(document.cookie,!0)[cookieName]};function plantAnonymousIdCookieMiddleware(_ref){var _ctx$req$cookies,_ctx$res;let{ctx}=_ref;if(!(ctx.req.headers.anonymousid||ctx.req.headers.anonymousId||(null===(_ctx$req$cookies=ctx.req.cookies)||void 0===_ctx$req$cookies?void 0:_ctx$req$cookies.anonymousId))&&"function"==typeof(null===(_ctx$res=ctx.res)||void 0===_ctx$res?void 0:_ctx$res.setHeader)){var _ctx$res2;const{anonymousId:newAnonymousId,cookie}=src_generateAnonymousId();ctx.req.cookies.anonymousId=newAnonymousId,null===(_ctx$res2=ctx.res)||void 0===_ctx$res2||_ctx$res2.setHeader("Set-Cookie",cookie)}return Promise.resolve({})}function plantAnonymousIdCookie(){const{anonymousId:newAnonymousId,expire}=src_generateAnonymousId();return src_setCookie("anonymousId",newAnonymousId,expire)}},"../../pp-atoms/s-pp-image/src/PpImage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PpImage});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const c={base:{height:"jXmXEB",width:"fCehYP",pointerEvents:"eDssNQ"}};function PpImage(_ref){let{inlineStyle,styleExtend=[]}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.base,...styleExtend),style:inlineStyle,focusable:!1,tabIndex:-1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("use",{xlinkHref:"#promotion-img"})})}try{PpImage.displayName="PpImage",PpImage.__docgenInfo={description:"",displayName:"PpImage",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyPpImage(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <PpImage\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<PpImage styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-image/src/PpImage.tsx#PpImage"]={docgenInfo:PpImage.__docgenInfo,name:"PpImage",path:"../../pp-atoms/s-pp-image/src/PpImage.tsx#PpImage"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-image/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-atoms/s-pp-image/src/PpImage.tsx").Z},"../../pp-atoms/s-pp-title/src/PageTitle.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageTitle});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),style9__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/style9@0.18.2_rollup@2.79.1_webpack@5.88.2/node_modules/style9/index.mjs");const c={base:{color:"gjYftY",fontWeight:"iLdtFu",textAlign:"kooHYa",fontFamily:"cGpNyn",marginInlineEnd:"gzedBA",marginInlineStart:"bMPiZO",fontSize:"dGDAum",lineHeight:"dRpeUM","@media all and (max-width:37.4375em)":{maxWidth:"hoQPzd"},"@media all and (min-width:80em) and (max-width:101.9375em)":{fontSize:"dZvUak",lineHeight:"bynegB"}}};function PageTitle(_ref){let{children,styleExtend=[],inlineStyle}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:(0,style9__WEBPACK_IMPORTED_MODULE_1__.Z)(c.base,...styleExtend),style:inlineStyle,"data-testid":"pp-title",children})}try{PageTitle.displayName="PageTitle",PageTitle.__docgenInfo={description:"",displayName:"PageTitle",props:{inlineStyle:{defaultValue:null,description:"CSS declarations to be set as inline `style` on the\nhtml element.\n\nBy setting values of CSS Custom Properties based on\nprops or state in the consuming component (where\nthe value of `inlineStyle` is passed), `inlineStyle`\ncan be used as an API contract for setting dynamic\nvalues to styles created with `style9.create()`:\n@example ```ts\nimport s9 from 'style9';\nconst { styleExtend, } = s9.create({\n  styleExtend: {\n    color: 'var(--color-based-on-prop)',\n  },\n});\n\nfunction MyButton(props) {\n  const inlineStyle = {\n    '--color-based-on-prop': props.color,\n  },\n\n  return (\n   <Button\n     styleExtend={[ styleExtend, ]}\n     inlineStyle={inlineStyle}\n   />\n  );\n}\n```",name:"inlineStyle",required:!1,type:{name:"InlineStyles | undefined"}},styleExtend:{defaultValue:{value:"[]"},description:"An array of `Style`s created by `style9.create()`.\nWARNING: **_do not_** pass simple CSS-in-JS object.\nThe items in the array must be created with Style9's\n`create` function.\nThe array can also hold falsy values to assist with\nconditional inclusion of `Style`s:\n@example ```ts\nconst { foo, bar, } = s9.create({ foo: { ... }, bar: { ... }, });\n<Button styleExtend={[ someCondition && foo, bar, ]} />\n```",name:"styleExtend",required:!1,type:{name:"StyleExtend | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../pp-atoms/s-pp-title/src/PageTitle.tsx#PageTitle"]={docgenInfo:PageTitle.__docgenInfo,name:"PageTitle",path:"../../pp-atoms/s-pp-title/src/PageTitle.tsx#PageTitle"})}catch(__react_docgen_typescript_loader_error){}},"../../pp-atoms/s-pp-title/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../pp-atoms/s-pp-title/src/PageTitle.tsx").Z},"../../pp-hooks/s-use-pp-data-variables/src/usePPDataVariables.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>usePPDataVariables,a:()=>getPpDataVariableFromContext});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),user=__webpack_require__("../../utils/s-atoms/src/user/index.ts");const src_discardFields=(object,discard)=>{const result={};for(const key in object)discard.includes(key)||(result[key]=object[key]);return result};var discardNullableValues=__webpack_require__("../../utils/s-common-utils/src/discardNullableValues/index.ts"),isAbandonedCartRoute=__webpack_require__("../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts"),usePPDataStore=__webpack_require__("../../pp-hooks/s-use-pp-data-store/src/usePPDataStore.tsx"),usePPStepsOffsetStore=__webpack_require__("../../pp-hooks/s-use-pp-offset-steps-store/src/usePPStepsOffsetStore.tsx"),dist=__webpack_require__("../../../node_modules/.pnpm/next-router-mock@0.9.10_next@13.5.4_react@18.2.0/node_modules/next-router-mock/dist/index.js"),react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function getVariabelFromQuery(query,isLoggedIn){return{pathSegment:query.pathSegment,cartData:isLoggedIn&&(0,isAbandonedCartRoute.Z)(query),previousSteps:""}}function getPpDataVariableFromContext(ctx,isLoggedIn){return(0,discardNullableValues.Z)(getVariabelFromQuery(ctx.query,isLoggedIn))}const usePPDataVariables=function usePpDataVariables(excludeValues){const router=(0,dist.useRouter)(),{contentId}=(0,usePPDataStore.JV)(),couponId=(0,usePPDataStore.vA)(),offsetSteps=(0,usePPStepsOffsetStore.np)(),[userData]=(0,user.Z)(),previousSteps=offsetSteps.join(","),variabelFromQuery=react.useMemo((()=>getVariabelFromQuery(router.query,userData.isLoggedIn||!1)),[router.query,null==userData?void 0:userData.isLoggedIn]);return react.useMemo((()=>(0,discardNullableValues.Z)(src_discardFields(_objectSpread(_objectSpread({},variabelFromQuery),{},{selectedOfferId:null!=userData&&userData.isLoggedIn?contentId:void 0,couponId,previousSteps:variabelFromQuery.previousSteps||previousSteps}),excludeValues||[]))),[contentId,couponId,excludeValues,previousSteps,null==userData?void 0:userData.isLoggedIn,variabelFromQuery])}},"../../pp-hooks/s-use-pp-message/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>s_use_pp_message_src});var src_cookie=__webpack_require__("../../utils/s-atoms/src/cookie/index.ts"),src=__webpack_require__("../../shared/s-consts/src/index.ts");const src_clearCookie=function clearCookie(cookieName){document.cookie=`${cookieName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${src.Kn};`};var react=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const defaultMessage={messageType:"",title:"",instructions:"",action:0,ctaType:"link",cta:"חזרה לדף הבית",link:"https://www.haaretz.co.il"};function usePPMessage(){const[cookie]=(0,src_cookie.Z)(),ppMessage=cookie.ppResponseMessage;return react.useEffect((()=>{ppMessage&&src_clearCookie("promotions-response-message")}),[ppMessage]),ppMessage||defaultMessage}usePPMessage.cookieName="promotions-response-message";const s_use_pp_message_src=usePPMessage},"../../pp-utils/s-pp-build-promotions-link/src/fetchChangePlan/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_fetchChangePlan});var getPurchaseServiceLink=__webpack_require__("../../pp-utils/s-pp-build-promotions-link/src/getPurchaseServiceLink/index.ts");const getChangePlanLink=function getIFrameLink(_ref){let{msPurchaseUrl,productNumber,promotionNumber,saleCode}=_ref;const searchParams=new URLSearchParams({saleCode:`${saleCode}`,productId:`${productNumber}`,promotionNo:`${promotionNumber}`});return(0,getPurchaseServiceLink.Z)({msPurchaseUrl,searchParams,endpoint:"changePlan"})};const src_fetchChangePlan=function fetchChangePlan(props){const changePlanLink=getChangePlanLink(props),headers=new Headers({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"});return fetch(changePlanLink,{method:"GET",credentials:"include",headers})}},"../../pp-utils/s-pp-build-promotions-link/src/getPurchaseServiceLink/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_getPurchaseServiceLink});const src_getPurchaseServiceLink=function getPurchaseServiceLink(_ref){let{endpoint,msPurchaseUrl,searchParams}=_ref;if(!msPurchaseUrl)throw new Error("A URL for the purchase microservice is required");return`${msPurchaseUrl}/${endpoint}?${searchParams.toString()}`}},"../../pp-utils/s-pp-routing-utils/src/generatePath/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_generatePath});var defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const src_generatePath=function generatePath(_ref){let{nextStepName,asPath,searchParams,currentQueryParams,ignoreCurrentSearchParams=!1,extendQueryParams={}}=_ref;const[,queryPartFromPath]=asPath.split(/\?(.+)/),extendSearchParams=null==searchParams?void 0:searchParams.toString(),segmentPath=currentQueryParams.pathSegment?`/${currentQueryParams.pathSegment}`:"";return{asPath:`${segmentPath}/${nextStepName}${queryPartFromPath&&!ignoreCurrentSearchParams?`?${queryPartFromPath}${extendSearchParams?`&${extendSearchParams}`:""}`:extendSearchParams?`?${extendSearchParams}`:""}`,pathName:{pathname:`${segmentPath}/${nextStepName}`,query:_objectSpread(_objectSpread({},currentQueryParams),extendQueryParams)}}}},"../../pp-utils/s-pp-routing-utils/src/isAbandonedCartRoute/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isAbandonedCartRoute});const src_isAbandonedCartRoute=function isAbandonedCartRoute(query){return"preference"in query}},"../../pp-utils/s-pp-routing-utils/src/isThankYouStep/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_isThankYouStep});const src_isThankYouStep=function isThankYouStep(step){return"thankYou"===step||"validSubscription"===step||"specialSubscription"===step||"changeSuccess"===step}},"../../utils/s-atoms/src/cookie/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>cookie});var _window,cookieToMap=__webpack_require__("../../utils/s-cookie-utils/src/cookieToMap/index.ts"),vanilla=__webpack_require__("../../../node_modules/.pnpm/jotai@2.4.3_@types+react@18.2.25_react@18.2.0/node_modules/jotai/esm/vanilla.mjs"),react=__webpack_require__("../../../node_modules/.pnpm/jotai@2.4.3_@types+react@18.2.25_react@18.2.0/node_modules/jotai/esm/react.mjs");const baseCookieAtom=(0,vanilla.cn)({});baseCookieAtom.debugPrivate=!0;const cookieAtom=(0,vanilla.cn)((get=>get(baseCookieAtom)),((_get,set,action)=>{set(baseCookieAtom,cookieDispenserFactory("undefined"==typeof window?action:document.cookie))}));function cookieDispenserFactory(cookie){const cookieMap=(0,cookieToMap.Z)(cookie,!0),{ppResponseMessage,userDetails}=cookieMap;return{ppResponseMessage,userDetails}}function useCookie(){return(0,react.KO)(cookieAtom)}cookieAtom.debugLabel="cookie","undefined"==typeof window||null!==(_window=window)&&void 0!==_window&&null!==(_window=_window.__NEXT_DATA__)&&void 0!==_window&&null!==(_window=_window.props)&&void 0!==_window&&null!==(_window=_window.pageProps)&&void 0!==_window&&_window.cookie||(cookieAtom.onMount=setAtom=>{setAtom(document.cookie)}),useCookie.cookieDispenserFactory=cookieDispenserFactory;const cookie=useCookie},"../../utils/s-common-utils/src/getRandomInt/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_getRandomInt});const src_getRandomInt=function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}},"../../utils/s-validators/src/emailValidator/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_emailValidator});const src_emailValidator=function emailValidator(email){return email?/\S+@\S+\.\S+/.test(email)?email.length>64?{valid:!1,text:"תווים 64 יש להזין אימייל מעלה"}:{valid:!0,text:"אנא הזינו אימייל"}:{valid:!1,text:"יש להזין אימייל תקין"}:{valid:!1,text:"אנא הזינו אימייל"}}}}]);