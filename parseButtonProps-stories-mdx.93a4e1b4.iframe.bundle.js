"use strict";(self.webpackChunk_haaretz_a_tm_sg=self.webpackChunk_haaretz_a_tm_sg||[]).push([[2196],{"../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"../../utils/s-parse-button-props/src/parseButtonProps.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__page:()=>__page,default:()=>parseButtonProps_stories});__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js");var lib=__webpack_require__("../../../node_modules/.pnpm/@mdx-js+react@2.3.0_react@18.2.0/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("../../../node_modules/.pnpm/@storybook+addon-docs@7.4.6_@types+react-dom@18.2.11_@types+react@18.2.25_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-docs/dist/index.mjs"),parseButtonProps=__webpack_require__("../../utils/s-parse-button-props/src/parseButtonProps.ts"),jsx_runtime=__webpack_require__("../../../node_modules/.pnpm/next@13.5.4_@babel+core@7.22.10_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js");function ButtonProps(_ref){let{as,state="auto"}=_ref;const live="busy"===state?"assertive":"off";return(0,jsx_runtime.jsx)("div",{"aria-live":live,"data-element-type":as})}const StoryDemo=ButtonProps;try{ButtonProps.displayName="ButtonProps",ButtonProps.__docgenInfo={description:"",displayName:"ButtonProps",props:{as:{defaultValue:null,description:"The type of element or component to render the Button as\n@defaultValue 'button'",name:"as",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"button"'},{value:'"link"'},{value:'"a"'},{value:'"Link"'}]}},state:{defaultValue:{value:"auto"},description:"Indicates the current state of the button and affects various A11Y-related attributes\n@defaultValue 'auto'",name:"state",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"disabled"'},{value:'"auto"'},{value:'"busy"'}]}},isPressed:{defaultValue:null,description:"Indicates an on-off dual state, (similar to a toggle button)\ne.g., a `follow author`, the state of which needs to be conveyed\nto screen readers using the `aria-pressed` attribute\n@defaultValue undefined",name:"isPressed",required:!1,type:{name:"boolean | undefined"}},type:{defaultValue:null,description:"The value of  button's type attribute. Ignored when `as` is not `button.`",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},style:{defaultValue:null,description:"Inline styles to pass to the underlying component. Will be augmented for A11Y",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../utils/s-parse-button-props/src/StoryDemo.tsx#ButtonProps"]={docgenInfo:ButtonProps.__docgenInfo,name:"ButtonProps",path:"../../utils/s-parse-button-props/src/StoryDemo.tsx#ButtonProps"})}catch(__react_docgen_typescript_loader_error){}function _createMdxContent(props){const _components=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",pre:"pre",h3:"h3"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"parsebuttonprops",children:"parseButtonProps"}),"\n",(0,jsx_runtime.jsx)("br",{}),"\n","\n","\n",(0,jsx_runtime.jsx)(dist.h_,{component:StoryDemo,title:"Utils/parseButtonProps",argTypes:{as:{control:!1,table:{defaultValue:{summary:parseButtonProps.pL}}}}}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"installation",children:"Installation"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsxs)(_components.strong,{children:["Make sure the package you use ",(0,jsx_runtime.jsx)(_components.code,{children:"parseButtonProps"})," has\n",(0,jsx_runtime.jsx)(_components.code,{children:"@haaretz/s-parse-button-props"})," listed in its ",(0,jsx_runtime.jsx)(_components.code,{children:"package.json"}),"'s ",(0,jsx_runtime.jsx)(_components.code,{children:"dependencies"}),"\nfield:"]})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:'// package.json\n{\n  // ...\n  "dependencies": {\n    "@haaretz/s-parse-button-props": "workspace:*"\n    // ...\n  }\n}\n'})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Because internal monorepo packages are wired up using TypeScript's path aliases\nfeature in dev mode, importing ",(0,jsx_runtime.jsx)(_components.code,{children:"parseButtonProps"})," without listing it as a\ndependency will work in dev mode, but will fail in production. There should be a\n",(0,jsx_runtime.jsx)(_components.code,{children:"import/no-unresolved"})," eslint error when trying to import it when it is not\nlisted as a dependency."]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can then import it like this:"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-js",children:"import parseButtonProps from '@haaretz/s-parse-button-props';\n"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"overview",children:"Overview"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"A utility function that takes props shared by all button and button-like\ncomponents, handles mutual A11Y concerns and returns an HTML attributes object\nto assign to the underlying HTML element in button components."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{story:"^"}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["In the following example, we create a styled ",(0,jsx_runtime.jsx)(_components.code,{children:"<Button />"})," component:"]}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-tsx",children:"import * as React from 'react';\nimport parseButtonProps from '@haaretz/s-parse-button-props';\n\nimport type { ButtonA11yProps } from '@haaretz/s-parse-button-props';\n\ninterface Props extends ButtonBaseProps {\n  variant: 'brand' | 'negative' | 'positive';\n  children?: React.ReactNode;\n}\n\nfunction Button({ variant, state = 'auto', isPressed, type, style}: Props) {\n  const attrs = parseButtonProps({ as: 'button', state, isPressed, type, style, });\n  const buttonStyle = doStuffWithVariantAndState(variant, state, attrs.style);\n\n  return <button style={buttonStyle} {...attrs}>;\n}\n"})})]})}const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Utils/parseButtonProps",component:StoryDemo,argTypes:{as:{control:!1,table:{defaultValue:{summary:parseButtonProps.pL}}}},tags:["stories-mdx"],includeStories:["__page"]};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}};const parseButtonProps_stories=componentMeta},"../../utils/s-parse-button-props/src/parseButtonProps.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,pL:()=>DEFAULT_ELEMENT});var _home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");const _excluded=["as","state","isPressed"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const noPointerEvents={pointerEvents:"none"},DEFAULT_ELEMENT="button";const __WEBPACK_DEFAULT_EXPORT__=function parseButtonProps(props){const{as=DEFAULT_ELEMENT,state="auto",isPressed}=props,sharedAttrs=(0,_home_runner_work_fe_fe_node_modules_pnpm_babel_runtime_7_22_10_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(props,_excluded);if(sharedAttrs["aria-live"]="off","busy"!==state&&null==isPressed||(sharedAttrs["aria-live"]="assertive","busy"===state&&(sharedAttrs["aria-disabled"]="true")),["disabled","busy"].includes(state)&&(sharedAttrs.onClick=makeElementInert,sharedAttrs.onMouseDown=makeElementInert,sharedAttrs.onMouseUp=makeElementInert),null!=isPressed&&(sharedAttrs["aria-pressed"]=isPressed),"button"===as){const attrs=sharedAttrs;return attrs.type&&["submit","reset","button"].includes(attrs.type)||(attrs.type="button"),"disabled"===state&&(attrs.disabled=!0),attrs}delete sharedAttrs.type;const attrs=sharedAttrs;return"disabled"===state&&(attrs.tabIndex=-1,attrs.style=attrs.style?_objectSpread(_objectSpread({},attrs.style),noPointerEvents):noPointerEvents),attrs};function makeElementInert(evt){evt.preventDefault(),evt.stopPropagation(),"nativeEvent"in evt&&evt.nativeEvent.stopImmediatePropagation()}}}]);